/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.keys(envPathObject);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const resolveSecrets = async (paths) => {        const response = await actualSsmClient.getParameters({            Names: paths,            WithDecryption: true,        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name);                    const envName = envKey                        ? envPathObject[envKey].name                        : envPathObject[parameter.Name]?.name;                    process.env[envName] = parameter.Value;                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => envPathObject[invalidParam].sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(() => {    void internalAmplifyFunctionResolveSsmParams();}, SSM_PARAMETER_REFRESH_MS);export {};
var Fk=Object.create;var bi=Object.defineProperty;var Dk=Object.getOwnPropertyDescriptor;var kk=Object.getOwnPropertyNames;var Mk=Object.getPrototypeOf,Lk=Object.prototype.hasOwnProperty;var S=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$r=(e,t)=>{for(var r in t)bi(e,r,{get:t[r],enumerable:!0})},e_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kk(t))!Lk.call(e,o)&&o!==r&&bi(e,o,{get:()=>t[o],enumerable:!(n=Dk(t,o))||n.enumerable});return e};var K=(e,t,r)=>(r=e!=null?Fk(Mk(e)):{},e_(t||!e||!e.__esModule?bi(r,"default",{value:e,enumerable:!0}):r,e)),N=e=>e_(bi({},"__esModule",{value:!0}),e);import{createRequire as qk}from"node:module";import Uk from"node:path";import jk from"node:url";var l=x(()=>{global.require=qk(import.meta.url);global.__filename=jk.fileURLToPath(import.meta.url);global.__dirname=Uk.dirname(__filename)});var Y=m((Ase,l_)=>{l();var Pi=Object.defineProperty,Hk=Object.getOwnPropertyDescriptor,Bk=Object.getOwnPropertyNames,$k=Object.prototype.hasOwnProperty,xi=(e,t)=>Pi(e,"name",{value:t,configurable:!0}),Gk=(e,t)=>{for(var r in t)Pi(e,r,{get:t[r],enumerable:!0})},Vk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bk(t))!$k.call(e,o)&&o!==r&&Pi(e,o,{get:()=>t[o],enumerable:!(n=Hk(t,o))||n.enumerable});return e},Wk=e=>Vk(Pi({},"__esModule",{value:!0}),e),t_={};Gk(t_,{AlgorithmId:()=>i_,EndpointURLScheme:()=>o_,FieldPosition:()=>s_,HttpApiKeyAuthLocation:()=>n_,HttpAuthLocation:()=>r_,IniSectionType:()=>a_,RequestHandlerProtocol:()=>c_,SMITHY_CONTEXT_KEY:()=>Xk,getDefaultClientConfiguration:()=>Jk,resolveDefaultRuntimeConfig:()=>Yk});l_.exports=Wk(t_);var r_=(e=>(e.HEADER="header",e.QUERY="query",e))(r_||{}),n_=(e=>(e.HEADER="header",e.QUERY="query",e))(n_||{}),o_=(e=>(e.HTTP="http",e.HTTPS="https",e))(o_||{}),i_=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(i_||{}),zk=xi(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),Kk=xi(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Jk=xi(e=>({...zk(e)}),"getDefaultClientConfiguration"),Yk=xi(e=>({...Kk(e)}),"resolveDefaultRuntimeConfig"),s_=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(s_||{}),Xk="__smithy_context",a_=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(a_||{}),c_=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(c_||{})});var J=m((Dse,h_)=>{l();var Ri=Object.defineProperty,Qk=Object.getOwnPropertyDescriptor,Zk=Object.getOwnPropertyNames,eM=Object.prototype.hasOwnProperty,Bt=(e,t)=>Ri(e,"name",{value:t,configurable:!0}),tM=(e,t)=>{for(var r in t)Ri(e,r,{get:t[r],enumerable:!0})},rM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zk(t))!eM.call(e,o)&&o!==r&&Ri(e,o,{get:()=>t[o],enumerable:!(n=Qk(t,o))||n.enumerable});return e},nM=e=>rM(Ri({},"__esModule",{value:!0}),e),d_={};tM(d_,{Field:()=>sM,Fields:()=>aM,HttpRequest:()=>cM,HttpResponse:()=>lM,IHttpRequest:()=>u_.HttpRequest,getHttpHandlerExtensionConfiguration:()=>oM,isValidHostname:()=>v_,resolveHttpHandlerRuntimeConfig:()=>iM});h_.exports=nM(d_);var oM=Bt(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),iM=Bt(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),u_=Y(),p_=class{constructor({name:t,kind:r=u_.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};Bt(p_,"Field");var sM=p_,f_=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};Bt(f_,"Fields");var aM=f_,m_=class yd{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new yd({...t,headers:{...t.headers}});return r.query&&(r.query=g_(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return yd.clone(this)}};Bt(m_,"HttpRequest");var cM=m_;function g_(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Bt(g_,"cloneQuery");var __=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};Bt(__,"HttpResponse");var lM=__;function v_(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Bt(v_,"isValidHostname")});var no=m((Mse,w_)=>{"use strict";l();var Ai=Object.defineProperty,dM=Object.getOwnPropertyDescriptor,uM=Object.getOwnPropertyNames,pM=Object.prototype.hasOwnProperty,Sd=(e,t)=>Ai(e,"name",{value:t,configurable:!0}),fM=(e,t)=>{for(var r in t)Ai(e,r,{get:t[r],enumerable:!0})},mM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uM(t))!pM.call(e,o)&&o!==r&&Ai(e,o,{get:()=>t[o],enumerable:!(n=dM(t,o))||n.enumerable});return e},gM=e=>mM(Ai({},"__esModule",{value:!0}),e),y_={};fM(y_,{getHostHeaderPlugin:()=>vM,hostHeaderMiddleware:()=>E_,hostHeaderMiddlewareOptions:()=>C_,resolveHostHeaderConfig:()=>S_});w_.exports=gM(y_);var _M=J();function S_(e){return e}Sd(S_,"resolveHostHeaderConfig");var E_=Sd(e=>t=>async r=>{if(!_M.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),C_={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},vM=Sd(e=>({applyToStack:t=>{t.add(E_(e),C_)}}),"getHostHeaderPlugin")});var oo=m((qse,R_)=>{"use strict";l();var Ii=Object.defineProperty,hM=Object.getOwnPropertyDescriptor,yM=Object.getOwnPropertyNames,SM=Object.prototype.hasOwnProperty,O_=(e,t)=>Ii(e,"name",{value:t,configurable:!0}),EM=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},CM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yM(t))!SM.call(e,o)&&o!==r&&Ii(e,o,{get:()=>t[o],enumerable:!(n=hM(t,o))||n.enumerable});return e},wM=e=>CM(Ii({},"__esModule",{value:!0}),e),b_={};EM(b_,{getLoggerPlugin:()=>OM,loggerMiddleware:()=>P_,loggerMiddlewareOptions:()=>x_});R_.exports=wM(b_);var P_=O_(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:a,commandName:s,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:p}=d,_=u??t.inputFilterSensitiveLog,v=p??t.outputFilterSensitiveLog,{$metadata:y,...w}=i.output;return(n=c?.info)==null||n.call(c,{clientName:a,commandName:s,input:_(r.input),output:v(w),metadata:y}),i}catch(i){let{clientName:a,commandName:s,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u}=d,p=u??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:a,commandName:s,input:p(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),x_={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},OM=O_(e=>({applyToStack:t=>{t.add(P_(),x_)}}),"getLoggerPlugin")});var io=m((jse,F_)=>{"use strict";l();var Ti=Object.defineProperty,bM=Object.getOwnPropertyDescriptor,PM=Object.getOwnPropertyNames,xM=Object.prototype.hasOwnProperty,Ed=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),RM=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},AM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PM(t))!xM.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=bM(t,o))||n.enumerable});return e},IM=e=>AM(Ti({},"__esModule",{value:!0}),e),I_={};RM(I_,{addRecursionDetectionMiddlewareOptions:()=>N_,getRecursionDetectionPlugin:()=>DM,recursionDetectionMiddleware:()=>T_});F_.exports=IM(I_);var TM=J(),A_="X-Amzn-Trace-Id",NM="AWS_LAMBDA_FUNCTION_NAME",FM="_X_AMZN_TRACE_ID",T_=Ed(e=>t=>async r=>{let{request:n}=r;if(!TM.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(A_))return t(r);let o=process.env[NM],i=process.env[FM],a=Ed(s=>typeof s=="string"&&s.length>0,"nonEmptyString");return a(o)&&a(i)&&(n.headers[A_]=i),t({...r,request:n})},"recursionDetectionMiddleware"),N_={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},DM=Ed(e=>({applyToStack:t=>{t.add(T_(e),N_)}}),"getRecursionDetectionPlugin")});var Cd,kM,D_=x(()=>{l();Cd=K(Y()),kM=e=>e[Cd.SMITHY_CONTEXT_KEY]||(e[Cd.SMITHY_CONTEXT_KEY]={})});var Qe=m((Gse,q_)=>{l();var Ni=Object.defineProperty,MM=Object.getOwnPropertyDescriptor,LM=Object.getOwnPropertyNames,qM=Object.prototype.hasOwnProperty,M_=(e,t)=>Ni(e,"name",{value:t,configurable:!0}),UM=(e,t)=>{for(var r in t)Ni(e,r,{get:t[r],enumerable:!0})},jM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LM(t))!qM.call(e,o)&&o!==r&&Ni(e,o,{get:()=>t[o],enumerable:!(n=MM(t,o))||n.enumerable});return e},HM=e=>jM(Ni({},"__esModule",{value:!0}),e),L_={};UM(L_,{getSmithyContext:()=>BM,normalizeProvider:()=>$M});q_.exports=HM(L_);var k_=Y(),BM=M_(e=>e[k_.SMITHY_CONTEXT_KEY]||(e[k_.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),$M=M_(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});function GM(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Wse,U_,so,Fi=x(()=>{l();Wse=K(Y()),U_=K(Qe());so=(e,t)=>(r,n)=>async o=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=GM(e.httpAuthSchemes),s=(0,U_.getSmithyContext)(n),c=[];for(let d of i){let u=a.get(d.schemeId);if(!u){c.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let p=u.identityProvider(await t.identityProviderConfigProvider(e));if(!p){c.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:v={}}=d.propertiesExtractor?.(e,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},_),d.signingProperties=Object.assign(d.signingProperties||{},v),s.selectedHttpAuthScheme={httpAuthOption:d,identity:await p(d.identityProperties),signer:u.signer};break}if(!s.selectedHttpAuthScheme)throw new Error(c.join(`
`));return r(o)}});var j_,VM,H_=x(()=>{l();Fi();j_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},VM=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(so(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),j_)}})});var mr=m((Zse,K_)=>{l();var Di=Object.defineProperty,WM=Object.getOwnPropertyDescriptor,zM=Object.getOwnPropertyNames,KM=Object.prototype.hasOwnProperty,wd=(e,t)=>Di(e,"name",{value:t,configurable:!0}),JM=(e,t)=>{for(var r in t)Di(e,r,{get:t[r],enumerable:!0})},YM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zM(t))!KM.call(e,o)&&o!==r&&Di(e,o,{get:()=>t[o],enumerable:!(n=WM(t,o))||n.enumerable});return e},XM=e=>YM(Di({},"__esModule",{value:!0}),e),B_={};JM(B_,{deserializerMiddleware:()=>$_,deserializerMiddlewareOption:()=>V_,getSerdePlugin:()=>z_,serializerMiddleware:()=>G_,serializerMiddlewareOption:()=>W_});K_.exports=XM(B_);var $_=wd((e,t)=>r=>async n=>{let{response:o}=await r(n);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},"deserializerMiddleware"),G_=wd((e,t)=>(r,n)=>async o=>{var i;let a=(i=n.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let s=await t(o.input,{...e,endpoint:a});return r({...o,request:s})},"serializerMiddleware"),V_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},W_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function z_(e,t,r){return{applyToStack:n=>{n.add($_(e,r),V_),n.add(G_(e,t),W_)}}}wd(z_,"getSerdePlugin")});var J_,Y_,QM,X_=x(()=>{l();J_=K(mr());Fi();Y_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:J_.serializerMiddlewareOption.name},QM=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(so(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Y_)}})});var Q_=x(()=>{l();Fi();H_();X_()});var Z_,lae,ev,ZM,e1,Od,bd=x(()=>{l();Z_=K(J()),lae=K(Y()),ev=K(Qe()),ZM=e=>t=>{throw t},e1=(e,t)=>{},Od=e=>(t,r)=>async n=>{if(!Z_.HttpRequest.isInstance(n.request))return t(n);let i=(0,ev.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:s,signer:c}=i,d=await t({...n,request:await c.sign(n.request,s,a)}).catch((c.errorHandler||ZM)(a));return(c.successHandler||e1)(d.response,a),d}});var tv,t1,rv=x(()=>{l();bd();tv={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},t1=e=>({applyToStack:t=>{t.addRelativeTo(Od(e),tv)}})});var nv=x(()=>{l();bd();rv()});var $t,ov=x(()=>{l();$t=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function iv(e,t,r,n,o){return async function*(a,s,...c){let d=a.startingToken||void 0,u=!0,p;for(;u;){if(s[r]=d,o&&(s[o]=s[o]??a.pageSize),a.client instanceof e)p=await r1(t,a.client,s,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let _=d;d=n1(p,n),u=!!(d&&(!a.stopOnSameToken||d!==_))}return void 0}}var r1,n1,sv=x(()=>{l();r1=async(e,t,r,...n)=>await t.send(new e(r),...n);n1=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Pd=m((Oae,cv)=>{l();var ki=Object.defineProperty,o1=Object.getOwnPropertyDescriptor,i1=Object.getOwnPropertyNames,s1=Object.prototype.hasOwnProperty,a1=(e,t)=>ki(e,"name",{value:t,configurable:!0}),c1=(e,t)=>{for(var r in t)ki(e,r,{get:t[r],enumerable:!0})},l1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i1(t))!s1.call(e,o)&&o!==r&&ki(e,o,{get:()=>t[o],enumerable:!(n=o1(t,o))||n.enumerable});return e},d1=e=>l1(ki({},"__esModule",{value:!0}),e),av={};c1(av,{isArrayBuffer:()=>u1});cv.exports=d1(av);var u1=a1(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Gr=m((Pae,uv)=>{l();var Mi=Object.defineProperty,p1=Object.getOwnPropertyDescriptor,f1=Object.getOwnPropertyNames,m1=Object.prototype.hasOwnProperty,lv=(e,t)=>Mi(e,"name",{value:t,configurable:!0}),g1=(e,t)=>{for(var r in t)Mi(e,r,{get:t[r],enumerable:!0})},_1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of f1(t))!m1.call(e,o)&&o!==r&&Mi(e,o,{get:()=>t[o],enumerable:!(n=p1(t,o))||n.enumerable});return e},v1=e=>_1(Mi({},"__esModule",{value:!0}),e),dv={};g1(dv,{fromArrayBuffer:()=>y1,fromString:()=>S1});uv.exports=v1(dv);var h1=Pd(),xd=S("buffer"),y1=lv((e,t=0,r=e.byteLength-t)=>{if(!(0,h1.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return xd.Buffer.from(e,t,r)},"fromArrayBuffer"),S1=lv((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?xd.Buffer.from(e,t):xd.Buffer.from(e)},"fromString")});var pv=m(Li=>{"use strict";l();Object.defineProperty(Li,"__esModule",{value:!0});Li.fromBase64=void 0;var E1=Gr(),C1=/^[A-Za-z0-9+/]*={0,2}$/,w1=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!C1.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,E1.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Li.fromBase64=w1});var Ce=m((Iae,_v)=>{l();var qi=Object.defineProperty,O1=Object.getOwnPropertyDescriptor,b1=Object.getOwnPropertyNames,P1=Object.prototype.hasOwnProperty,Rd=(e,t)=>qi(e,"name",{value:t,configurable:!0}),x1=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},R1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b1(t))!P1.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=O1(t,o))||n.enumerable});return e},A1=e=>R1(qi({},"__esModule",{value:!0}),e),fv={};x1(fv,{fromUtf8:()=>gv,toUint8Array:()=>I1,toUtf8:()=>T1});_v.exports=A1(fv);var mv=Gr(),gv=Rd(e=>{let t=(0,mv.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),I1=Rd(e=>typeof e=="string"?gv(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),T1=Rd(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,mv.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var vv=m(Ui=>{"use strict";l();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.toBase64=void 0;var N1=Gr(),F1=Ce(),D1=e=>{let t;if(typeof e=="string"?t=(0,F1.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,N1.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ui.toBase64=D1});var yt=m((Dae,ji)=>{l();var hv=Object.defineProperty,k1=Object.getOwnPropertyDescriptor,M1=Object.getOwnPropertyNames,L1=Object.prototype.hasOwnProperty,Ad=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of M1(t))!L1.call(e,o)&&o!==r&&hv(e,o,{get:()=>t[o],enumerable:!(n=k1(t,o))||n.enumerable});return e},yv=(e,t,r)=>(Ad(e,t,"default"),r&&Ad(r,t,"default")),q1=e=>Ad(hv({},"__esModule",{value:!0}),e),Id={};ji.exports=q1(Id);yv(Id,pv(),ji.exports);yv(Id,vv(),ji.exports)});var Sv=m(Hi=>{"use strict";l();Object.defineProperty(Hi,"__esModule",{value:!0});Hi.getAwsChunkedEncodingStream=void 0;var U1=S("stream"),j1=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:a}=t,s=r!==void 0&&o!==void 0&&i!==void 0&&a!==void 0,c=s?a(o,e):void 0,d=new U1.Readable({read:()=>{}});return e.on("data",u=>{let p=n(u)||0;d.push(`${p.toString(16)}\r
`),d.push(u),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),s){let u=r(await c);d.push(`${i}:${u}\r
`),d.push(`\r
`)}d.push(null)}),d};Hi.getAwsChunkedEncodingStream=j1});var Nd=m((qae,wv)=>{l();var Bi=Object.defineProperty,H1=Object.getOwnPropertyDescriptor,B1=Object.getOwnPropertyNames,$1=Object.prototype.hasOwnProperty,Td=(e,t)=>Bi(e,"name",{value:t,configurable:!0}),G1=(e,t)=>{for(var r in t)Bi(e,r,{get:t[r],enumerable:!0})},V1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B1(t))!$1.call(e,o)&&o!==r&&Bi(e,o,{get:()=>t[o],enumerable:!(n=H1(t,o))||n.enumerable});return e},W1=e=>V1(Bi({},"__esModule",{value:!0}),e),Ev={};G1(Ev,{escapeUri:()=>Cv,escapeUriPath:()=>K1});wv.exports=W1(Ev);var Cv=Td(e=>encodeURIComponent(e).replace(/[!'()*]/g,z1),"escapeUri"),z1=Td(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),K1=Td(e=>e.split("/").map(Cv).join("/"),"escapeUriPath")});var Dd=m((jae,Pv)=>{l();var $i=Object.defineProperty,J1=Object.getOwnPropertyDescriptor,Y1=Object.getOwnPropertyNames,X1=Object.prototype.hasOwnProperty,Q1=(e,t)=>$i(e,"name",{value:t,configurable:!0}),Z1=(e,t)=>{for(var r in t)$i(e,r,{get:t[r],enumerable:!0})},eL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Y1(t))!X1.call(e,o)&&o!==r&&$i(e,o,{get:()=>t[o],enumerable:!(n=J1(t,o))||n.enumerable});return e},tL=e=>eL($i({},"__esModule",{value:!0}),e),Ov={};Z1(Ov,{buildQueryString:()=>bv});Pv.exports=tL(Ov);var Fd=Nd();function bv(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Fd.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${(0,Fd.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Fd.escapeUri)(n)}`),t.push(o)}}return t.join("&")}Q1(bv,"buildQueryString")});var gr=m((Vae,Vv)=>{l();var rL=Object.create,ao=Object.defineProperty,nL=Object.getOwnPropertyDescriptor,oL=Object.getOwnPropertyNames,iL=Object.getPrototypeOf,sL=Object.prototype.hasOwnProperty,j=(e,t)=>ao(e,"name",{value:t,configurable:!0}),aL=(e,t)=>{for(var r in t)ao(e,r,{get:t[r],enumerable:!0})},Tv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oL(t))!sL.call(e,o)&&o!==r&&ao(e,o,{get:()=>t[o],enumerable:!(n=nL(t,o))||n.enumerable});return e},cL=(e,t,r)=>(r=e!=null?rL(iL(e)):{},Tv(t||!e||!e.__esModule?ao(r,"default",{value:e,enumerable:!0}):r,e)),lL=e=>Tv(ao({},"__esModule",{value:!0}),e),Nv={};aL(Nv,{DEFAULT_REQUEST_TIMEOUT:()=>gL,NodeHttp2Handler:()=>SL,NodeHttpHandler:()=>_L,streamCollector:()=>CL});Vv.exports=lL(Nv);var Fv=J(),Dv=Dd(),kd=S("http"),Md=S("https"),dL=["ECONNRESET","EPIPE","ETIMEDOUT"],kv=j(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),we={setTimeout,clearTimeout},xv=1e3,uL=j((e,t,r=0)=>{if(!r)return-1;let n=j(o=>{let i=we.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),a=j(s=>{s?.connecting?s.on("connect",()=>{we.clearTimeout(i)}):we.clearTimeout(i)},"doWithSocket");e.socket?a(e.socket):e.on("socket",a)},"registerTimeout");return r<2e3?(n(0),0):we.setTimeout(n.bind(null,xv),xv)},"setConnectionTimeout"),pL=3e3,fL=j((e,{keepAlive:t,keepAliveMsecs:r},n=pL)=>{if(t!==!0)return-1;let o=j(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):we.setTimeout(o,n)},"setSocketKeepAlive"),Rv=3e3,mL=j((e,t,r=0)=>{let n=j(o=>{e.setTimeout(r-o,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"registerTimeout");return 0<r&&r<6e3?(n(0),0):we.setTimeout(n.bind(null,r===0?0:Rv),Rv)},"setSocketTimeout"),Mv=S("stream"),Av=1e3;async function qd(e,t,r=Av){let n=t.headers??{},o=n.Expect||n.expect,i=-1,a=!1;o==="100-continue"&&await Promise.race([new Promise(s=>{i=Number(we.setTimeout(s,Math.max(Av,r)))}),new Promise(s=>{e.on("continue",()=>{we.clearTimeout(i),s()}),e.on("error",()=>{a=!0,we.clearTimeout(i),s()})})]),a||Lv(e,t.body)}j(qd,"writeRequestBody");function Lv(e,t){if(t instanceof Mv.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}j(Lv,"writeBody");var gL=0,qv=class Ld{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new Ld(t)}static checkSocketUsage(t,r,n=console){var o,i,a;let{sockets:s,requests:c,maxSockets:d}=t;if(typeof d!="number"||d===1/0||Date.now()-15e3<r)return r;if(s&&c)for(let p in s){let _=((o=s[p])==null?void 0:o.length)??0,v=((i=c[p])==null?void 0:i.length)??0;if(_>=d&&v>=2*d)return(a=n?.warn)==null||a.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${_} and ${v} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:a}=t||{},s=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:i instanceof kd.Agent||typeof i?.destroy=="function"?i:new kd.Agent({keepAlive:s,maxSockets:c,...i}),httpsAgent:a instanceof Md.Agent||typeof a?.destroy=="function"?a:new Md.Agent({keepAlive:s,maxSockets:c,...a}),logger:console}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{let i,a=[],s=j(async T=>{await i,a.forEach(we.clearTimeout),n(T)},"resolve"),c=j(async T=>{await i,a.forEach(we.clearTimeout),o(T)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let T=new Error("Request aborted");T.name="AbortError",c(T);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;a.push(we.setTimeout(()=>{this.socketWarningTimestamp=Ld.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let p=(0,Dv.buildQueryString)(t.query||{}),_;if(t.username!=null||t.password!=null){let T=t.username??"",F=t.password??"";_=`${T}:${F}`}let v=t.path;p&&(v+=`?${p}`),t.fragment&&(v+=`#${t.fragment}`);let y=t.hostname??"";y[0]==="["&&y.endsWith("]")?y=t.hostname.slice(1,-1):y=t.hostname;let w={headers:t.headers,host:y,method:t.method,path:v,port:t.port,agent:u,auth:_},b=(d?Md.request:kd.request)(w,T=>{let F=new Fv.HttpResponse({statusCode:T.statusCode||-1,reason:T.statusMessage,headers:kv(T.headers),body:T});s({response:F})});if(b.on("error",T=>{dL.includes(T.code)?c(Object.assign(T,{name:"TimeoutError"})):c(T)}),r){let T=j(()=>{b.destroy();let F=new Error("Request aborted");F.name="AbortError",c(F)},"onAbort");if(typeof r.addEventListener=="function"){let F=r;F.addEventListener("abort",T,{once:!0}),b.once("close",()=>F.removeEventListener("abort",T))}else r.onabort=T}a.push(uL(b,c,this.config.connectionTimeout)),a.push(mL(b,c,this.config.requestTimeout));let I=w.agent;typeof I=="object"&&"keepAlive"in I&&a.push(fL(b,{keepAlive:I.keepAlive,keepAliveMsecs:I.keepAliveMsecs})),i=qd(b,t,this.config.requestTimeout).catch(T=>(a.forEach(we.clearTimeout),o(T)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};j(qv,"NodeHttpHandler");var _L=qv,Iv=S("http2"),vL=cL(S("http2")),Uv=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};j(Uv,"NodeHttp2ConnectionPool");var hL=Uv,jv=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=vL.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let a=j(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",a),i.on("error",a),i.on("frameError",a),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,a);let s=this.sessionCache.get(n)||new hL;return s.offerLast(i),this.sessionCache.set(n,s),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};j(jv,"NodeHttp2ConnectionManager");var yL=jv,Hv=class Bv{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new yL({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new Bv(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,a)=>{var s;let c=!1,d,u=j(async z=>{await d,i(z)},"resolve"),p=j(async z=>{await d,a(z)},"reject");if(r?.aborted){c=!0;let z=new Error("Request aborted");z.name="AbortError",p(z);return}let{hostname:_,method:v,port:y,protocol:w,query:C}=t,b="";if(t.username!=null||t.password!=null){let z=t.username??"",Xe=t.password??"";b=`${z}:${Xe}@`}let I=`${w}//${b}${_}${y?`:${y}`:""}`,T={destination:new URL(I)},F=this.connectionManager.lease(T,{requestTimeout:(s=this.config)==null?void 0:s.sessionTimeout,disableConcurrentStreams:o||!1}),W=j(z=>{o&&this.destroySession(F),c=!0,p(z)},"rejectWithDestroy"),me=(0,Dv.buildQueryString)(C||{}),Ye=t.path;me&&(Ye+=`?${me}`),t.fragment&&(Ye+=`#${t.fragment}`);let Z=F.request({...t.headers,[Iv.constants.HTTP2_HEADER_PATH]:Ye,[Iv.constants.HTTP2_HEADER_METHOD]:v});if(F.ref(),Z.on("response",z=>{let Xe=new Fv.HttpResponse({statusCode:z[":status"]||-1,headers:kv(z),body:Z});c=!0,u({response:Xe}),o&&(F.close(),this.connectionManager.deleteSession(I,F))}),n&&Z.setTimeout(n,()=>{Z.close();let z=new Error(`Stream timed out because of no activity for ${n} ms`);z.name="TimeoutError",W(z)}),r){let z=j(()=>{Z.close();let Xe=new Error("Request aborted");Xe.name="AbortError",W(Xe)},"onAbort");if(typeof r.addEventListener=="function"){let Xe=r;Xe.addEventListener("abort",z,{once:!0}),Z.once("close",()=>Xe.removeEventListener("abort",z))}else r.onabort=z}Z.on("frameError",(z,Xe,Nk)=>{W(new Error(`Frame type id ${z} in stream id ${Nk} has failed with code ${Xe}.`))}),Z.on("error",W),Z.on("aborted",()=>{W(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Z.rstCode}.`))}),Z.on("close",()=>{F.unref(),o&&F.destroy(),c||W(new Error("Unexpected error: http2 request did not get a response"))}),d=qd(Z,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};j(Hv,"NodeHttp2Handler");var SL=Hv,$v=class extends Mv.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};j($v,"Collector");var EL=$v,CL=j(e=>wL(e)?Gv(e):new Promise((t,r)=>{let n=new EL;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),wL=j(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function Gv(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:s,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=s}let i=new Uint8Array(o),a=0;for(let s of t)i.set(s,a),a+=s.length;return i}j(Gv,"collectReadableStream")});var Zv=m((zae,Qv)=>{l();var Vi=Object.defineProperty,OL=Object.getOwnPropertyDescriptor,bL=Object.getOwnPropertyNames,PL=Object.prototype.hasOwnProperty,Gt=(e,t)=>Vi(e,"name",{value:t,configurable:!0}),xL=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},RL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bL(t))!PL.call(e,o)&&o!==r&&Vi(e,o,{get:()=>t[o],enumerable:!(n=OL(t,o))||n.enumerable});return e},AL=e=>RL(Vi({},"__esModule",{value:!0}),e),zv={};xL(zv,{FetchHttpHandler:()=>TL,keepAliveSupport:()=>Gi,streamCollector:()=>NL});Qv.exports=AL(zv);var Wv=J(),IL=Dd();function Ud(e,t){return new Request(e,t)}Gt(Ud,"createRequest");function Kv(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Gt(Kv,"requestTimeout");var Gi={supported:void 0},Jv=class Yv{static create(t){return typeof t?.handle=="function"?t:new Yv(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Gi.supported===void 0&&(Gi.supported=typeof Request<"u"&&"keepalive"in Ud("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r}={}){var n;this.config||(this.config=await this.configProvider);let o=this.config.requestTimeout,i=this.config.keepAlive===!0,a=this.config.credentials;if(r?.aborted){let I=new Error("Request aborted");return I.name="AbortError",Promise.reject(I)}let s=t.path,c=(0,IL.buildQueryString)(t.query||{});c&&(s+=`?${c}`),t.fragment&&(s+=`#${t.fragment}`);let d="";if(t.username!=null||t.password!=null){let I=t.username??"",T=t.password??"";d=`${I}:${T}@`}let{port:u,method:p}=t,_=`${t.protocol}//${d}${t.hostname}${u?`:${u}`:""}${s}`,v=p==="GET"||p==="HEAD"?void 0:t.body,y={body:v,headers:new Headers(t.headers),method:p,credentials:a};(n=this.config)!=null&&n.cache&&(y.cache=this.config.cache),v&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),Gi.supported&&(y.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let w=Gt(()=>{},"removeSignalEventListener"),C=Ud(_,y),b=[fetch(C).then(I=>{let T=I.headers,F={};for(let me of T.entries())F[me[0]]=me[1];return I.body!=null?{response:new Wv.HttpResponse({headers:F,reason:I.statusText,statusCode:I.status,body:I.body})}:I.blob().then(me=>({response:new Wv.HttpResponse({headers:F,reason:I.statusText,statusCode:I.status,body:me})}))}),Kv(o)];return r&&b.push(new Promise((I,T)=>{let F=Gt(()=>{let W=new Error("Request aborted");W.name="AbortError",T(W)},"onAbort");if(typeof r.addEventListener=="function"){let W=r;W.addEventListener("abort",F,{once:!0}),w=Gt(()=>W.removeEventListener("abort",F),"removeSignalEventListener")}else r.onabort=F})),Promise.race(b).finally(w)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};Gt(Jv,"FetchHttpHandler");var TL=Jv,NL=Gt(async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?new Uint8Array(await e.arrayBuffer()):Xv(e)},"streamCollector");async function Xv(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:s,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=s}let i=new Uint8Array(o),a=0;for(let s of t)i.set(s,a),a+=s.length;return i}Gt(Xv,"collectStream")});var zi=m((Jae,ih)=>{l();var Wi=Object.defineProperty,FL=Object.getOwnPropertyDescriptor,DL=Object.getOwnPropertyNames,kL=Object.prototype.hasOwnProperty,eh=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),ML=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},LL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DL(t))!kL.call(e,o)&&o!==r&&Wi(e,o,{get:()=>t[o],enumerable:!(n=FL(t,o))||n.enumerable});return e},qL=e=>LL(Wi({},"__esModule",{value:!0}),e),th={};ML(th,{fromHex:()=>nh,toHex:()=>oh});ih.exports=qL(th);var rh={},jd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),rh[e]=t,jd[t]=e}function nh(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in jd)t[r/2]=jd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}eh(nh,"fromHex");function oh(e){let t="";for(let r=0;r<e.byteLength;r++)t+=rh[e[r]];return t}eh(oh,"toHex")});var _r=m(Vr=>{"use strict";l();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.isBlob=Vr.isReadableStream=void 0;var UL=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Vr.isReadableStream=UL;var jL=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Vr.isBlob=jL});var lh=m(Ki=>{"use strict";l();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.sdkStreamMixin=void 0;var HL=Zv(),BL=yt(),$L=zi(),GL=Ce(),sh=_r(),ah="The stream has already been transformed.",VL=e=>{var t,r;if(!ch(e)&&!(0,sh.isReadableStream)(e)){let a=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${a}`)}let n=!1,o=async()=>{if(n)throw new Error(ah);return n=!0,await(0,HL.streamCollector)(e)},i=a=>{if(typeof a.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return a.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async a=>{let s=await o();if(a==="base64")return(0,BL.toBase64)(s);if(a==="hex")return(0,$L.toHex)(s);if(a===void 0||a==="utf8"||a==="utf-8")return(0,GL.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(a).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(ah);if(n=!0,ch(e))return i(e);if((0,sh.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ki.sdkStreamMixin=VL;var ch=e=>typeof Blob=="function"&&e instanceof Blob});var uh=m(Ji=>{"use strict";l();Object.defineProperty(Ji,"__esModule",{value:!0});Ji.sdkStreamMixin=void 0;var WL=gr(),zL=Gr(),Hd=S("stream"),KL=lh(),dh="The stream has already been transformed.",JL=e=>{var t,r;if(!(e instanceof Hd.Readable))try{return(0,KL.sdkStreamMixin)(e)}catch{let a=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${a}`)}let n=!1,o=async()=>{if(n)throw new Error(dh);return n=!0,await(0,WL.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();return i===void 0||Buffer.isEncoding(i)?(0,zL.fromArrayBuffer)(a.buffer,a.byteOffset,a.byteLength).toString(i):new TextDecoder(i).decode(a)},transformToWebStream:()=>{if(n)throw new Error(dh);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Hd.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Hd.Readable.toWeb(e)}})};Ji.sdkStreamMixin=JL});var ph=m(Yi=>{"use strict";l();Object.defineProperty(Yi,"__esModule",{value:!0});Yi.splitStream=void 0;async function YL(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}Yi.splitStream=YL});var gh=m(Xi=>{"use strict";l();Object.defineProperty(Xi,"__esModule",{value:!0});Xi.splitStream=void 0;var fh=S("stream"),XL=ph(),mh=_r();async function QL(e){if((0,mh.isReadableStream)(e)||(0,mh.isBlob)(e))return(0,XL.splitStream)(e);let t=new fh.PassThrough,r=new fh.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}Xi.splitStream=QL});var _h=m(Qi=>{"use strict";l();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.headStream=void 0;async function ZL(e,t){var r;let n=0,o=[],i=e.getReader(),a=!1;for(;!a;){let{done:d,value:u}=await i.read();if(u&&(o.push(u),n+=(r=u?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;a=d}i.releaseLock();let s=new Uint8Array(Math.min(t,n)),c=0;for(let d of o){if(d.byteLength>s.byteLength-c){s.set(d.subarray(0,s.byteLength-c),c);break}else s.set(d,c);c+=d.length}return s}Qi.headStream=ZL});var vh=m(Zi=>{"use strict";l();Object.defineProperty(Zi,"__esModule",{value:!0});Zi.headStream=void 0;var eq=S("stream"),tq=_h(),rq=_r(),nq=(e,t)=>(0,rq.isReadableStream)(e)?(0,tq.headStream)(e,t):new Promise((r,n)=>{let o=new Bd;o.limit=t,e.pipe(o),e.on("error",i=>{o.end(),n(i)}),o.on("error",n),o.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});Zi.headStream=nq;var Bd=class extends eq.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,a=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=a.subarray(0,a.byteLength-i),this.emit("finish")}n()}}});var Gd=m(es=>{"use strict";l();Object.defineProperty(es,"__esModule",{value:!0});es.ChecksumStream=void 0;var oq=yt(),iq=S("stream"),$d=class extends iq.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:i}){var a,s;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(s=(a=n?.constructor)===null||a===void 0?void 0:a.name)!==null&&s!==void 0?s:n} in ChecksumStream.`);this.base64Encoder=i??oq.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};es.ChecksumStream=$d});var hh=m(ts=>{"use strict";l();Object.defineProperty(ts,"__esModule",{value:!0});ts.ChecksumStream=void 0;var sq=typeof ReadableStream=="function"?ReadableStream:function(){},Vd=class extends sq{};ts.ChecksumStream=Vd});var yh=m(rs=>{"use strict";l();Object.defineProperty(rs,"__esModule",{value:!0});rs.createChecksumStream=void 0;var aq=yt(),cq=_r(),lq=hh(),dq=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var i,a;if(!(0,cq.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=r?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:r} in ChecksumStream.`);let s=o??aq.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(u,p){t.update(u),p.enqueue(u)},async flush(u){let p=await t.digest(),_=s(p);if(e!==_){let v=new Error(`Checksum mismatch: expected "${e}" but received "${_}" in response header "${n}".`);u.error(v)}else u.terminate()}});r.pipeThrough(c);let d=c.readable;return Object.setPrototypeOf(d,lq.ChecksumStream.prototype),d};rs.createChecksumStream=dq});var Sh=m(ns=>{"use strict";l();Object.defineProperty(ns,"__esModule",{value:!0});ns.createChecksumStream=void 0;var uq=_r(),pq=Gd(),fq=yh();function mq(e){return typeof ReadableStream=="function"&&(0,uq.isReadableStream)(e.source)?(0,fq.createChecksumStream)(e):new pq.ChecksumStream(e)}ns.createChecksumStream=mq});var Jd=m((yce,Et)=>{l();var os=Object.defineProperty,gq=Object.getOwnPropertyDescriptor,_q=Object.getOwnPropertyNames,vq=Object.prototype.hasOwnProperty,Kd=(e,t)=>os(e,"name",{value:t,configurable:!0}),hq=(e,t)=>{for(var r in t)os(e,r,{get:t[r],enumerable:!0})},Wd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _q(t))!vq.call(e,o)&&o!==r&&os(e,o,{get:()=>t[o],enumerable:!(n=gq(t,o))||n.enumerable});return e},vr=(e,t,r)=>(Wd(e,t,"default"),r&&Wd(r,t,"default")),yq=e=>Wd(os({},"__esModule",{value:!0}),e),St={};hq(St,{Uint8ArrayBlobAdapter:()=>zd});Et.exports=yq(St);var Eh=yt(),Ch=Ce();function wh(e,t="utf-8"){return t==="base64"?(0,Eh.toBase64)(e):(0,Ch.toUtf8)(e)}Kd(wh,"transformToString");function Oh(e,t){return t==="base64"?zd.mutate((0,Eh.fromBase64)(e)):zd.mutate((0,Ch.fromUtf8)(e))}Kd(Oh,"transformFromString");var bh=class Ph extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return Oh(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Ph.prototype),t}transformToString(t="utf-8"){return wh(this,t)}};Kd(bh,"Uint8ArrayBlobAdapter");var zd=bh;vr(St,Sv(),Et.exports);vr(St,uh(),Et.exports);vr(St,gh(),Et.exports);vr(St,vh(),Et.exports);vr(St,_r(),Et.exports);vr(St,Sh(),Et.exports);vr(St,Gd(),Et.exports)});var is,Sq,xh=x(()=>{l();is=K(Jd()),Sq=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return is.Uint8ArrayBlobAdapter.mutate(e);if(!e)return is.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return is.Uint8ArrayBlobAdapter.mutate(await r)}});function ss(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Yd=x(()=>{l()});var Xd,Qd=x(()=>{l();Yd();Xd=(e,t,r,n,o,i)=>{if(t!=null&&t[r]!==void 0){let a=n();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?a.split("/").map(s=>ss(s)).join("/"):ss(a))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Zd(e,t){return new as(e,t)}var Rh,as,Ah=x(()=>{l();Rh=K(J());Qd();as=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new Rh.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(i=>{this.path=Xd(i,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});var Ih={};$r(Ih,{RequestBuilder:()=>as,collectBody:()=>Sq,extendedEncodeURIComponent:()=>ss,requestBuilder:()=>Zd,resolvedPath:()=>Xd});var eu=x(()=>{l();xh();Yd();Ah();Qd()});var Th=x(()=>{l();eu()});function Eq(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var Nh=x(()=>{l()});var tu,Fh=x(()=>{l();tu=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var Dh,ru,nu,kh=x(()=>{l();Dh=K(J()),ru=K(Y()),nu=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=Dh.HttpRequest.clone(t);if(n.in===ru.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===ru.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var Mh,ou,Lh=x(()=>{l();Mh=K(J()),ou=class{async sign(t,r,n){let o=Mh.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var iu,qh=x(()=>{l();iu=class{async sign(t,r,n){return t}}});var Uh=x(()=>{l();kh();Lh();qh()});var jh,Cq,su,cs,au,Hh=x(()=>{l();jh=e=>t=>cs(t)&&t.expiration.getTime()-Date.now()<e,Cq=3e5,su=jh(3e5),cs=e=>e.expiration!==void 0,au=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,i,a,s=!1,c=async d=>{i||(i=n(d));try{o=await i,a=!0,s=!1}finally{i=void 0}return o};return t===void 0?async d=>((!a||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!a||d?.forceRefresh)&&(o=await c(d)),s?o:r(o)?(t(o)&&await c(d),o):(s=!0,o))}});var Bh=x(()=>{l();Fh();Uh();Hh()});var Ze={};$r(Ze,{DefaultIdentityProviderConfig:()=>tu,EXPIRATION_MS:()=>Cq,HttpApiKeyAuthSigner:()=>nu,HttpBearerAuthSigner:()=>ou,NoAuthSigner:()=>iu,createIsIdentityExpiredFunction:()=>jh,createPaginator:()=>iv,doesIdentityRequireRefresh:()=>cs,getHttpAuthSchemeEndpointRuleSetPlugin:()=>VM,getHttpAuthSchemePlugin:()=>QM,getHttpSigningPlugin:()=>t1,getSmithyContext:()=>kM,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>j_,httpAuthSchemeMiddleware:()=>so,httpAuthSchemeMiddlewareOptions:()=>Y_,httpSigningMiddleware:()=>Od,httpSigningMiddlewareOptions:()=>tv,isIdentityExpired:()=>su,memoizeIdentityProvider:()=>au,normalizeProvider:()=>$t,requestBuilder:()=>Zd,setFeature:()=>Eq});var Oe=x(()=>{l();D_();Q_();nv();ov();sv();Th();Nh();Bh()});var Wr=m((hle,Zh)=>{l();var ls=Object.defineProperty,wq=Object.getOwnPropertyDescriptor,Oq=Object.getOwnPropertyNames,bq=Object.prototype.hasOwnProperty,U=(e,t)=>ls(e,"name",{value:t,configurable:!0}),Pq=(e,t)=>{for(var r in t)ls(e,r,{get:t[r],enumerable:!0})},xq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Oq(t))!bq.call(e,o)&&o!==r&&ls(e,o,{get:()=>t[o],enumerable:!(n=wq(t,o))||n.enumerable});return e},Rq=e=>xq(ls({},"__esModule",{value:!0}),e),$h={};Pq($h,{EndpointCache:()=>Aq,EndpointError:()=>Se,customEndpointFunctions:()=>lu,isIpAddress:()=>Vh,isValidHostLabel:()=>uu,resolveEndpoint:()=>Kq});Zh.exports=Rq($h);var Gh=class{constructor({size:t,params:r}){this.data=new Map,this.parameters=[],this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),i=0;for(;;){let{value:a,done:s}=o.next();if(this.data.delete(a),s||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let i=String(t[o]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}};U(Gh,"EndpointCache");var Aq=Gh,Iq=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Vh=U(e=>Iq.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),Tq=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),uu=U((e,t=!1)=>{if(!t)return Tq.test(e);let r=e.split(".");for(let n of r)if(!uu(n))return!1;return!0},"isValidHostLabel"),lu={},co="endpoints";function Ct(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ct(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ct).join(", ")})`:JSON.stringify(e,null,2)}U(Ct,"toDebugString");var Wh=class extends Error{constructor(t){super(t),this.name="EndpointError"}};U(Wh,"EndpointError");var Se=Wh,Nq=U((e,t)=>e===t,"booleanEquals"),Fq=U(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Se(`Path: '${e}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new Se(`Invalid array index: '${i}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),zh=U((e,t)=>Fq(t).reduce((r,n)=>{if(typeof r!="object")throw new Se(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),Dq=U(e=>e!=null,"isSet"),kq=U(e=>!e,"not"),du=Y(),cu={[du.EndpointURLScheme.HTTP]:80,[du.EndpointURLScheme.HTTPS]:443},Mq=U(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:_,port:v,protocol:y="",path:w="",query:C={}}=e,b=new URL(`${y}//${_}${v?`:${v}`:""}${w}`);return b.search=Object.entries(C).map(([I,T])=>`${I}=${T}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:i,protocol:a,search:s}=t;if(s)return null;let c=a.slice(0,-1);if(!Object.values(du.EndpointURLScheme).includes(c))return null;let d=Vh(o),u=r.includes(`${n}:${cu[c]}`)||typeof e=="string"&&e.includes(`${n}:${cu[c]}`),p=`${n}${u?`:${cu[c]}`:""}`;return{scheme:c,authority:p,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}},"parseURL"),Lq=U((e,t)=>e===t,"stringEquals"),qq=U((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),Uq=U(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),jq={booleanEquals:Nq,getAttr:zh,isSet:Dq,isValidHostLabel:uu,not:kq,parseURL:Mq,stringEquals:Lq,substring:qq,uriEncode:Uq},Kh=U((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let i=e.indexOf("{",o);if(i===-1){r.push(e.slice(o));break}r.push(e.slice(o,i));let a=e.indexOf("}",i);if(a===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[a+1]==="}"&&(r.push(e.slice(i+1,a)),o=a+2);let s=e.substring(i+1,a);if(s.includes("#")){let[c,d]=s.split("#");r.push(zh(n[c],d))}else r.push(n[s]);o=a+1}return r.join("")},"evaluateTemplate"),Hq=U(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),ds=U((e,t,r)=>{if(typeof e=="string")return Kh(e,r);if(e.fn)return Jh(e,r);if(e.ref)return Hq(e,r);throw new Se(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),Jh=U(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:ds(i,"arg",r)),o=e.split(".");return o[0]in lu&&o[1]!=null?lu[o[0]][o[1]](...n):jq[e](...n)},"callFunction"),Bq=U(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new Se(`'${e}' is already defined in Reference Record.`);let i=Jh(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,`${co} evaluateCondition: ${Ct(t)} = ${Ct(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}},"evaluateCondition"),pu=U((e=[],t)=>{var r,n;let o={};for(let i of e){let{result:a,toAssign:s}=Bq(i,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!a)return{result:a};s&&(o[s.name]=s.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${co} assign: ${s.name} := ${Ct(s.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),$q=U((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let a=ds(i,"Header value entry",t);if(typeof a!="string")throw new Se(`Header '${n}' value '${a}' is not a string`);return a})}),{}),"getEndpointHeaders"),Yh=U((e,t)=>{if(Array.isArray(e))return e.map(r=>Yh(r,t));switch(typeof e){case"string":return Kh(e,t);case"object":if(e===null)throw new Se(`Unexpected endpoint property: ${e}`);return Xh(e,t);case"boolean":return e;default:throw new Se(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),Xh=U((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Yh(o,t)}),{}),"getEndpointProperties"),Gq=U((e,t)=>{let r=ds(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Se(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),Vq=U((e,t)=>{var r,n;let{conditions:o,endpoint:i}=e,{result:a,referenceRecord:s}=pu(o,t);if(!a)return;let c={...t,referenceRecord:{...t.referenceRecord,...s}},{url:d,properties:u,headers:p}=i;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${co} Resolving endpoint from template: ${Ct(i)}`),{...p!=null&&{headers:$q(p,c)},...u!=null&&{properties:Xh(u,c)},url:Gq(d,c)}},"evaluateEndpointRule"),Wq=U((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:i}=pu(r,t);if(o)throw new Se(ds(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),zq=U((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=pu(r,t);if(o)return Qh(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),Qh=U((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Vq(r,t);if(n)return n}else if(r.type==="error")Wq(r,t);else if(r.type==="tree"){let n=zq(r,t);if(n)return n}else throw new Se(`Unknown endpoint rule: ${r}`);throw new Se("Rules evaluation failed")},"evaluateRules"),Kq=U((e,t)=>{var r,n,o,i;let{endpointParams:a,logger:s}=t,{parameters:c,rules:d}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${co} Initial EndpointParams: ${Ct(a)}`);let u=Object.entries(c).filter(([,v])=>v.default!=null).map(([v,y])=>[v,y.default]);if(u.length>0)for(let[v,y]of u)a[v]=a[v]??y;let p=Object.entries(c).filter(([,v])=>v.required).map(([v])=>v);for(let v of p)if(a[v]==null)throw new Se(`Missing required parameter: '${v}'`);let _=Qh(d,{endpointParams:a,logger:s,referenceRecord:{}});return(i=(o=t.logger)==null?void 0:o.debug)==null||i.call(o,`${co} Resolved endpoint: ${Ct(_)}`),_},"resolveEndpoint")});var Kr=m((Sle,ly)=>{"use strict";l();var us=Object.defineProperty,Jq=Object.getOwnPropertyDescriptor,Yq=Object.getOwnPropertyNames,Xq=Object.prototype.hasOwnProperty,zr=(e,t)=>us(e,"name",{value:t,configurable:!0}),Qq=(e,t)=>{for(var r in t)us(e,r,{get:t[r],enumerable:!0})},Zq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yq(t))!Xq.call(e,o)&&o!==r&&us(e,o,{get:()=>t[o],enumerable:!(n=Jq(t,o))||n.enumerable});return e},eU=e=>Zq(us({},"__esModule",{value:!0}),e),ty={};Qq(ty,{ConditionObject:()=>H.ConditionObject,DeprecatedObject:()=>H.DeprecatedObject,EndpointError:()=>H.EndpointError,EndpointObject:()=>H.EndpointObject,EndpointObjectHeaders:()=>H.EndpointObjectHeaders,EndpointObjectProperties:()=>H.EndpointObjectProperties,EndpointParams:()=>H.EndpointParams,EndpointResolverOptions:()=>H.EndpointResolverOptions,EndpointRuleObject:()=>H.EndpointRuleObject,ErrorRuleObject:()=>H.ErrorRuleObject,EvaluateOptions:()=>H.EvaluateOptions,Expression:()=>H.Expression,FunctionArgv:()=>H.FunctionArgv,FunctionObject:()=>H.FunctionObject,FunctionReturn:()=>H.FunctionReturn,ParameterObject:()=>H.ParameterObject,ReferenceObject:()=>H.ReferenceObject,ReferenceRecord:()=>H.ReferenceRecord,RuleSetObject:()=>H.RuleSetObject,RuleSetRules:()=>H.RuleSetRules,TreeRuleObject:()=>H.TreeRuleObject,awsEndpointFunctions:()=>cy,getUserAgentPrefix:()=>oU,isIpAddress:()=>H.isIpAddress,partition:()=>sy,resolveEndpoint:()=>H.resolveEndpoint,setPartitionInfo:()=>ay,useDefaultPartitionInfo:()=>nU});ly.exports=eU(ty);var H=Wr(),ry=zr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!ry(r))return!1;return!0}return!(!(0,H.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,H.isIpAddress)(e))},"isVirtualHostableS3Bucket"),ey=":",tU="/",rU=zr(e=>{let t=e.split(ey);if(t.length<6)return null;let[r,n,o,i,a,...s]=t;if(r!=="arn"||n===""||o===""||s.join(ey)==="")return null;let c=s.map(d=>d.split(tU)).flat();return{partition:n,service:o,region:i,accountId:a,resourceId:c}},"parseArn"),ny={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},oy=ny,iy="",sy=zr(e=>{let{partitions:t}=oy;for(let n of t){let{regions:o,outputs:i}=n;for(let[a,s]of Object.entries(o))if(a===e)return{...i,...s}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),ay=zr((e,t="")=>{oy=e,iy=t},"setPartitionInfo"),nU=zr(()=>{ay(ny,"")},"useDefaultPartitionInfo"),oU=zr(()=>iy,"getUserAgentPrefix"),cy={isVirtualHostableS3Bucket:ry,parseArn:rU,partition:sy};H.customEndpointFunctions.aws=cy});var ps,dy,uy=x(()=>{l();ps={warningEmitted:!1},dy=e=>{e&&!ps.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(ps.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function fs(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var py=x(()=>{l()});function fy(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var my=x(()=>{l()});var Vt={};$r(Vt,{emitWarningIfUnsupportedVersion:()=>dy,setCredentialFeature:()=>fs,setFeature:()=>fy,state:()=>ps});var st=x(()=>{l();uy();py();my()});var gy,fu,_y=x(()=>{l();gy=K(J()),fu=e=>gy.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Jr,mu=x(()=>{l();Jr=e=>new Date(Date.now()+e)});var vy,hy=x(()=>{l();mu();vy=(e,t)=>Math.abs(Jr(t).getTime()-e)>=3e5});var gu,yy=x(()=>{l();hy();gu=(e,t)=>{let r=Date.parse(e);return vy(r,t)?r-Date.now():t}});var _u=x(()=>{l();_y();mu();yy()});var Sy,lo,uo,hr,Ey,vu=x(()=>{l();Sy=K(J());_u();lo=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},uo=async e=>{let t=lo("context",e.context),r=lo("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await lo("signer",r.signer)(n),a=e?.signingRegion,s=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:a,signingRegionSet:s,signingName:c}},hr=class{async sign(t,r,n){if(!Sy.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await uo(n),{config:i,signer:a}=o,{signingRegion:s,signingName:c}=o,d=n.context;if(d?.authSchemes?.length??!1){let[p,_]=d.authSchemes;p?.name==="sigv4a"&&_?.name==="sigv4"&&(s=_?.signingRegion??s,c=_?.signingName??c)}return await a.sign(t,{signingDate:Jr(i.systemClockOffset),signingRegion:s,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??fu(r.$response);if(n){let o=lo("config",t.config),i=o.systemClockOffset;o.systemClockOffset=gu(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=fu(t);if(n){let o=lo("config",r.config);o.systemClockOffset=gu(n,o.systemClockOffset)}}},Ey=hr});var Cy,ms,wy=x(()=>{l();Cy=K(J());_u();vu();ms=class extends hr{async sign(t,r,n){if(!Cy.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:a,signingRegionSet:s,signingName:c}=await uo(n),u=(await o.sigv4aSigningRegionSet?.()??s??[a]).join(",");return await i.sign(t,{signingDate:Jr(o.systemClockOffset),signingRegion:u,signingService:c})}}});var X=m((ede,Ty)=>{l();var gs=Object.defineProperty,iU=Object.getOwnPropertyDescriptor,sU=Object.getOwnPropertyNames,aU=Object.prototype.hasOwnProperty,yr=(e,t)=>gs(e,"name",{value:t,configurable:!0}),cU=(e,t)=>{for(var r in t)gs(e,r,{get:t[r],enumerable:!0})},lU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sU(t))!aU.call(e,o)&&o!==r&&gs(e,o,{get:()=>t[o],enumerable:!(n=iU(t,o))||n.enumerable});return e},dU=e=>lU(gs({},"__esModule",{value:!0}),e),Oy={};cU(Oy,{CredentialsProviderError:()=>uU,ProviderError:()=>_s,TokenProviderError:()=>pU,chain:()=>fU,fromStatic:()=>mU,memoize:()=>gU});Ty.exports=dU(Oy);var by=class Py extends Error{constructor(t,r=!0){var n;let o,i=!0;typeof r=="boolean"?(o=void 0,i=r):r!=null&&typeof r=="object"&&(o=r.logger,i=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=i,Object.setPrototypeOf(this,Py.prototype),(n=o?.debug)==null||n.call(o,`@smithy/property-provider ${i?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};yr(by,"ProviderError");var _s=by,xy=class Ry extends _s{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,Ry.prototype)}};yr(xy,"CredentialsProviderError");var uU=xy,Ay=class Iy extends _s{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,Iy.prototype)}};yr(Ay,"TokenProviderError");var pU=Ay,fU=yr((...e)=>async()=>{if(e.length===0)throw new _s("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),mU=yr(e=>()=>Promise.resolve(e),"fromStatic"),gU=yr((e,t,r)=>{let n,o,i,a=!1,s=yr(async()=>{o||(o=e());try{n=await o,i=!0,a=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await s()),n):async c=>((!i||c?.forceRefresh)&&(n=await s()),a?n:r&&!r(n)?(a=!0,n):(t(n)&&await s(),n))},"memoize")});var hu,_U,vU,Ny=x(()=>{l();Oe();hu=K(X()),_U=e=>(e.sigv4aSigningRegionSet=$t(e.sigv4aSigningRegionSet),e),vU={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new hu.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new hu.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Zy=m((ade,Qy)=>{l();var Cs=Object.defineProperty,hU=Object.getOwnPropertyDescriptor,yU=Object.getOwnPropertyNames,SU=Object.prototype.hasOwnProperty,ne=(e,t)=>Cs(e,"name",{value:t,configurable:!0}),EU=(e,t)=>{for(var r in t)Cs(e,r,{get:t[r],enumerable:!0})},CU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yU(t))!SU.call(e,o)&&o!==r&&Cs(e,o,{get:()=>t[o],enumerable:!(n=hU(t,o))||n.enumerable});return e},wU=e=>CU(Cs({},"__esModule",{value:!0}),e),Ly={};EU(Ly,{SignatureV4:()=>JU,clearCredentialCache:()=>jU,createScope:()=>ys,getCanonicalHeaders:()=>Cu,getCanonicalQuery:()=>Vy,getPayloadHash:()=>Es,getSigningKey:()=>Gy,moveHeadersToQuery:()=>Yy,prepareRequest:()=>Ou});Qy.exports=wU(Ly);var Fy=Qe(),yu=Ce(),OU="X-Amz-Algorithm",bU="X-Amz-Credential",qy="X-Amz-Date",PU="X-Amz-SignedHeaders",xU="X-Amz-Expires",Uy="X-Amz-Signature",jy="X-Amz-Security-Token",Hy="authorization",By=qy.toLowerCase(),RU="date",AU=[Hy,By,RU],IU=Uy.toLowerCase(),Eu="x-amz-content-sha256",TU=jy.toLowerCase(),NU={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},FU=/^proxy-/,DU=/^sec-/,Su="AWS4-HMAC-SHA256",kU="AWS4-HMAC-SHA256-PAYLOAD",MU="UNSIGNED-PAYLOAD",LU=50,$y="aws4_request",qU=60*60*24*7,Wt=zi(),UU=Ce(),Yr={},hs=[],ys=ne((e,t,r)=>`${e}/${t}/${r}/${$y}`,"createScope"),Gy=ne(async(e,t,r,n,o)=>{let i=await Dy(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${n}:${o}:${(0,Wt.toHex)(i)}:${t.sessionToken}`;if(a in Yr)return Yr[a];for(hs.push(a);hs.length>LU;)delete Yr[hs.shift()];let s=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,$y])s=await Dy(e,s,c);return Yr[a]=s},"getSigningKey"),jU=ne(()=>{hs.length=0,Object.keys(Yr).forEach(e=>{delete Yr[e]})},"clearCredentialCache"),Dy=ne((e,t,r)=>{let n=new e(t);return n.update((0,UU.toUint8Array)(r)),n.digest()},"hmac"),Cu=ne(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in NU||t?.has(i)||FU.test(i)||DU.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Ss=Nd(),Vy=ne(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===IU)continue;let o=(0,Ss.escapeUri)(n);t.push(o);let i=e[n];typeof i=="string"?r[o]=`${o}=${(0,Ss.escapeUri)(i)}`:Array.isArray(i)&&(r[o]=i.slice(0).reduce((a,s)=>a.concat([`${o}=${(0,Ss.escapeUri)(s)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),HU=Pd(),BU=Ce(),Es=ne(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Eu)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,HU.isArrayBuffer)(t)){let n=new r;return n.update((0,BU.toUint8Array)(t)),(0,Wt.toHex)(await n.digest())}return MU},"getPayloadHash"),ky=Ce(),Wy=class{format(t){let r=[];for(let i of Object.keys(t)){let a=(0,ky.fromUtf8)(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let s=(0,ky.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+s.byteLength));c.setUint8(0,7),c.setUint16(1,s.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(s,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(VU.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!GU.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,Wt.fromHex)(t.value.replace(/\-/g,"")),1),p}}};ne(Wy,"HeaderFormatter");var $U=Wy,GU=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,zy=class Ky{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&wu(r),new Ky(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&wu(t),parseInt((0,Wt.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};ne(zy,"Int64");var VU=zy;function wu(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}ne(wu,"negate");var WU=ne((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Jy=J(),Yy=ne((e,t={})=>{var r,n;let{headers:o,query:i={}}=Jy.HttpRequest.clone(e);for(let a of Object.keys(o)){let s=a.toLowerCase();(s.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(s))||(n=t.hoistableHeaders)!=null&&n.has(s))&&(i[a]=o[a],delete o[a])}return{...e,headers:o,query:i}},"moveHeadersToQuery"),Ou=ne(e=>{e=Jy.HttpRequest.clone(e);for(let t of Object.keys(e.headers))AU.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),zU=ne(e=>KU(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),KU=ne(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Xy=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:a=!0}){this.headerFormatter=new $U,this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,Fy.normalizeProvider)(n),this.credentialProvider=(0,Fy.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:s,hoistableHeaders:c,signingRegion:d,signingService:u}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let _=d??await this.regionProvider(),{longDate:v,shortDate:y}=vs(n);if(o>qU)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let w=ys(y,_,u??this.service),C=Yy(Ou(t),{unhoistableHeaders:a,hoistableHeaders:c});p.sessionToken&&(C.query[jy]=p.sessionToken),C.query[OU]=Su,C.query[bU]=`${p.accessKeyId}/${w}`,C.query[qy]=v,C.query[xU]=o.toString(10);let b=Cu(C,i,s);return C.query[PU]=My(b),C.query[Uy]=await this.getSignature(v,w,this.getSigningKey(p,_,y,u),this.createCanonicalRequest(C,b,await Es(t,this.sha256))),C}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:a}){let s=i??await this.regionProvider(),{shortDate:c,longDate:d}=vs(n),u=ys(c,s,a??this.service),p=await Es({headers:{},body:r},this.sha256),_=new this.sha256;_.update(t);let v=(0,Wt.toHex)(await _.digest()),y=[kU,d,u,o,v,p].join(`
`);return this.signString(y,{signingDate:n,signingRegion:s,signingService:a})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(a=>({message:t.message,signature:a}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:s}=vs(r),c=new this.sha256(await this.getSigningKey(i,a,s,o));return c.update((0,yu.toUint8Array)(t)),(0,Wt.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:a}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let c=i??await this.regionProvider(),d=Ou(t),{longDate:u,shortDate:p}=vs(r),_=ys(p,c,a??this.service);d.headers[By]=u,s.sessionToken&&(d.headers[TU]=s.sessionToken);let v=await Es(d,this.sha256);!WU(Eu,d.headers)&&this.applyChecksum&&(d.headers[Eu]=v);let y=Cu(d,o,n),w=await this.getSignature(u,_,this.getSigningKey(s,c,p,a),this.createCanonicalRequest(d,y,v));return d.headers[Hy]=`${Su} Credential=${s.accessKeyId}/${_}, SignedHeaders=${My(y)}, Signature=${w}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Vy(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,yu.toUint8Array)(n));let i=await o.digest();return`${Su}
${t}
${r}
${(0,Wt.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,Ss.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),a=new this.sha256(await n);return a.update((0,yu.toUint8Array)(i)),(0,Wt.toHex)(await a.digest())}getSigningKey(t,r,n,o){return Gy(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};ne(Xy,"SignatureV4");var JU=Xy,vs=ne(e=>{let t=zU(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),My=ne(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var bu,eS,YU,tS=x(()=>{l();st();Oe();bu=K(Zy()),eS=e=>{let t=!1,r;e.credentials&&(t=!0,r=au(e.credentials,su,cs)),r||(e.credentialDefaultProvider?r=$t(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):r=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:n=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=$t(e.signer):e.regionInfoProvider?a=()=>$t(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,c])=>{let{signingRegion:d,signingService:u}=s;e.signingRegion=e.signingRegion||d||c,e.signingName=e.signingName||u||e.serviceId;let p={...e,credentials:r,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},_=e.signerConstructor||bu.SignatureV4;return new _(p)}):a=async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await $t(e.region)(),properties:{}},s);let c=s.signingRegion,d=s.signingName;e.signingRegion=e.signingRegion||c,e.signingName=e.signingName||d||e.serviceId;let u={...e,credentials:r,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},p=e.signerConstructor||bu.SignatureV4;return new p(u)},{...e,systemClockOffset:o,signingEscapePath:n,credentials:t?async()=>r().then(s=>fs(s,"CREDENTIALS_CODE","e")):r,signer:a}},YU=eS});var rS=x(()=>{l();vu();wy();Ny();tS()});var nS=x(()=>{l();rS()});var XU,QU,ZU,oS=x(()=>{l();XU=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},QU=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},ZU=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var lS=m((Ode,cS)=>{l();var ws=Object.defineProperty,ej=Object.getOwnPropertyDescriptor,tj=Object.getOwnPropertyNames,rj=Object.prototype.hasOwnProperty,Pe=(e,t)=>ws(e,"name",{value:t,configurable:!0}),nj=(e,t)=>{for(var r in t)ws(e,r,{get:t[r],enumerable:!0})},oj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tj(t))!rj.call(e,o)&&o!==r&&ws(e,o,{get:()=>t[o],enumerable:!(n=ej(t,o))||n.enumerable});return e},ij=e=>oj(ws({},"__esModule",{value:!0}),e),aS={};nj(aS,{constructStack:()=>Pu});cS.exports=ij(aS);var Sr=Pe((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),zt=Pe((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Pu=Pe(()=>{let e=[],t=[],r=!1,n=new Set,o=Pe(p=>p.sort((_,v)=>iS[v.step]-iS[_.step]||sS[v.priority||"normal"]-sS[_.priority||"normal"]),"sort"),i=Pe(p=>{let _=!1,v=Pe(y=>{let w=Sr(y.name,y.aliases);if(w.includes(p)){_=!0;for(let C of w)n.delete(C);return!1}return!0},"filterCb");return e=e.filter(v),t=t.filter(v),_},"removeByName"),a=Pe(p=>{let _=!1,v=Pe(y=>{if(y.middleware===p){_=!0;for(let w of Sr(y.name,y.aliases))n.delete(w);return!1}return!0},"filterCb");return e=e.filter(v),t=t.filter(v),_},"removeByReference"),s=Pe(p=>{var _;return e.forEach(v=>{p.add(v.middleware,{...v})}),t.forEach(v=>{p.addRelativeTo(v.middleware,{...v})}),(_=p.identifyOnResolve)==null||_.call(p,u.identifyOnResolve()),p},"cloneTo"),c=Pe(p=>{let _=[];return p.before.forEach(v=>{v.before.length===0&&v.after.length===0?_.push(v):_.push(...c(v))}),_.push(p),p.after.reverse().forEach(v=>{v.before.length===0&&v.after.length===0?_.push(v):_.push(...c(v))}),_},"expandRelativeMiddlewareList"),d=Pe((p=!1)=>{let _=[],v=[],y={};return e.forEach(C=>{let b={...C,before:[],after:[]};for(let I of Sr(b.name,b.aliases))y[I]=b;_.push(b)}),t.forEach(C=>{let b={...C,before:[],after:[]};for(let I of Sr(b.name,b.aliases))y[I]=b;v.push(b)}),v.forEach(C=>{if(C.toMiddleware){let b=y[C.toMiddleware];if(b===void 0){if(p)return;throw new Error(`${C.toMiddleware} is not found when adding ${zt(C.name,C.aliases)} middleware ${C.relation} ${C.toMiddleware}`)}C.relation==="after"&&b.after.push(C),C.relation==="before"&&b.before.push(C)}}),o(_).map(c).reduce((C,b)=>(C.push(...b),C),[])},"getMiddlewareList"),u={add:(p,_={})=>{let{name:v,override:y,aliases:w}=_,C={step:"initialize",priority:"normal",middleware:p,..._},b=Sr(v,w);if(b.length>0){if(b.some(I=>n.has(I))){if(!y)throw new Error(`Duplicate middleware name '${zt(v,w)}'`);for(let I of b){let T=e.findIndex(W=>{var me;return W.name===I||((me=W.aliases)==null?void 0:me.some(Ye=>Ye===I))});if(T===-1)continue;let F=e[T];if(F.step!==C.step||C.priority!==F.priority)throw new Error(`"${zt(F.name,F.aliases)}" middleware with ${F.priority} priority in ${F.step} step cannot be overridden by "${zt(v,w)}" middleware with ${C.priority} priority in ${C.step} step.`);e.splice(T,1)}}for(let I of b)n.add(I)}e.push(C)},addRelativeTo:(p,_)=>{let{name:v,override:y,aliases:w}=_,C={middleware:p,..._},b=Sr(v,w);if(b.length>0){if(b.some(I=>n.has(I))){if(!y)throw new Error(`Duplicate middleware name '${zt(v,w)}'`);for(let I of b){let T=t.findIndex(W=>{var me;return W.name===I||((me=W.aliases)==null?void 0:me.some(Ye=>Ye===I))});if(T===-1)continue;let F=t[T];if(F.toMiddleware!==C.toMiddleware||F.relation!==C.relation)throw new Error(`"${zt(F.name,F.aliases)}" middleware ${F.relation} "${F.toMiddleware}" middleware cannot be overridden by "${zt(v,w)}" middleware ${C.relation} "${C.toMiddleware}" middleware.`);t.splice(T,1)}}for(let I of b)n.add(I)}t.push(C)},clone:()=>s(Pu()),use:p=>{p.applyToStack(u)},remove:p=>typeof p=="string"?i(p):a(p),removeByTag:p=>{let _=!1,v=Pe(y=>{let{tags:w,name:C,aliases:b}=y;if(w&&w.includes(p)){let I=Sr(C,b);for(let T of I)n.delete(T);return _=!0,!1}return!0},"filterCb");return e=e.filter(v),t=t.filter(v),_},concat:p=>{var _;let v=s(Pu());return v.use(p),v.identifyOnResolve(r||v.identifyOnResolve()||(((_=p.identifyOnResolve)==null?void 0:_.call(p))??!1)),v},applyToStack:s,identify:()=>d(!0).map(p=>{let _=p.step??p.relation+" "+p.toMiddleware;return zt(p.name,p.aliases)+" - "+_}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,_)=>{for(let v of d().map(y=>y.middleware).reverse())p=v(p,_);return r&&console.log(u.identify()),p}};return u},"constructStack"),iS={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},sS={high:3,normal:2,low:1}});var B=m((Ide,DS)=>{l();var xs=Object.defineProperty,sj=Object.getOwnPropertyDescriptor,aj=Object.getOwnPropertyNames,cj=Object.prototype.hasOwnProperty,O=(e,t)=>xs(e,"name",{value:t,configurable:!0}),lj=(e,t)=>{for(var r in t)xs(e,r,{get:t[r],enumerable:!0})},dj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aj(t))!cj.call(e,o)&&o!==r&&xs(e,o,{get:()=>t[o],enumerable:!(n=sj(t,o))||n.enumerable});return e},uj=e=>dj(xs({},"__esModule",{value:!0}),e),uS={};lj(uS,{Client:()=>pj,Command:()=>gS,LazyJsonString:()=>cH,NoOpLogger:()=>lH,SENSITIVE_STRING:()=>mj,ServiceException:()=>Jj,StringWrapper:()=>_o,_json:()=>Fu,collectBody:()=>xu.collectBody,convertMap:()=>dH,createAggregatedClient:()=>gj,dateToUtcString:()=>CS,decorateServiceException:()=>bS,emitWarningIfUnsupportedVersion:()=>Zj,expectBoolean:()=>vj,expectByte:()=>Nu,expectFloat32:()=>bs,expectInt:()=>yj,expectInt32:()=>Iu,expectLong:()=>mo,expectNonNull:()=>Ej,expectNumber:()=>fo,expectObject:()=>vS,expectShort:()=>Tu,expectString:()=>Cj,expectUnion:()=>wj,extendedEncodeURIComponent:()=>xu.extendedEncodeURIComponent,getArrayIfSingleItem:()=>sH,getDefaultClientConfiguration:()=>oH,getDefaultExtensionConfiguration:()=>xS,getValueFromTextNode:()=>RS,handleFloat:()=>Pj,isSerializableHeaderValue:()=>aH,limitedParseDouble:()=>Mu,limitedParseFloat:()=>xj,limitedParseFloat32:()=>Rj,loadConfigsForDefaultMode:()=>Qj,logger:()=>go,map:()=>qu,parseBoolean:()=>_j,parseEpochTimestamp:()=>jj,parseRfc3339DateTime:()=>Fj,parseRfc3339DateTimeWithOffset:()=>kj,parseRfc7231DateTime:()=>Uj,quoteHeader:()=>NS,resolveDefaultRuntimeConfig:()=>iH,resolvedPath:()=>xu.resolvedPath,serializeDateTime:()=>_H,serializeFloat:()=>gH,splitEvery:()=>FS,splitHeader:()=>vH,strictParseByte:()=>ES,strictParseDouble:()=>ku,strictParseFloat:()=>Oj,strictParseFloat32:()=>hS,strictParseInt:()=>Aj,strictParseInt32:()=>Ij,strictParseLong:()=>SS,strictParseShort:()=>Xr,take:()=>uH,throwDefaultError:()=>PS,withBaseException:()=>Yj});DS.exports=uj(uS);var pS=lS(),fS=class{constructor(t){this.config=t,this.middlewareStack=(0,pS.constructStack)()}send(t,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,a=o===void 0&&this.config.cacheMiddleware===!0,s;if(a){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?s=c.get(t.constructor):(s=t.resolveMiddleware(this.middlewareStack,this.config,o),c.set(t.constructor,s))}else delete this.handlers,s=t.resolveMiddleware(this.middlewareStack,this.config,o);if(i)s(t).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return s(t).then(c=>c.output)}destroy(){var t,r,n;(n=(r=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}};O(fS,"Client");var pj=fS,xu=(eu(),N(Ih)),Au=Y(),mS=class{constructor(){this.middlewareStack=(0,pS.constructStack)()}static classBuilder(){return new fj}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:u,CommandCtor:p}){for(let C of o.bind(this)(p,t,r,n))this.middlewareStack.use(C);let _=t.concat(this.middlewareStack),{logger:v}=r,y={logger:v,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:c,[Au.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...u},{requestHandler:w}=r;return _.resolve(C=>w.handle(C.request,n||{}),y)}};O(mS,"Command");var gS=mS,_S=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends gS{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,a){return this.resolveMiddlewareWithContext(o,i,a,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},O(t,"CommandRef"),t)}};O(_S,"ClassBuilder");var fj=_S,mj="***SensitiveInformation***",gj=O((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=O(async function(a,s,c){let d=new n(a);if(typeof s=="function")this.send(d,s);else if(typeof c=="function"){if(typeof s!="object")throw new Error(`Expected http options but got ${typeof s}`);this.send(d,s||{},c)}else return this.send(d,s)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},"createAggregatedClient"),_j=O(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),vj=O(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&go.warn(Ps(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&go.warn(Ps(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),fo=O(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&go.warn(Ps(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),hj=Math.ceil(2**127*(2-2**-23)),bs=O(e=>{let t=fo(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>hj)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),mo=O(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),yj=mo,Iu=O(e=>Du(e,32),"expectInt32"),Tu=O(e=>Du(e,16),"expectShort"),Nu=O(e=>Du(e,8),"expectByte"),Du=O((e,t)=>{let r=mo(e);if(r!==void 0&&Sj(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),Sj=O((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),Ej=O((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),vS=O(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),Cj=O(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return go.warn(Ps(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),wj=O(e=>{if(e==null)return;let t=vS(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),ku=O(e=>fo(typeof e=="string"?Zr(e):e),"strictParseDouble"),Oj=ku,hS=O(e=>bs(typeof e=="string"?Zr(e):e),"strictParseFloat32"),bj=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Zr=O(e=>{let t=e.match(bj);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),Mu=O(e=>typeof e=="string"?yS(e):fo(e),"limitedParseDouble"),Pj=Mu,xj=Mu,Rj=O(e=>typeof e=="string"?yS(e):bs(e),"limitedParseFloat32"),yS=O(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),SS=O(e=>mo(typeof e=="string"?Zr(e):e),"strictParseLong"),Aj=SS,Ij=O(e=>Iu(typeof e=="string"?Zr(e):e),"strictParseInt32"),Xr=O(e=>Tu(typeof e=="string"?Zr(e):e),"strictParseShort"),ES=O(e=>Nu(typeof e=="string"?Zr(e):e),"strictParseByte"),Ps=O(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),go={warn:console.warn},Tj=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Lu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function CS(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`,p=s<10?`0${s}`:`${s}`;return`${Tj[n]}, ${c} ${Lu[r]} ${t} ${d}:${u}:${p} GMT`}O(CS,"dateToUtcString");var Nj=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Fj=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Nj.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,c,d]=t,u=Xr(Qr(n)),p=at(o,"month",1,12),_=at(i,"day",1,31);return po(u,p,_,{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),Dj=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),kj=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Dj.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,c,d,u]=t,p=Xr(Qr(n)),_=at(o,"month",1,12),v=at(i,"day",1,31),y=po(p,_,v,{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-Kj(u)),y},"parseRfc3339DateTimeWithOffset"),Mj=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Lj=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),qj=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Uj=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Mj.exec(e);if(t){let[r,n,o,i,a,s,c,d]=t;return po(Xr(Qr(i)),Ru(o),at(n,"day",1,31),{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d})}if(t=Lj.exec(e),t){let[r,n,o,i,a,s,c,d]=t;return $j(po(Hj(i),Ru(o),at(n,"day",1,31),{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d}))}if(t=qj.exec(e),t){let[r,n,o,i,a,s,c,d]=t;return po(Xr(Qr(d)),Ru(n),at(o.trimLeft(),"day",1,31),{hours:i,minutes:a,seconds:s,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),jj=O(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ku(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),po=O((e,t,r,n)=>{let o=t-1;return Vj(e,o,r),new Date(Date.UTC(e,o,r,at(n.hours,"hour",0,23),at(n.minutes,"minute",0,59),at(n.seconds,"seconds",0,60),zj(n.fractionalMilliseconds)))},"buildDate"),Hj=O(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Xr(Qr(e));return r<t?r+100:r},"parseTwoDigitYear"),Bj=50*365*24*60*60*1e3,$j=O(e=>e.getTime()-new Date().getTime()>Bj?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Ru=O(e=>{let t=Lu.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),Gj=[31,28,31,30,31,30,31,31,30,31,30,31],Vj=O((e,t,r)=>{let n=Gj[t];if(t===1&&Wj(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Lu[t]} in ${e}: ${r}`)},"validateDayOfMonth"),Wj=O(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),at=O((e,t,r,n)=>{let o=ES(Qr(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),zj=O(e=>e==null?0:hS("0."+e)*1e3,"parseMilliseconds"),Kj=O(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Qr=O(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),wS=class OS extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,OS.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};O(wS,"ServiceException");var Jj=wS,bS=O((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),PS=O(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=Xj(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw bS(a,t)},"throwDefaultError"),Yj=O(e=>({output:t,parsedBody:r,errorCode:n})=>{PS({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Xj=O(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Qj=O(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),dS=!1,Zj=O(e=>{e&&!dS&&parseInt(e.substring(1,e.indexOf(".")))<16&&(dS=!0)},"emitWarningIfUnsupportedVersion"),eH=O(e=>{let t=[];for(let r in Au.AlgorithmId){let n=Au.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),tH=O(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),rH=O(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),nH=O(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),xS=O(e=>({...eH(e),...rH(e)}),"getDefaultExtensionConfiguration"),oH=xS,iH=O(e=>({...tH(e),...nH(e)}),"resolveDefaultRuntimeConfig"),sH=O(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),RS=O(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=RS(e[r]));return e},"getValueFromTextNode"),aH=O(e=>e!=null,"isSerializableHeaderValue"),_o=O(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");_o.prototype=Object.create(String.prototype,{constructor:{value:_o,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(_o,String);var AS=class Os extends _o{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Os?t:t instanceof String||typeof t=="string"?new Os(t):new Os(JSON.stringify(t))}};O(AS,"LazyJsonString");var cH=AS,IS=class{trace(){}debug(){}info(){}warn(){}error(){}};O(IS,"NoOpLogger");var lH=IS;function qu(e,t,r){let n,o,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return o=t,i=r,pH(n,o,i);i=t}for(let a of Object.keys(i)){if(!Array.isArray(i[a])){n[a]=i[a];continue}TS(n,null,i,a)}return n}O(qu,"map");var dH=O(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),uH=O((e,t)=>{let r={};for(let n in t)TS(r,e,t,n);return r},"take"),pH=O((e,t,r)=>qu(e,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[t,i()]:n[o]=[t,i],n),{})),"mapWithFilter"),TS=O((e,t,r,n)=>{if(t!==null){let a=r[n];typeof a=="function"&&(a=[,a]);let[s=fH,c=mH,d=n]=a;(typeof s=="function"&&s(t[d])||typeof s!="function"&&s)&&(e[n]=c(t[d]));return}let[o,i]=r[n];if(typeof i=="function"){let a,s=o===void 0&&(a=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;s?e[n]=a:c&&(e[n]=i())}else{let a=o===void 0&&i!=null,s=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(a||s)&&(e[n]=i)}},"applyInstruction"),fH=O(e=>e!=null,"nonNullish"),mH=O(e=>e,"pass");function NS(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}O(NS,"quoteHeader");var gH=O(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),_H=O(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),Fu=O(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Fu);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Fu(e[r]));return t}return e},"_json");function FS(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],i="";for(let a=0;a<n.length;a++)i===""?i=n[a]:i+=t+n[a],(a+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}O(FS,"splitEvery");var vH=O(e=>{let t=e.length,r=[],n=!1,o,i=0;for(let a=0;a<t;++a){let s=e[a];switch(s){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,a)),i=a+1);break;default:}o=s}return r.push(e.slice(i)),r.map(a=>{a=a.trim();let s=a.length;return s<2?a:(a[0]==='"'&&a[s-1]==='"'&&(a=a.slice(1,s-1)),a.replace(/\\"/g,'"'))})},"splitHeader")});var kS,hH,MS=x(()=>{l();kS=K(B()),hH=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,kS.expectUnion)(e)}});var LS,Rs,Uu=x(()=>{l();LS=K(B()),Rs=(e,t)=>(0,LS.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var qS,yH,SH,US=x(()=>{l();Uu();qS=(e,t)=>Rs(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),yH=async(e,t)=>{let r=await qS(e,t);return r.message=r.message??r.Message,r},SH=(e,t)=>{let r=(i,a)=>Object.keys(i).find(s=>s.toLowerCase()===a.toLowerCase()),n=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var As=m(wt=>{"use strict";l();var jS=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",EH=jS+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",HS="["+jS+"]["+EH+"]*",CH=new RegExp("^"+HS+"$"),wH=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let a=0;a<i;a++)o.push(n[a]);r.push(o),n=t.exec(e)}return r},OH=function(e){let t=CH.exec(e);return!(t===null||typeof t>"u")};wt.isExist=function(e){return typeof e<"u"};wt.isEmptyObject=function(e){return Object.keys(e).length===0};wt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};wt.getValue=function(e){return wt.isExist(e)?e:""};wt.isName=OH;wt.getAllMatches=wH;wt.nameRegexp=HS});var Hu=m(WS=>{"use strict";l();var ju=As(),bH={allowBooleanAttributes:!1,unpairedTags:[]};WS.validate=function(e,t){t=Object.assign({},bH,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=$S(e,i),i.err)return i}else if(e[i]==="<"){let a=i;if(i++,e[i]==="!"){i=GS(e,i);continue}else{let s=!1;e[i]==="/"&&(s=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!FH(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",Q("InvalidTag",p,ve(e,i))}let d=RH(e,i);if(d===!1)return Q("InvalidAttr","Attributes for '"+c+"' have open quote.",ve(e,i));let u=d.value;if(i=d.index,u[u.length-1]==="/"){let p=i-u.length;u=u.substring(0,u.length-1);let _=VS(u,t);if(_===!0)n=!0;else return Q(_.err.code,_.err.msg,ve(e,p+_.err.line))}else if(s)if(d.tagClosed){if(u.trim().length>0)return Q("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ve(e,a));if(r.length===0)return Q("InvalidTag","Closing tag '"+c+"' has not been opened.",ve(e,a));{let p=r.pop();if(c!==p.tagName){let _=ve(e,p.tagStartPos);return Q("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+_.line+", col "+_.col+") instead of closing tag '"+c+"'.",ve(e,a))}r.length==0&&(o=!0)}}else return Q("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ve(e,i));else{let p=VS(u,t);if(p!==!0)return Q(p.err.code,p.err.msg,ve(e,i-u.length+p.err.line));if(o===!0)return Q("InvalidXml","Multiple possible root nodes found.",ve(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:a}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=GS(e,i);continue}else if(e[i+1]==="?"){if(i=$S(e,++i),i.err)return i}else break;else if(e[i]==="&"){let p=TH(e,i);if(p==-1)return Q("InvalidChar","char '&' is not expected.",ve(e,i));i=p}else if(o===!0&&!BS(e[i]))return Q("InvalidXml","Extra text at the end",ve(e,i));e[i]==="<"&&i--}}else{if(BS(e[i]))continue;return Q("InvalidChar","char '"+e[i]+"' is not expected.",ve(e,i))}if(n){if(r.length==1)return Q("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ve(e,r[0].tagStartPos));if(r.length>0)return Q("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Q("InvalidXml","Start tag expected.",1);return!0};function BS(e){return e===" "||e==="	"||e===`
`||e==="\r"}function $S(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Q("InvalidXml","XML declaration allowed only at the start of the document.",ve(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function GS(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var PH='"',xH="'";function RH(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===PH||e[t]===xH)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var AH=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function VS(e,t){let r=ju.getAllMatches(e,AH),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return Q("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",vo(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return Q("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",vo(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return Q("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",vo(r[o]));let i=r[o][2];if(!NH(i))return Q("InvalidAttr","Attribute '"+i+"' is an invalid name.",vo(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return Q("InvalidAttr","Attribute '"+i+"' is repeated.",vo(r[o]))}return!0}function IH(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function TH(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,IH(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Q(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function NH(e){return ju.isName(e)}function FH(e){return ju.isName(e)}function ve(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function vo(e){return e.startIndex+e[1].length}});var KS=m(Bu=>{l();var zS={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},DH=function(e){return Object.assign({},zS,e)};Bu.buildOptions=DH;Bu.defaultOptions=zS});var YS=m((Wde,JS)=>{"use strict";l();var $u=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};JS.exports=$u});var QS=m((Kde,XS)=>{l();var kH=As();function MH(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&UH(e,t))t+=7,[entityName,val,t]=LH(e,t+1),val.indexOf("&")===-1&&(r[$H(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&jH(e,t))t+=8;else if(o&&HH(e,t))t+=8;else if(o&&BH(e,t))t+=9;else if(qH)i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function LH(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function qH(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function UH(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function jH(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function HH(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function BH(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function $H(e){if(kH.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}XS.exports=MH});var eE=m((Yde,ZS)=>{l();var GH=/^[-+]?0x[a-fA-F0-9]+$/,VH=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var WH={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function zH(e,t={}){if(t=Object.assign({},WH,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&GH.test(r))return Number.parseInt(r,16);{let n=VH.exec(r);if(n){let o=n[1],i=n[2],a=KH(n[3]),s=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||s?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&a===""||d===a||o&&d==="-"+a?c:e:i?a===d||o+a===d?c:e:r===d||r===o+d?c:e}}else return e}}function KH(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}ZS.exports=zH});var nE=m((Qde,rE)=>{"use strict";l();var tE=As(),ho=YS(),JH=QS(),YH=eE(),Gu=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=XH,this.parseXml=rB,this.parseTextData=QH,this.resolveNameSpace=ZH,this.buildAttributesMap=tB,this.isItStopNode=sB,this.replaceEntitiesValue=oB,this.readStopNodeData=cB,this.saveTextToParentTag=iB,this.addChild=nB}};function XH(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function QH(e,t,r,n,o,i,a){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let s=this.options.tagValueProcessor(t,e,r,o,i);return s==null?e:typeof s!=typeof e||s!==e?s:this.options.trimValues?Wu(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Wu(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function ZH(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var eB=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tB(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=tE.getAllMatches(e,eB),o=n.length,i={};for(let a=0;a<o;a++){let s=this.resolveNameSpace(n[a][1]),c=n[a][4],d=this.options.attributeNamePrefix+s;if(s.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(s,c,t);u==null?i[d]=c:typeof u!=typeof c||u!==c?i[d]=u:i[d]=Wu(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[d]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=i,a}return i}}var rB=function(e){e=e.replace(/\r\n?/g,`
`);let t=new ho("!xml"),r=t,n="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let s=Er(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,s).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),r=this.tagsNodeStack.pop(),n="",i=s}else if(e[i+1]==="?"){let s=Vu(e,i,!1,"?>");if(!s)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&s.tagName==="?xml"||this.options.ignorePiTags)){let c=new ho(s.tagName);c.add(this.options.textNodeName,""),s.tagName!==s.tagExp&&s.attrExpPresent&&(c[":@"]=this.buildAttributesMap(s.tagExp,o,s.tagName)),this.addChild(r,c,o)}i=s.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let s=Er(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,s-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=s}else if(e.substr(i+1,2)==="!D"){let s=JH(e,i);this.docTypeEntities=s.entities,i=s.i}else if(e.substr(i+1,2)==="!["){let s=Er(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,s);n=this.saveTextToParentTag(n,r,o);let d=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,d),i=s+2}else{let s=Vu(e,i,this.options.removeNSPrefix),c=s.tagName,d=s.rawTagName,u=s.tagExp,p=s.attrExpPresent,_=s.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let v=r;if(v&&this.options.unpairedTags.indexOf(v.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let y="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),i=s.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=s.closeIndex;else{let C=this.readStopNodeData(e,d,_+1);if(!C)throw new Error(`Unexpected end of ${d}`);i=C.i,y=C.tagContent}let w=new ho(c);c!==u&&p&&(w[":@"]=this.buildAttributesMap(u,o,c)),y&&(y=this.parseTextData(y,c,o,!0,p,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),w.add(this.options.textNodeName,y),this.addChild(r,w,o)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new ho(c);c!==u&&p&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o),o=o.substr(0,o.lastIndexOf("."))}else{let y=new ho(c);this.tagsNodeStack.push(r),c!==u&&p&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o),r=y}n="",i=_}}else n+=e[i];return t.child};function nB(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var oB=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function iB(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function sB(e,t,r){let n="*."+r;for(let o in e){let i=e[o];if(n===i||t===i)return!0}return!1}function aB(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let a=e[i];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===r[0])if(r[1]){if(e[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else a==="	"&&(a=" ");o+=a}}function Er(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Vu(e,t,r,n=">"){let o=aB(e,t+1,n);if(!o)return;let i=o.data,a=o.index,s=i.search(/\s/),c=i,d=!0;s!==-1&&(c=i.substring(0,s),i=i.substring(s+1).trimStart());let u=c;if(r){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),d=c!==o.data.substr(p+1))}return{tagName:c,tagExp:i,closeIndex:a,attrExpPresent:d,rawTagName:u}}function cB(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=Er(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=Er(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Er(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Er(e,"]]>",r,"StopNode is not closed.")-2;else{let i=Vu(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function Wu(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:YH(e,r)}else return tE.isExist(e)?e:""}rE.exports=Gu});var sE=m(iE=>{"use strict";l();function lB(e,t){return oE(e,t)}function oE(e,t,r){let n,o={};for(let i=0;i<e.length;i++){let a=e[i],s=dB(a),c="";if(r===void 0?c=s:c=r+"."+s,s===t.textNodeName)n===void 0?n=a[s]:n+=""+a[s];else{if(s===void 0)continue;if(a[s]){let d=oE(a[s],t,c),u=pB(d,t);a[":@"]?uB(d,a[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[s]!==void 0&&o.hasOwnProperty(s)?(Array.isArray(o[s])||(o[s]=[o[s]]),o[s].push(d)):t.isArray(s,c,u)?o[s]=[d]:o[s]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function dB(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function uB(e,t,r,n){if(t){let o=Object.keys(t),i=o.length;for(let a=0;a<i;a++){let s=o[a];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function pB(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}iE.prettify=lB});var cE=m((rue,aE)=>{l();var{buildOptions:fB}=KS(),mB=nE(),{prettify:gB}=sE(),_B=Hu(),zu=class{constructor(t){this.externalEntities={},this.options=fB(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=_B.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new mB(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:gB(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};aE.exports=zu});var fE=m((oue,pE)=>{l();var vB=`
`;function hB(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=vB),dE(e,t,"",r)}function dE(e,t,r,n){let o="",i=!1;for(let a=0;a<e.length;a++){let s=e[a],c=yB(s);if(c===void 0)continue;let d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let y=s[c];SB(d,t)||(y=t.tagValueProcessor(c,y),y=uE(y,t)),i&&(o+=n),o+=y,i=!1;continue}else if(c===t.cdataPropName){i&&(o+=n),o+=`<![CDATA[${s[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${s[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let y=lE(s[":@"],t),w=c==="?xml"?"":n,C=s[c][0][t.textNodeName];C=C.length!==0?" "+C:"",o+=w+`<${c}${C}${y}?>`,i=!0;continue}let u=n;u!==""&&(u+=t.indentBy);let p=lE(s[":@"],t),_=n+`<${c}${p}`,v=dE(s[c],t,d,u);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=_+">":o+=_+"/>":(!v||v.length===0)&&t.suppressEmptyNode?o+=_+"/>":v&&v.endsWith(">")?o+=_+`>${v}${n}</${c}>`:(o+=_+">",v&&n!==""&&(v.includes("/>")||v.includes("</"))?o+=n+t.indentBy+v+n:o+=v,o+=`</${c}>`),i=!0}return o}function yB(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&n!==":@")return n}}function lE(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let o=t.attributeValueProcessor(n,e[n]);o=uE(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function SB(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function uE(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}pE.exports=hB});var gE=m((sue,mE)=>{"use strict";l();var EB=fE(),CB={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Kt(e){this.options=Object.assign({},CB,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=bB),this.processTextOrObjNode=wB,this.options.format?(this.indentate=OB,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Kt.prototype.build=function(e){return this.options.preserveOrder?EB(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Kt.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(typeof e[o]>"u")this.isAttribute(o)&&(n+="");else if(e[o]===null)this.isAttribute(o)?n+="":o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let a=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(a)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,a="",s="";for(let c=0;c<i;c++){let d=e[o][c];if(!(typeof d>"u"))if(d===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(typeof d=="object")if(this.options.oneListGroup){let u=this.j2x(d,t+1);a+=u.val,this.options.attributesGroupName&&d.hasOwnProperty(this.options.attributesGroupName)&&(s+=u.attrStr)}else a+=this.processTextOrObjNode(d,o,t);else if(this.options.oneListGroup){let u=this.options.tagValueProcessor(o,d);u=this.replaceEntitiesValue(u),a+=u}else a+=this.buildTextValNode(d,o,"",t)}this.options.oneListGroup&&(a=this.buildObjectNode(a,o,s,t)),n+=a}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(e[o]),a=i.length;for(let s=0;s<a;s++)r+=this.buildAttrPairStr(i[s],""+e[o][i[s]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Kt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function wB(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Kt.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),(r||r==="")&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o}};Kt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Kt.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Kt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function OB(e){return this.options.indentBy.repeat(e)}function bB(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}mE.exports=Kt});var vE=m((cue,_E)=>{"use strict";l();var PB=Hu(),xB=cE(),RB=gE();_E.exports={XMLParser:xB,XMLValidator:PB,XMLBuilder:RB}});var hE,yE,SE,AB,IB,EE=x(()=>{l();hE=K(B()),yE=K(vE());Uu();SE=(e,t)=>Rs(e,t).then(r=>{if(r.length){let n=new yE.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",a=Object.keys(o)[0],s=o[a];return s[i]&&(s[a]=s[i],delete s[i]),(0,hE.getValueFromTextNode)(s)}return{}}),AB=async(e,t)=>{let r=await SE(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},IB=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var CE=x(()=>{l();oS();MS();US();EE()});var oe={};$r(oe,{AWSSDKSigV4Signer:()=>Ey,AwsSdkSigV4ASigner:()=>ms,AwsSdkSigV4Signer:()=>hr,NODE_SIGV4A_CONFIG_OPTIONS:()=>vU,_toBool:()=>QU,_toNum:()=>ZU,_toStr:()=>XU,awsExpectUnion:()=>hH,emitWarningIfUnsupportedVersion:()=>dy,loadRestJsonErrorCode:()=>SH,loadRestXmlErrorCode:()=>IB,parseJsonBody:()=>qS,parseJsonErrorBody:()=>yH,parseXmlBody:()=>SE,parseXmlErrorBody:()=>AB,resolveAWSSDKSigV4Config:()=>YU,resolveAwsSdkSigV4AConfig:()=>_U,resolveAwsSdkSigV4Config:()=>eS,setCredentialFeature:()=>fs,setFeature:()=>fy,state:()=>ps,validateSigningProperties:()=>uo});var ie=x(()=>{l();st();nS();CE()});var en=m((wue,DE)=>{"use strict";l();var Ts=Object.defineProperty,TB=Object.getOwnPropertyDescriptor,NB=Object.getOwnPropertyNames,FB=Object.prototype.hasOwnProperty,Cr=(e,t)=>Ts(e,"name",{value:t,configurable:!0}),DB=(e,t)=>{for(var r in t)Ts(e,r,{get:t[r],enumerable:!0})},kB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of NB(t))!FB.call(e,o)&&o!==r&&Ts(e,o,{get:()=>t[o],enumerable:!(n=TB(t,o))||n.enumerable});return e},MB=e=>kB(Ts({},"__esModule",{value:!0}),e),PE={};DB(PE,{DEFAULT_UA_APP_ID:()=>xE,getUserAgentMiddlewareOptions:()=>FE,getUserAgentPlugin:()=>GB,resolveUserAgentConfig:()=>AE,userAgentMiddleware:()=>NE});DE.exports=MB(PE);var LB=(Oe(),N(Ze)),xE=void 0;function RE(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Cr(RE,"isValidUserAgentAppId");function AE(e){let t=(0,LB.normalizeProvider)(e.userAgentAppId??xE);return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent,userAgentAppId:async()=>{var r,n;let o=await t();if(!RE(o)){let i=((n=(r=e.logger)==null?void 0:r.constructor)==null?void 0:n.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof o!="string"?i?.warn("userAgentAppId must be a string or undefined."):o.length>50&&i?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return o}}}Cr(AE,"resolveUserAgentConfig");var qB=Kr(),UB=J(),ct=(ie(),N(oe)),jB=/\d{12}\.ddb/;async function IE(e,t,r){var n,o,i,a,s,c,d;let u=r.request;if(((n=u?.headers)==null?void 0:n["smithy-protocol"])==="rpc-v2-cbor"&&(0,ct.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let _=await t.retryStrategy();typeof _.acquireInitialRetryToken=="function"?(i=(o=_.constructor)==null?void 0:o.name)!=null&&i.includes("Adaptive")?(0,ct.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,ct.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,ct.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let _=e.endpointV2;switch(String((a=_?.url)==null?void 0:a.hostname).match(jB)&&(0,ct.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await((s=t.accountIdEndpointMode)==null?void 0:s.call(t))){case"disabled":(0,ct.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,ct.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,ct.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let p=(d=(c=e.__smithy_context)==null?void 0:c.selectedHttpAuthScheme)==null?void 0:d.identity;if(p?.$source){let _=p;_.accountId&&(0,ct.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[v,y]of Object.entries(_.$source??{}))(0,ct.setFeature)(e,v,y)}}Cr(IE,"checkFeatures");var wE="user-agent",Ku="x-amz-user-agent",OE=" ",Ju="/",HB=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,BB=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,bE="-",$B=1024;function TE(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=$B){t.length?t+=","+n:t+=n;continue}break}return t}Cr(TE,"encodeFeatures");var NE=Cr(e=>(t,r)=>async n=>{var o,i,a,s;let{request:c}=n;if(!UB.HttpRequest.isInstance(c))return t(n);let{headers:d}=c,u=((o=r?.userAgent)==null?void 0:o.map(Is))||[],p=(await e.defaultUserAgentProvider()).map(Is);await IE(r,e,n);let _=r;p.push(`m/${TE(Object.assign({},(i=r.__smithy_context)==null?void 0:i.features,(a=_.__aws_sdk_context)==null?void 0:a.features))}`);let v=((s=e?.customUserAgent)==null?void 0:s.map(Is))||[],y=await e.userAgentAppId();y&&p.push(Is([`app/${y}`]));let w=(0,qB.getUserAgentPrefix)(),C=(w?[w]:[]).concat([...p,...u,...v]).join(OE),b=[...p.filter(I=>I.startsWith("aws-sdk-")),...v].join(OE);return e.runtime!=="browser"?(b&&(d[Ku]=d[Ku]?`${d[wE]} ${b}`:b),d[wE]=C):d[Ku]=C,t({...n,request:c})},"userAgentMiddleware"),Is=Cr(e=>{var t;let r=e[0].split(Ju).map(s=>s.replace(HB,bE)).join(Ju),n=(t=e[1])==null?void 0:t.replace(BB,bE),o=r.indexOf(Ju),i=r.substring(0,o),a=r.substring(o+1);return i==="api"&&(a=a.toLowerCase()),[i,a,n].filter(s=>s&&s.length>0).reduce((s,c,d)=>{switch(d){case 0:return c;case 1:return`${s}/${c}`;default:return`${s}#${c}`}},"")},"escapeUserAgent"),FE={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},GB=Cr(e=>({applyToStack:t=>{t.add(NE(e),FE)}}),"getUserAgentPlugin")});var UE=m((bue,qE)=>{l();var Ns=Object.defineProperty,VB=Object.getOwnPropertyDescriptor,WB=Object.getOwnPropertyNames,zB=Object.prototype.hasOwnProperty,kE=(e,t)=>Ns(e,"name",{value:t,configurable:!0}),KB=(e,t)=>{for(var r in t)Ns(e,r,{get:t[r],enumerable:!0})},JB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of WB(t))!zB.call(e,o)&&o!==r&&Ns(e,o,{get:()=>t[o],enumerable:!(n=VB(t,o))||n.enumerable});return e},YB=e=>JB(Ns({},"__esModule",{value:!0}),e),ME={};KB(ME,{SelectorType:()=>LE,booleanSelector:()=>XB,numberSelector:()=>QB});qE.exports=YB(ME);var XB=kE((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),QB=kE((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),LE=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(LE||{})});var lt=m((xue,YE)=>{l();var Ds=Object.defineProperty,ZB=Object.getOwnPropertyDescriptor,e$=Object.getOwnPropertyNames,t$=Object.prototype.hasOwnProperty,et=(e,t)=>Ds(e,"name",{value:t,configurable:!0}),r$=(e,t)=>{for(var r in t)Ds(e,r,{get:t[r],enumerable:!0})},n$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e$(t))!t$.call(e,o)&&o!==r&&Ds(e,o,{get:()=>t[o],enumerable:!(n=ZB(t,o))||n.enumerable});return e},o$=e=>n$(Ds({},"__esModule",{value:!0}),e),BE={};r$(BE,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>GE,CONFIG_USE_FIPS_ENDPOINT:()=>WE,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>i$,DEFAULT_USE_FIPS_ENDPOINT:()=>a$,ENV_USE_DUALSTACK_ENDPOINT:()=>$E,ENV_USE_FIPS_ENDPOINT:()=>VE,NODE_REGION_CONFIG_FILE_OPTIONS:()=>f$,NODE_REGION_CONFIG_OPTIONS:()=>p$,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>s$,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>c$,REGION_ENV_NAME:()=>zE,REGION_INI_NAME:()=>KE,getRegionInfo:()=>h$,resolveCustomEndpointsConfig:()=>l$,resolveEndpointsConfig:()=>u$,resolveRegionConfig:()=>m$});YE.exports=o$(BE);var Jt=UE(),$E="AWS_USE_DUALSTACK_ENDPOINT",GE="use_dualstack_endpoint",i$=!1,s$={environmentVariableSelector:e=>(0,Jt.booleanSelector)(e,$E,Jt.SelectorType.ENV),configFileSelector:e=>(0,Jt.booleanSelector)(e,GE,Jt.SelectorType.CONFIG),default:!1},VE="AWS_USE_FIPS_ENDPOINT",WE="use_fips_endpoint",a$=!1,c$={environmentVariableSelector:e=>(0,Jt.booleanSelector)(e,VE,Jt.SelectorType.ENV),configFileSelector:e=>(0,Jt.booleanSelector)(e,WE,Jt.SelectorType.CONFIG),default:!1},Fs=Qe(),l$=et(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,Fs.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,Fs.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),d$=et(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:a}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${a}`)},"getEndpointFromRegion"),u$=et(e=>{let t=(0,Fs.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,Fs.normalizeProvider)(typeof r=="string"?o(r):r):()=>d$({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),zE="AWS_REGION",KE="region",p$={environmentVariableSelector:e=>e[zE],configFileSelector:e=>e[KE],default:()=>{throw new Error("Region is missing")}},f$={preferredFile:"credentials"},JE=et(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),jE=et(e=>JE(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),m$=et(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return jE(t);let n=await t();return jE(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return JE(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),HE=et((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),g$=et((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),_$=et((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),v$=et((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),h$=et((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var a,s,c,d,u;let p=_$(e,{partitionHash:i}),_=e in o?e:((a=i[p])==null?void 0:a.endpoint)??e,v={useFipsEndpoint:t,useDualstackEndpoint:r},y=HE((s=o[_])==null?void 0:s.variants,v),w=HE((c=i[p])==null?void 0:c.variants,v),C=g$(_,{regionHostname:y,partitionHostname:w});if(C===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:_,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let b=v$(C,{signingRegion:(d=o[_])==null?void 0:d.signingRegion,regionRegex:i[p].regionRegex,useFipsEndpoint:t});return{partition:p,signingService:n,hostname:C,...b&&{signingRegion:b},...((u=o[_])==null?void 0:u.signingService)&&{signingService:o[_].signingService}}},"getRegionInfo")});var ZE=m((Aue,QE)=>{l();var ks=Object.defineProperty,y$=Object.getOwnPropertyDescriptor,S$=Object.getOwnPropertyNames,E$=Object.prototype.hasOwnProperty,C$=(e,t)=>ks(e,"name",{value:t,configurable:!0}),w$=(e,t)=>{for(var r in t)ks(e,r,{get:t[r],enumerable:!0})},O$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of S$(t))!E$.call(e,o)&&o!==r&&ks(e,o,{get:()=>t[o],enumerable:!(n=y$(t,o))||n.enumerable});return e},b$=e=>O$(ks({},"__esModule",{value:!0}),e),XE={};w$(XE,{resolveEventStreamSerdeConfig:()=>P$});QE.exports=b$(XE);var P$=C$(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")});var yo=m((Tue,o0)=>{l();var Ms=Object.defineProperty,x$=Object.getOwnPropertyDescriptor,R$=Object.getOwnPropertyNames,A$=Object.prototype.hasOwnProperty,t0=(e,t)=>Ms(e,"name",{value:t,configurable:!0}),I$=(e,t)=>{for(var r in t)Ms(e,r,{get:t[r],enumerable:!0})},T$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R$(t))!A$.call(e,o)&&o!==r&&Ms(e,o,{get:()=>t[o],enumerable:!(n=x$(t,o))||n.enumerable});return e},N$=e=>T$(Ms({},"__esModule",{value:!0}),e),r0={};I$(r0,{contentLengthMiddleware:()=>Yu,contentLengthMiddlewareOptions:()=>n0,getContentLengthPlugin:()=>D$});o0.exports=N$(r0);var F$=J(),e0="content-length";function Yu(e){return t=>async r=>{let n=r.request;if(F$.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(a=>a.toLowerCase()).indexOf(e0)===-1)try{let a=e(o);n.headers={...n.headers,[e0]:String(a)}}catch{}}return t({...r,request:n})}}t0(Yu,"contentLengthMiddleware");var n0={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},D$=t0(e=>({applyToStack:t=>{t.add(Yu(e.bodyLengthChecker),n0)}}),"getContentLengthPlugin")});var tn=m(Ls=>{"use strict";l();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.getHomeDir=void 0;var k$=S("os"),M$=S("path"),Xu={},L$=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",q$=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${M$.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=L$();return Xu[o]||(Xu[o]=(0,k$.homedir)()),Xu[o]};Ls.getHomeDir=q$});var Qu=m(qs=>{"use strict";l();Object.defineProperty(qs,"__esModule",{value:!0});qs.getSSOTokenFilepath=void 0;var U$=S("crypto"),j$=S("path"),H$=tn(),B$=e=>{let r=(0,U$.createHash)("sha1").update(e).digest("hex");return(0,j$.join)((0,H$.getHomeDir)(),".aws","sso","cache",`${r}.json`)};qs.getSSOTokenFilepath=B$});var i0=m(Us=>{"use strict";l();Object.defineProperty(Us,"__esModule",{value:!0});Us.getSSOTokenFromFile=void 0;var $$=S("fs"),G$=Qu(),{readFile:V$}=$$.promises,W$=async e=>{let t=(0,G$.getSSOTokenFilepath)(e),r=await V$(t,"utf8");return JSON.parse(r)};Us.getSSOTokenFromFile=W$});var ep=m(js=>{"use strict";l();Object.defineProperty(js,"__esModule",{value:!0});js.slurpFile=void 0;var z$=S("fs"),{readFile:K$}=z$.promises,Zu={},J$=(e,t)=>((!Zu[e]||t?.ignoreCache)&&(Zu[e]=K$(e,"utf8")),Zu[e]);js.slurpFile=J$});var op=m((Hue,Eo)=>{l();var $s=Object.defineProperty,Y$=Object.getOwnPropertyDescriptor,X$=Object.getOwnPropertyNames,Q$=Object.prototype.hasOwnProperty,xe=(e,t)=>$s(e,"name",{value:t,configurable:!0}),Z$=(e,t)=>{for(var r in t)$s(e,r,{get:t[r],enumerable:!0})},tp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of X$(t))!Q$.call(e,o)&&o!==r&&$s(e,o,{get:()=>t[o],enumerable:!(n=Y$(t,o))||n.enumerable});return e},np=(e,t,r)=>(tp(e,t,"default"),r&&tp(r,t,"default")),e2=e=>tp($s({},"__esModule",{value:!0}),e),So={};Z$(So,{CONFIG_PREFIX_SEPARATOR:()=>wr,DEFAULT_PROFILE:()=>l0,ENV_PROFILE:()=>c0,getProfileName:()=>t2,loadSharedConfigFiles:()=>u0,loadSsoSessionData:()=>m2,parseKnownFiles:()=>_2});Eo.exports=e2(So);np(So,tn(),Eo.exports);var c0="AWS_PROFILE",l0="default",t2=xe(e=>e.profile||process.env[c0]||l0,"getProfileName");np(So,Qu(),Eo.exports);np(So,i0(),Eo.exports);var Hs=Y(),r2=xe(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(wr);return r===-1?!1:Object.values(Hs.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(wr),i=r.substring(0,o)===Hs.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Bs=S("path"),n2=tn(),o2="AWS_CONFIG_FILE",d0=xe(()=>process.env[o2]||(0,Bs.join)((0,n2.getHomeDir)(),".aws","config"),"getConfigFilepath"),i2=tn(),s2="AWS_SHARED_CREDENTIALS_FILE",a2=xe(()=>process.env[s2]||(0,Bs.join)((0,i2.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),c2=tn(),l2=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,d2=["__proto__","profile __proto__"],rp=xe(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=l2.exec(s);if(c){let[,d,,u]=c;Object.values(Hs.IniSectionType).includes(d)&&(r=[d,u].join(wr))}else r=s;if(d2.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(wr):c;t[r][u]=d}}}}return t},"parseIni"),s0=ep(),a0=xe(()=>({}),"swallowError"),wr=".",u0=xe(async(e={})=>{let{filepath:t=a2(),configFilepath:r=d0()}=e,n=(0,c2.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Bs.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Bs.join)(n,r.slice(2)));let s=await Promise.all([(0,s0.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(rp).then(r2).catch(a0),(0,s0.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(rp).catch(a0)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),u2=xe(e=>Object.entries(e).filter(([t])=>t.startsWith(Hs.IniSectionType.SSO_SESSION+wr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(wr)+1)]:n}),{}),"getSsoSessionData"),p2=ep(),f2=xe(()=>({}),"swallowError"),m2=xe(async(e={})=>(0,p2.slurpFile)(e.configFilepath??d0()).then(rp).then(u2).catch(f2),"loadSsoSessionData"),g2=xe((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),_2=xe(async e=>{let t=await u0(e);return g2(t.configFile,t.credentialsFile)},"parseKnownFiles")});var g0=m(($ue,m0)=>{l();var Gs=Object.defineProperty,v2=Object.getOwnPropertyDescriptor,h2=Object.getOwnPropertyNames,y2=Object.prototype.hasOwnProperty,rn=(e,t)=>Gs(e,"name",{value:t,configurable:!0}),S2=(e,t)=>{for(var r in t)Gs(e,r,{get:t[r],enumerable:!0})},E2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of h2(t))!y2.call(e,o)&&o!==r&&Gs(e,o,{get:()=>t[o],enumerable:!(n=v2(t,o))||n.enumerable});return e},C2=e=>E2(Gs({},"__esModule",{value:!0}),e),f0={};S2(f0,{loadConfig:()=>x2});m0.exports=C2(f0);var Co=X();function ip(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}rn(ip,"getSelectorName");var w2=rn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Co.CredentialsProviderError(r.message||`Not found in ENV: ${ip(e.toString())}`,{logger:t})}},"fromEnv"),p0=op(),O2=rn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,p0.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,p0.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new Co.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${ip(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),b2=rn(e=>typeof e=="function","isFunction"),P2=rn(e=>b2(e)?async()=>await e():(0,Co.fromStatic)(e),"fromStatic"),x2=rn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Co.memoize)((0,Co.chain)(w2(e),O2(t,n),P2(r))),"loadConfig")});var y0=m(Vs=>{"use strict";l();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.getEndpointUrlConfig=void 0;var _0=op(),v0="AWS_ENDPOINT_URL",h0="endpoint_url",R2=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[v0,...r].join("_")];if(n)return n;let o=t[v0];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(_0.CONFIG_PREFIX_SEPARATOR)];if(o){let i=e.split(" ").map(s=>s.toLowerCase()),a=o[[i.join("_"),h0].join(_0.CONFIG_PREFIX_SEPARATOR)];if(a)return a}}let n=t[h0];if(n)return n},default:void 0});Vs.getEndpointUrlConfig=R2});var sp=m(Ws=>{"use strict";l();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.getEndpointFromConfig=void 0;var A2=g0(),I2=y0(),T2=async e=>(0,A2.loadConfig)((0,I2.getEndpointUrlConfig)(e??""))();Ws.getEndpointFromConfig=T2});var w0=m((Jue,C0)=>{l();var zs=Object.defineProperty,N2=Object.getOwnPropertyDescriptor,F2=Object.getOwnPropertyNames,D2=Object.prototype.hasOwnProperty,k2=(e,t)=>zs(e,"name",{value:t,configurable:!0}),M2=(e,t)=>{for(var r in t)zs(e,r,{get:t[r],enumerable:!0})},L2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F2(t))!D2.call(e,o)&&o!==r&&zs(e,o,{get:()=>t[o],enumerable:!(n=N2(t,o))||n.enumerable});return e},q2=e=>L2(zs({},"__esModule",{value:!0}),e),S0={};M2(S0,{parseQueryString:()=>E0});C0.exports=q2(S0);function E0(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}k2(E0,"parseQueryString")});var Or=m((Xue,P0)=>{l();var Ks=Object.defineProperty,U2=Object.getOwnPropertyDescriptor,j2=Object.getOwnPropertyNames,H2=Object.prototype.hasOwnProperty,B2=(e,t)=>Ks(e,"name",{value:t,configurable:!0}),$2=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},G2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j2(t))!H2.call(e,o)&&o!==r&&Ks(e,o,{get:()=>t[o],enumerable:!(n=U2(t,o))||n.enumerable});return e},V2=e=>G2(Ks({},"__esModule",{value:!0}),e),O0={};$2(O0,{parseUrl:()=>b0});P0.exports=V2(O0);var W2=w0(),b0=B2(e=>{if(typeof e=="string")return b0(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,a;return i&&(a=(0,W2.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:a}},"parseUrl")});var nn=m((Zue,F0)=>{l();var Ys=Object.defineProperty,z2=Object.getOwnPropertyDescriptor,K2=Object.getOwnPropertyNames,J2=Object.prototype.hasOwnProperty,tt=(e,t)=>Ys(e,"name",{value:t,configurable:!0}),Y2=(e,t)=>{for(var r in t)Ys(e,r,{get:t[r],enumerable:!0})},X2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K2(t))!J2.call(e,o)&&o!==r&&Ys(e,o,{get:()=>t[o],enumerable:!(n=z2(t,o))||n.enumerable});return e},Q2=e=>X2(Ys({},"__esModule",{value:!0}),e),R0={};Y2(R0,{endpointMiddleware:()=>T0,endpointMiddlewareOptions:()=>N0,getEndpointFromInstructions:()=>A0,getEndpointPlugin:()=>lG,resolveEndpointConfig:()=>uG,resolveParams:()=>I0,toEndpointV1:()=>ap});F0.exports=Q2(R0);var Z2=tt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),oG(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!nG(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),eG=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,tG=/(\d+\.){3}\d+/,rG=/\.\./,nG=tt(e=>eG.test(e)&&!tG.test(e)&&!rG.test(e),"isDnsCompatibleBucketName"),oG=tt(e=>{let[t,r,n,,,o]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,a=!!(i&&r&&n&&o);if(i&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},"isArnBucketName"),iG=tt((e,t,r)=>{let n=tt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:s,path:c}=o;return`${i}//${a}${s?":"+s:""}${c}`}}return o}:n},"createConfigValueProvider"),sG=sp(),x0=Or(),ap=tt(e=>typeof e=="object"?"url"in e?(0,x0.parseUrl)(e.url):e:(0,x0.parseUrl)(e),"toEndpointV1"),A0=tt(async(e,t,r,n)=>{if(!r.endpoint){let a;r.serviceConfiguredEndpoint?a=await r.serviceConfiguredEndpoint():a=await(0,sG.getEndpointFromConfig)(r.serviceId),a&&(r.endpoint=()=>Promise.resolve(ap(a)))}let o=await I0(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),I0=tt(async(e,t,r)=>{var n;let o={},i=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[a,s]of Object.entries(i))switch(s.type){case"staticContextParams":o[a]=s.value;break;case"contextParams":o[a]=e[s.name];break;case"clientContextParams":case"builtInParams":o[a]=await iG(s.name,a,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await Z2(o),o},"resolveParams"),aG=(Oe(),N(Ze)),Js=Qe(),T0=tt(({config:e,instructions:t})=>(r,n)=>async o=>{var i,a,s;e.endpoint&&(0,aG.setFeature)(n,"ENDPOINT_OVERRIDE","N");let c=await A0(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let d=(a=n.authSchemes)==null?void 0:a[0];if(d){n.signing_region=d.signingRegion,n.signing_service=d.signingName;let u=(0,Js.getSmithyContext)(n),p=(s=u?.selectedHttpAuthScheme)==null?void 0:s.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:d.signingRegion,signingRegion:d.signingRegion,signing_service:d.signingName,signingName:d.signingName,signingRegionSet:d.signingRegionSet},d.properties))}return r({...o})},"endpointMiddleware"),cG=mr(),N0={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cG.serializerMiddlewareOption.name},lG=tt((e,t)=>({applyToStack:r=>{r.addRelativeTo(T0({config:e,instructions:t}),N0)}}),"getEndpointPlugin"),dG=sp(),uG=tt(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>ap(await(0,Js.normalizeProvider)(r)()):void 0,i={...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Js.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,Js.normalizeProvider)(e.useFipsEndpoint??!1)},a;return i.serviceConfiguredEndpoint=async()=>(e.serviceId&&!a&&(a=(0,dG.getEndpointFromConfig)(e.serviceId)),a),i},"resolveEndpointConfig")});import pG from"crypto";function wo(){return Xs>Qs.length-16&&(pG.randomFillSync(Qs),Xs=0),Qs.slice(Xs,Xs+=16)}var Qs,Xs,cp=x(()=>{l();Qs=new Uint8Array(256),Xs=Qs.length});var D0,k0=x(()=>{l();D0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function fG(e){return typeof e=="string"&&D0.test(e)}var Yt,Oo=x(()=>{l();k0();Yt=fG});function br(e,t=0){return le[e[t+0]]+le[e[t+1]]+le[e[t+2]]+le[e[t+3]]+"-"+le[e[t+4]]+le[e[t+5]]+"-"+le[e[t+6]]+le[e[t+7]]+"-"+le[e[t+8]]+le[e[t+9]]+"-"+le[e[t+10]]+le[e[t+11]]+le[e[t+12]]+le[e[t+13]]+le[e[t+14]]+le[e[t+15]]}function mG(e,t=0){let r=br(e,t);if(!Yt(r))throw TypeError("Stringified UUID is invalid");return r}var le,M0,bo=x(()=>{l();Oo();le=[];for(let e=0;e<256;++e)le.push((e+256).toString(16).slice(1));M0=mG});function gG(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||L0,a=e.clockseq!==void 0?e.clockseq:lp;if(i==null||a==null){let _=e.random||(e.rng||wo)();i==null&&(i=L0=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),a==null&&(a=lp=(_[6]<<8|_[7])&16383)}let s=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:up+1,d=s-dp+(c-up)/1e4;if(d<0&&e.clockseq===void 0&&(a=a+1&16383),(d<0||s>dp)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dp=s,up=c,lp=a,s+=122192928e5;let u=((s&268435455)*1e4+c)%4294967296;o[n++]=u>>>24&255,o[n++]=u>>>16&255,o[n++]=u>>>8&255,o[n++]=u&255;let p=s/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=p&255,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=a>>>8|128,o[n++]=a&255;for(let _=0;_<6;++_)o[n+_]=i[_];return t||br(o)}var L0,lp,dp,up,q0,U0=x(()=>{l();cp();bo();dp=0,up=0;q0=gG});function _G(e){if(!Yt(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Zs,pp=x(()=>{l();Oo();Zs=_G});function vG(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Po(e,t,r){function n(o,i,a,s){var c;if(typeof o=="string"&&(o=vG(o)),typeof i=="string"&&(i=Zs(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,a){s=s||0;for(let u=0;u<16;++u)a[s+u]=d[u];return a}return br(d)}try{n.name=e}catch{}return n.DNS=hG,n.URL=yG,n}var hG,yG,fp=x(()=>{l();bo();pp();hG="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yG="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import SG from"crypto";function EG(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),SG.createHash("md5").update(e).digest()}var j0,H0=x(()=>{l();j0=EG});var CG,B0,$0=x(()=>{l();fp();H0();CG=Po("v3",48,j0),B0=CG});import wG from"crypto";var mp,G0=x(()=>{l();mp={randomUUID:wG.randomUUID}});function OG(e,t,r){if(mp.randomUUID&&!t&&!e)return mp.randomUUID();e=e||{};let n=e.random||(e.rng||wo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return br(n)}var V0,W0=x(()=>{l();G0();cp();bo();V0=OG});import bG from"crypto";function PG(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),bG.createHash("sha1").update(e).digest()}var z0,K0=x(()=>{l();z0=PG});var xG,J0,Y0=x(()=>{l();fp();K0();xG=Po("v5",80,z0),J0=xG});var X0,Q0=x(()=>{l();X0="00000000-0000-0000-0000-000000000000"});function RG(e){if(!Yt(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Z0,eC=x(()=>{l();Oo();Z0=RG});var gp={};$r(gp,{NIL:()=>X0,parse:()=>Zs,stringify:()=>M0,v1:()=>q0,v3:()=>B0,v4:()=>V0,v5:()=>J0,validate:()=>Yt,version:()=>Z0});var _p=x(()=>{l();U0();$0();W0();Y0();Q0();eC();Oo();bo();pp()});var vp=m((sfe,oC)=>{l();var ea=Object.defineProperty,AG=Object.getOwnPropertyDescriptor,IG=Object.getOwnPropertyNames,TG=Object.prototype.hasOwnProperty,on=(e,t)=>ea(e,"name",{value:t,configurable:!0}),NG=(e,t)=>{for(var r in t)ea(e,r,{get:t[r],enumerable:!0})},FG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IG(t))!TG.call(e,o)&&o!==r&&ea(e,o,{get:()=>t[o],enumerable:!(n=AG(t,o))||n.enumerable});return e},DG=e=>FG(ea({},"__esModule",{value:!0}),e),tC={};NG(tC,{isClockSkewCorrectedError:()=>rC,isClockSkewError:()=>HG,isRetryableByTrait:()=>jG,isServerError:()=>$G,isThrottlingError:()=>BG,isTransientError:()=>nC});oC.exports=DG(tC);var kG=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],MG=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],LG=["TimeoutError","RequestTimeout","RequestTimeoutException"],qG=[500,502,503,504],UG=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],jG=on(e=>e.$retryable!==void 0,"isRetryableByTrait"),HG=on(e=>kG.includes(e.name),"isClockSkewError"),rC=on(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),BG=on(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||MG.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),nC=on(e=>{var t;return rC(e)||LG.includes(e.name)||UG.includes(e?.code||"")||qG.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),$G=on(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!nC(e)}return!1},"isServerError")});var sn=m((ufe,vC)=>{l();var ta=Object.defineProperty,GG=Object.getOwnPropertyDescriptor,VG=Object.getOwnPropertyNames,WG=Object.prototype.hasOwnProperty,rt=(e,t)=>ta(e,"name",{value:t,configurable:!0}),zG=(e,t)=>{for(var r in t)ta(e,r,{get:t[r],enumerable:!0})},KG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VG(t))!WG.call(e,o)&&o!==r&&ta(e,o,{get:()=>t[o],enumerable:!(n=GG(t,o))||n.enumerable});return e},JG=e=>KG(ta({},"__esModule",{value:!0}),e),sC={};zG(sC,{AdaptiveRetryStrategy:()=>t3,ConfiguredRetryStrategy:()=>r3,DEFAULT_MAX_ATTEMPTS:()=>hp,DEFAULT_RETRY_DELAY_BASE:()=>xo,DEFAULT_RETRY_MODE:()=>YG,DefaultRateLimiter:()=>lC,INITIAL_RETRY_TOKENS:()=>yp,INVOCATION_ID_HEADER:()=>QG,MAXIMUM_RETRY_DELAY:()=>Ep,NO_RETRY_INCREMENT:()=>fC,REQUEST_HEADER:()=>ZG,RETRY_COST:()=>uC,RETRY_MODES:()=>aC,StandardRetryStrategy:()=>Cp,THROTTLING_RETRY_DELAY_BASE:()=>dC,TIMEOUT_RETRY_COST:()=>pC});vC.exports=JG(sC);var aC=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(aC||{}),hp=3,YG="standard",XG=vp(),Sp=class cC{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>cC.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,XG.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};rt(Sp,"DefaultRateLimiter");Sp.setTimeoutFn=setTimeout;var lC=Sp,xo=100,Ep=20*1e3,dC=500,yp=500,uC=5,pC=10,fC=1,QG="amz-sdk-invocation-id",ZG="amz-sdk-request",e3=rt(()=>{let e=xo;return{computeNextBackoffDelay:rt(n=>Math.floor(Math.min(Ep,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:rt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),iC=rt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:rt(()=>t,"getRetryCount"),getRetryDelay:rt(()=>Math.min(Ep,e),"getRetryDelay"),getRetryCost:rt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),mC=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=yp,this.retryBackoffStrategy=e3(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return iC({retryDelay:xo,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?dC:xo);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),a=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,s=this.getCapacityCost(o);return this.capacity-=s,iC({retryDelay:a,retryCount:t.getRetryCount()+1,retryCost:s})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(yp,this.capacity+(t.getRetryCost()??fC))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${hp}`),hp}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?pC:uC}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};rt(mC,"StandardRetryStrategy");var Cp=mC,gC=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new lC,this.standardRetryStrategy=new Cp(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};rt(gC,"AdaptiveRetryStrategy");var t3=gC,_C=class extends Cp{constructor(t,r=xo){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};rt(_C,"ConfiguredRetryStrategy");var r3=_C});var hC=m(ra=>{"use strict";l();Object.defineProperty(ra,"__esModule",{value:!0});ra.isStreamingPayload=void 0;var n3=S("stream"),o3=e=>e?.body instanceof n3.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;ra.isStreamingPayload=o3});var Ot=m((vfe,kC)=>{l();var na=Object.defineProperty,i3=Object.getOwnPropertyDescriptor,s3=Object.getOwnPropertyNames,a3=Object.prototype.hasOwnProperty,ee=(e,t)=>na(e,"name",{value:t,configurable:!0}),c3=(e,t)=>{for(var r in t)na(e,r,{get:t[r],enumerable:!0})},l3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s3(t))!a3.call(e,o)&&o!==r&&na(e,o,{get:()=>t[o],enumerable:!(n=i3(t,o))||n.enumerable});return e},d3=e=>l3(na({},"__esModule",{value:!0}),e),SC={};c3(SC,{AdaptiveRetryStrategy:()=>f3,CONFIG_MAX_ATTEMPTS:()=>Op,CONFIG_RETRY_MODE:()=>AC,ENV_MAX_ATTEMPTS:()=>wp,ENV_RETRY_MODE:()=>RC,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>m3,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>_3,StandardRetryStrategy:()=>PC,defaultDelayDecider:()=>CC,defaultRetryDecider:()=>wC,getOmitRetryHeadersPlugin:()=>v3,getRetryAfterHint:()=>DC,getRetryPlugin:()=>w3,omitRetryHeadersMiddleware:()=>IC,omitRetryHeadersMiddlewareOptions:()=>TC,resolveRetryConfig:()=>g3,retryMiddleware:()=>NC,retryMiddlewareOptions:()=>FC});kC.exports=d3(SC);var an=J(),EC=(_p(),N(gp)),V=sn(),u3=ee((e,t)=>{let r=e,n=t?.noRetryIncrement??V.NO_RETRY_INCREMENT,o=t?.retryCost??V.RETRY_COST,i=t?.timeoutRetryCost??V.TIMEOUT_RETRY_COST,a=e,s=ee(p=>p.name==="TimeoutError"?i:o,"getCapacityAmount"),c=ee(p=>s(p)<=a,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ee(p=>{if(!c(p))throw new Error("No retry token available");let _=s(p);return a-=_,_},"retrieveRetryTokens"),releaseRetryTokens:ee(p=>{a+=p??n,a=Math.min(a,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),CC=ee((e,t)=>Math.floor(Math.min(V.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Xt=vp(),wC=ee(e=>e?(0,Xt.isRetryableByTrait)(e)||(0,Xt.isClockSkewError)(e)||(0,Xt.isThrottlingError)(e)||(0,Xt.isTransientError)(e):!1,"defaultRetryDecider"),OC=ee(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),bC=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=V.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??wC,this.delayDecider=r?.delayDecider??CC,this.retryQuota=r?.retryQuota??u3(V.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=V.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,i=0,a=0,s=await this.getMaxAttempts(),{request:c}=r;for(an.HttpRequest.isInstance(c)&&(c.headers[V.INVOCATION_ID_HEADER]=(0,EC.v4)());;)try{an.HttpRequest.isInstance(c)&&(c.headers[V.REQUEST_HEADER]=`attempt=${i+1}; max=${s}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=a,{response:d,output:u}}catch(d){let u=OC(d);if(i++,this.shouldRetry(u,i,s)){o=this.retryQuota.retrieveRetryTokens(u);let p=this.delayDecider((0,Xt.isThrottlingError)(u)?V.THROTTLING_RETRY_DELAY_BASE:V.DEFAULT_RETRY_DELAY_BASE,i),_=p3(u.$response),v=Math.max(_||0,p);a+=v,await new Promise(y=>setTimeout(y,v));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=a,u}}};ee(bC,"StandardRetryStrategy");var PC=bC,p3=ee(e=>{if(!an.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),xC=class extends PC{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new V.DefaultRateLimiter,this.mode=V.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};ee(xC,"AdaptiveRetryStrategy");var f3=xC,yC=Qe(),wp="AWS_MAX_ATTEMPTS",Op="max_attempts",m3={environmentVariableSelector:e=>{let t=e[wp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${wp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Op];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Op} mast be a number, got "${t}"`);return r},default:V.DEFAULT_MAX_ATTEMPTS},g3=ee(e=>{let{retryStrategy:t}=e,r=(0,yC.normalizeProvider)(e.maxAttempts??V.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,yC.normalizeProvider)(e.retryMode)()===V.RETRY_MODES.ADAPTIVE?new V.AdaptiveRetryStrategy(r):new V.StandardRetryStrategy(r))}},"resolveRetryConfig"),RC="AWS_RETRY_MODE",AC="retry_mode",_3={environmentVariableSelector:e=>e[RC],configFileSelector:e=>e[AC],default:V.DEFAULT_RETRY_MODE},IC=ee(()=>e=>async t=>{let{request:r}=t;return an.HttpRequest.isInstance(r)&&(delete r.headers[V.INVOCATION_ID_HEADER],delete r.headers[V.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),TC={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},v3=ee(e=>({applyToStack:t=>{t.addRelativeTo(IC(),TC)}}),"getOmitRetryHeadersPlugin"),h3=B(),y3=hC(),NC=ee(e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy(),a=await e.maxAttempts();if(S3(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,u=0,{request:p}=n,_=an.HttpRequest.isInstance(p);for(_&&(p.headers[V.INVOCATION_ID_HEADER]=(0,EC.v4)());;)try{_&&(p.headers[V.REQUEST_HEADER]=`attempt=${d+1}; max=${a}`);let{response:v,output:y}=await t(n);return i.recordSuccess(s),y.$metadata.attempts=d+1,y.$metadata.totalRetryDelay=u,{response:v,output:y}}catch(v){let y=E3(v);if(c=OC(v),_&&(0,y3.isStreamingPayload)(p))throw(o=r.logger instanceof h3.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{s=await i.refreshRetryTokenForRetry(s,y)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=u,c}d=s.getRetryCount();let w=s.getRetryDelay();u+=w,await new Promise(C=>setTimeout(C,w))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},"retryMiddleware"),S3=ee(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),E3=ee(e=>{let t={error:e,errorType:C3(e)},r=DC(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),C3=ee(e=>(0,Xt.isThrottlingError)(e)?"THROTTLING":(0,Xt.isTransientError)(e)?"TRANSIENT":(0,Xt.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),FC={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},w3=ee(e=>({applyToStack:t=>{t.add(NC(e),FC)}}),"getRetryPlugin"),DC=ee(e=>{if(!an.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var bp=m(Qt=>{"use strict";l();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.resolveHttpAuthSchemeConfig=Qt.defaultBedrockRuntimeHttpAuthSchemeProvider=Qt.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=void 0;var O3=(ie(),N(oe)),MC=Qe(),b3=async(e,t,r)=>({operation:(0,MC.getSmithyContext)(t).operation,region:await(0,MC.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Qt.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=b3;function P3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"bedrock",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var x3=e=>{let t=[];switch(e.operation){default:t.push(P3(e))}return t};Qt.defaultBedrockRuntimeHttpAuthSchemeProvider=x3;var R3=e=>({...(0,O3.resolveAwsSdkSigV4Config)(e)});Qt.resolveHttpAuthSchemeConfig=R3});var Zt={};$r(Zt,{__addDisposableResource:()=>aw,__assign:()=>oa,__asyncDelegator:()=>ZC,__asyncGenerator:()=>QC,__asyncValues:()=>ew,__await:()=>cn,__awaiter:()=>WC,__classPrivateFieldGet:()=>ow,__classPrivateFieldIn:()=>sw,__classPrivateFieldSet:()=>iw,__createBinding:()=>sa,__decorate:()=>UC,__disposeResources:()=>cw,__esDecorate:()=>HC,__exportStar:()=>KC,__extends:()=>LC,__generator:()=>zC,__importDefault:()=>nw,__importStar:()=>rw,__makeTemplateObject:()=>tw,__metadata:()=>VC,__param:()=>jC,__propKey:()=>$C,__read:()=>Rp,__rest:()=>qC,__rewriteRelativeImportExtension:()=>lw,__runInitializers:()=>BC,__setFunctionName:()=>GC,__spread:()=>JC,__spreadArray:()=>XC,__spreadArrays:()=>YC,__values:()=>ia,default:()=>T3});function LC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function qC(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function UC(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function jC(e,t){return function(r,n){t(r,n,e)}}function HC(e,t,r,n,o,i){function a(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,_=!1,v=r.length-1;v>=0;v--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(b){if(_)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(b||null))};var C=(0,r[v])(s==="accessor"?{get:u.get,set:u.set}:u[c],y);if(s==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(p=a(C.get))&&(u.get=p),(p=a(C.set))&&(u.set=p),(p=a(C.init))&&o.unshift(p)}else(p=a(C))&&(s==="field"?o.unshift(p):u[c]=p)}d&&Object.defineProperty(d,n.name,u),_=!0}function BC(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function $C(e){return typeof e=="symbol"?e:"".concat(e)}function GC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function VC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function WC(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(u){try{d(n.next(u))}catch(p){a(p)}}function c(u){try{d(n.throw(u))}catch(p){a(p)}}function d(u){u.done?i(u.value):o(u.value).then(s,c)}d((n=n.apply(e,t||[])).next())})}function zC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],o=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function KC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sa(t,e,r)}function ia(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function JC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Rp(arguments[t]));return e}function YC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function XC(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function cn(e){return this instanceof cn?(this.v=e,this):new cn(e)}function QC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(v){return function(y){return Promise.resolve(y).then(v,p)}}function s(v,y){n[v]&&(o[v]=function(w){return new Promise(function(C,b){i.push([v,w,C,b])>1||c(v,w)})},y&&(o[v]=y(o[v])))}function c(v,y){try{d(n[v](y))}catch(w){_(i[0][3],w)}}function d(v){v.value instanceof cn?Promise.resolve(v.value.v).then(u,p):_(i[0][2],v)}function u(v){c("next",v)}function p(v){c("throw",v)}function _(v,y){v(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ZC(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(a){return(r=!r)?{value:cn(e[o](a)),done:!1}:i?i(a):a}:i}}function ew(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ia=="function"?ia(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,c){a=e[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(d){i({value:d,done:s})},a)}}function tw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function rw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=xp(e),n=0;n<r.length;n++)r[n]!=="default"&&sa(t,e,r[n]);return A3(t,e),t}function nw(e){return e&&e.__esModule?e:{default:e}}function ow(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function iw(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function sw(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function aw(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function cw(e){function t(i){e.error=e.hasError?new I3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function lw(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,i,a){return n?t?".jsx":".js":o&&(!i||!a)?r:o+i+"."+a.toLowerCase()+"js"}):e}var Pp,oa,sa,A3,xp,I3,T3,er=x(()=>{l();Pp=function(e,t){return Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Pp(e,t)};oa=function(){return oa=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},oa.apply(this,arguments)};sa=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};A3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},xp=function(e){return xp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},xp(e)};I3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};T3={__extends:LC,__assign:oa,__rest:qC,__decorate:UC,__param:jC,__esDecorate:HC,__runInitializers:BC,__propKey:$C,__setFunctionName:GC,__metadata:VC,__awaiter:WC,__generator:zC,__createBinding:sa,__exportStar:KC,__values:ia,__read:Rp,__spread:JC,__spreadArrays:YC,__spreadArray:XC,__await:cn,__asyncGenerator:QC,__asyncDelegator:ZC,__asyncValues:ew,__makeTemplateObject:tw,__importStar:rw,__importDefault:nw,__classPrivateFieldGet:ow,__classPrivateFieldSet:iw,__classPrivateFieldIn:sw,__addDisposableResource:aw,__disposeResources:cw,__rewriteRelativeImportExtension:lw}});var dw=m((Cfe,N3)=>{N3.exports={name:"@aws-sdk/client-bedrock-runtime",description:"AWS SDK for JavaScript Bedrock Runtime Client for Node.js, Browser and React Native",version:"3.706.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-bedrock-runtime","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo bedrock-runtime"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.699.0","@aws-sdk/client-sts":"3.699.0","@aws-sdk/core":"3.696.0","@aws-sdk/credential-provider-node":"3.699.0","@aws-sdk/middleware-host-header":"3.696.0","@aws-sdk/middleware-logger":"3.696.0","@aws-sdk/middleware-recursion-detection":"3.696.0","@aws-sdk/middleware-user-agent":"3.696.0","@aws-sdk/region-config-resolver":"3.696.0","@aws-sdk/types":"3.696.0","@aws-sdk/util-endpoints":"3.696.0","@aws-sdk/util-user-agent-browser":"3.696.0","@aws-sdk/util-user-agent-node":"3.696.0","@smithy/config-resolver":"^3.0.12","@smithy/core":"^2.5.3","@smithy/eventstream-serde-browser":"^3.0.13","@smithy/eventstream-serde-config-resolver":"^3.0.10","@smithy/eventstream-serde-node":"^3.0.12","@smithy/fetch-http-handler":"^4.1.1","@smithy/hash-node":"^3.0.10","@smithy/invalid-dependency":"^3.0.10","@smithy/middleware-content-length":"^3.0.12","@smithy/middleware-endpoint":"^3.2.3","@smithy/middleware-retry":"^3.0.27","@smithy/middleware-serde":"^3.0.10","@smithy/middleware-stack":"^3.0.10","@smithy/node-config-provider":"^3.1.11","@smithy/node-http-handler":"^3.3.1","@smithy/protocol-http":"^4.1.7","@smithy/smithy-client":"^3.4.4","@smithy/types":"^3.7.1","@smithy/url-parser":"^3.0.10","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.27","@smithy/util-defaults-mode-node":"^3.0.27","@smithy/util-endpoints":"^2.1.6","@smithy/util-middleware":"^3.0.10","@smithy/util-retry":"^3.0.10","@smithy/util-stream":"^3.3.1","@smithy/util-utf8":"^3.0.0","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-bedrock-runtime",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-bedrock-runtime"}}});var Ap=m((wfe,hw)=>{"use strict";l();var aa=Object.defineProperty,F3=Object.getOwnPropertyDescriptor,D3=Object.getOwnPropertyNames,k3=Object.prototype.hasOwnProperty,M3=(e,t)=>aa(e,"name",{value:t,configurable:!0}),L3=(e,t)=>{for(var r in t)aa(e,r,{get:t[r],enumerable:!0})},q3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D3(t))!k3.call(e,o)&&o!==r&&aa(e,o,{get:()=>t[o],enumerable:!(n=F3(t,o))||n.enumerable});return e},U3=e=>q3(aa({},"__esModule",{value:!0}),e),uw={};L3(uw,{ENV_ACCOUNT_ID:()=>vw,ENV_CREDENTIAL_SCOPE:()=>_w,ENV_EXPIRATION:()=>gw,ENV_KEY:()=>pw,ENV_SECRET:()=>fw,ENV_SESSION:()=>mw,fromEnv:()=>B3});hw.exports=U3(uw);var j3=(st(),N(Vt)),H3=X(),pw="AWS_ACCESS_KEY_ID",fw="AWS_SECRET_ACCESS_KEY",mw="AWS_SESSION_TOKEN",gw="AWS_CREDENTIAL_EXPIRATION",_w="AWS_CREDENTIAL_SCOPE",vw="AWS_ACCOUNT_ID",B3=M3(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[pw],n=process.env[fw],o=process.env[mw],i=process.env[gw],a=process.env[_w],s=process.env[vw];if(r&&n){let c={accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...a&&{credentialScope:a},...s&&{accountId:s}};return(0,j3.setCredentialFeature)(c,"CREDENTIALS_ENV_VARS","g"),c}throw new H3.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var ln=m(ca=>{"use strict";l();Object.defineProperty(ca,"__esModule",{value:!0});ca.getHomeDir=void 0;var $3=S("os"),G3=S("path"),Ip={},V3=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",W3=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${G3.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=V3();return Ip[o]||(Ip[o]=(0,$3.homedir)()),Ip[o]};ca.getHomeDir=W3});var Tp=m(la=>{"use strict";l();Object.defineProperty(la,"__esModule",{value:!0});la.getSSOTokenFilepath=void 0;var z3=S("crypto"),K3=S("path"),J3=ln(),Y3=e=>{let r=(0,z3.createHash)("sha1").update(e).digest("hex");return(0,K3.join)((0,J3.getHomeDir)(),".aws","sso","cache",`${r}.json`)};la.getSSOTokenFilepath=Y3});var yw=m(da=>{"use strict";l();Object.defineProperty(da,"__esModule",{value:!0});da.getSSOTokenFromFile=void 0;var X3=S("fs"),Q3=Tp(),{readFile:Z3}=X3.promises,e6=async e=>{let t=(0,Q3.getSSOTokenFilepath)(e),r=await Z3(t,"utf8");return JSON.parse(r)};da.getSSOTokenFromFile=e6});var Fp=m(ua=>{"use strict";l();Object.defineProperty(ua,"__esModule",{value:!0});ua.slurpFile=void 0;var t6=S("fs"),{readFile:r6}=t6.promises,Np={},n6=(e,t)=>((!Np[e]||t?.ignoreCache)&&(Np[e]=r6(e,"utf8")),Np[e]);ua.slurpFile=n6});var Pw=m((Ffe,Ao)=>{l();var ma=Object.defineProperty,o6=Object.getOwnPropertyDescriptor,i6=Object.getOwnPropertyNames,s6=Object.prototype.hasOwnProperty,Re=(e,t)=>ma(e,"name",{value:t,configurable:!0}),a6=(e,t)=>{for(var r in t)ma(e,r,{get:t[r],enumerable:!0})},Dp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i6(t))!s6.call(e,o)&&o!==r&&ma(e,o,{get:()=>t[o],enumerable:!(n=o6(t,o))||n.enumerable});return e},Mp=(e,t,r)=>(Dp(e,t,"default"),r&&Dp(r,t,"default")),c6=e=>Dp(ma({},"__esModule",{value:!0}),e),Ro={};a6(Ro,{CONFIG_PREFIX_SEPARATOR:()=>Pr,DEFAULT_PROFILE:()=>ww,ENV_PROFILE:()=>Cw,getProfileName:()=>l6,loadSharedConfigFiles:()=>bw,loadSsoSessionData:()=>C6,parseKnownFiles:()=>O6});Ao.exports=c6(Ro);Mp(Ro,ln(),Ao.exports);var Cw="AWS_PROFILE",ww="default",l6=Re(e=>e.profile||process.env[Cw]||ww,"getProfileName");Mp(Ro,Tp(),Ao.exports);Mp(Ro,yw(),Ao.exports);var pa=Y(),d6=Re(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Pr);return r===-1?!1:Object.values(pa.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Pr),i=r.substring(0,o)===pa.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),fa=S("path"),u6=ln(),p6="AWS_CONFIG_FILE",Ow=Re(()=>process.env[p6]||(0,fa.join)((0,u6.getHomeDir)(),".aws","config"),"getConfigFilepath"),f6=ln(),m6="AWS_SHARED_CREDENTIALS_FILE",g6=Re(()=>process.env[m6]||(0,fa.join)((0,f6.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),_6=ln(),v6=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,h6=["__proto__","profile __proto__"],kp=Re(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=v6.exec(s);if(c){let[,d,,u]=c;Object.values(pa.IniSectionType).includes(d)&&(r=[d,u].join(Pr))}else r=s;if(h6.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Pr):c;t[r][u]=d}}}}return t},"parseIni"),Sw=Fp(),Ew=Re(()=>({}),"swallowError"),Pr=".",bw=Re(async(e={})=>{let{filepath:t=g6(),configFilepath:r=Ow()}=e,n=(0,_6.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,fa.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,fa.join)(n,r.slice(2)));let s=await Promise.all([(0,Sw.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(kp).then(d6).catch(Ew),(0,Sw.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(kp).catch(Ew)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),y6=Re(e=>Object.entries(e).filter(([t])=>t.startsWith(pa.IniSectionType.SSO_SESSION+Pr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Pr)+1)]:n}),{}),"getSsoSessionData"),S6=Fp(),E6=Re(()=>({}),"swallowError"),C6=Re(async(e={})=>(0,S6.slurpFile)(e.configFilepath??Ow()).then(kp).then(y6).catch(E6),"loadSsoSessionData"),w6=Re((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),O6=Re(async e=>{let t=await bw(e);return w6(t.configFile,t.credentialsFile)},"parseKnownFiles")});var dn=m(ga=>{"use strict";l();Object.defineProperty(ga,"__esModule",{value:!0});ga.getHomeDir=void 0;var b6=S("os"),P6=S("path"),Lp={},x6=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",R6=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${P6.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=x6();return Lp[o]||(Lp[o]=(0,b6.homedir)()),Lp[o]};ga.getHomeDir=R6});var qp=m(_a=>{"use strict";l();Object.defineProperty(_a,"__esModule",{value:!0});_a.getSSOTokenFilepath=void 0;var A6=S("crypto"),I6=S("path"),T6=dn(),N6=e=>{let r=(0,A6.createHash)("sha1").update(e).digest("hex");return(0,I6.join)((0,T6.getHomeDir)(),".aws","sso","cache",`${r}.json`)};_a.getSSOTokenFilepath=N6});var xw=m(va=>{"use strict";l();Object.defineProperty(va,"__esModule",{value:!0});va.getSSOTokenFromFile=void 0;var F6=S("fs"),D6=qp(),{readFile:k6}=F6.promises,M6=async e=>{let t=(0,D6.getSSOTokenFilepath)(e),r=await k6(t,"utf8");return JSON.parse(r)};va.getSSOTokenFromFile=M6});var jp=m(ha=>{"use strict";l();Object.defineProperty(ha,"__esModule",{value:!0});ha.slurpFile=void 0;var L6=S("fs"),{readFile:q6}=L6.promises,Up={},U6=(e,t)=>((!Up[e]||t?.ignoreCache)&&(Up[e]=q6(e,"utf8")),Up[e]);ha.slurpFile=U6});var Dw=m(($fe,To)=>{l();var Ea=Object.defineProperty,j6=Object.getOwnPropertyDescriptor,H6=Object.getOwnPropertyNames,B6=Object.prototype.hasOwnProperty,Ae=(e,t)=>Ea(e,"name",{value:t,configurable:!0}),$6=(e,t)=>{for(var r in t)Ea(e,r,{get:t[r],enumerable:!0})},Hp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of H6(t))!B6.call(e,o)&&o!==r&&Ea(e,o,{get:()=>t[o],enumerable:!(n=j6(t,o))||n.enumerable});return e},$p=(e,t,r)=>(Hp(e,t,"default"),r&&Hp(r,t,"default")),G6=e=>Hp(Ea({},"__esModule",{value:!0}),e),Io={};$6(Io,{CONFIG_PREFIX_SEPARATOR:()=>xr,DEFAULT_PROFILE:()=>Tw,ENV_PROFILE:()=>Iw,getProfileName:()=>V6,loadSharedConfigFiles:()=>Fw,loadSsoSessionData:()=>oV,parseKnownFiles:()=>sV});To.exports=G6(Io);$p(Io,dn(),To.exports);var Iw="AWS_PROFILE",Tw="default",V6=Ae(e=>e.profile||process.env[Iw]||Tw,"getProfileName");$p(Io,qp(),To.exports);$p(Io,xw(),To.exports);var ya=Y(),W6=Ae(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(xr);return r===-1?!1:Object.values(ya.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(xr),i=r.substring(0,o)===ya.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Sa=S("path"),z6=dn(),K6="AWS_CONFIG_FILE",Nw=Ae(()=>process.env[K6]||(0,Sa.join)((0,z6.getHomeDir)(),".aws","config"),"getConfigFilepath"),J6=dn(),Y6="AWS_SHARED_CREDENTIALS_FILE",X6=Ae(()=>process.env[Y6]||(0,Sa.join)((0,J6.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Q6=dn(),Z6=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,eV=["__proto__","profile __proto__"],Bp=Ae(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=Z6.exec(s);if(c){let[,d,,u]=c;Object.values(ya.IniSectionType).includes(d)&&(r=[d,u].join(xr))}else r=s;if(eV.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(xr):c;t[r][u]=d}}}}return t},"parseIni"),Rw=jp(),Aw=Ae(()=>({}),"swallowError"),xr=".",Fw=Ae(async(e={})=>{let{filepath:t=X6(),configFilepath:r=Nw()}=e,n=(0,Q6.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Sa.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Sa.join)(n,r.slice(2)));let s=await Promise.all([(0,Rw.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Bp).then(W6).catch(Aw),(0,Rw.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Bp).catch(Aw)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),tV=Ae(e=>Object.entries(e).filter(([t])=>t.startsWith(ya.IniSectionType.SSO_SESSION+xr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(xr)+1)]:n}),{}),"getSsoSessionData"),rV=jp(),nV=Ae(()=>({}),"swallowError"),oV=Ae(async(e={})=>(0,rV.slurpFile)(e.configFilepath??Nw()).then(Bp).then(tV).catch(nV),"loadSsoSessionData"),iV=Ae((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),sV=Ae(async e=>{let t=await Fw(e);return iV(t.configFile,t.credentialsFile)},"parseKnownFiles")});var qw=m((Vfe,Lw)=>{l();var Ca=Object.defineProperty,aV=Object.getOwnPropertyDescriptor,cV=Object.getOwnPropertyNames,lV=Object.prototype.hasOwnProperty,un=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),dV=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},uV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cV(t))!lV.call(e,o)&&o!==r&&Ca(e,o,{get:()=>t[o],enumerable:!(n=aV(t,o))||n.enumerable});return e},pV=e=>uV(Ca({},"__esModule",{value:!0}),e),Mw={};dV(Mw,{loadConfig:()=>vV});Lw.exports=pV(Mw);var No=X();function Gp(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}un(Gp,"getSelectorName");var fV=un((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new No.CredentialsProviderError(r.message||`Not found in ENV: ${Gp(e.toString())}`,{logger:t})}},"fromEnv"),kw=Dw(),mV=un((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,kw.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,kw.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new No.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Gp(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),gV=un(e=>typeof e=="function","isFunction"),_V=un(e=>gV(e)?async()=>await e():(0,No.fromStatic)(e),"fromStatic"),vV=un(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,No.memoize)((0,No.chain)(fV(e),mV(t,n),_V(r))),"loadConfig")});var Fo=m((zfe,Zw)=>{l();var ba=Object.defineProperty,hV=Object.getOwnPropertyDescriptor,yV=Object.getOwnPropertyNames,SV=Object.prototype.hasOwnProperty,te=(e,t)=>ba(e,"name",{value:t,configurable:!0}),EV=(e,t)=>{for(var r in t)ba(e,r,{get:t[r],enumerable:!0})},CV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yV(t))!SV.call(e,o)&&o!==r&&ba(e,o,{get:()=>t[o],enumerable:!(n=hV(t,o))||n.enumerable});return e},wV=e=>CV(ba({},"__esModule",{value:!0}),e),Bw={};EV(Bw,{DEFAULT_MAX_RETRIES:()=>Ww,DEFAULT_TIMEOUT:()=>Vw,ENV_CMDS_AUTH_TOKEN:()=>zp,ENV_CMDS_FULL_URI:()=>wa,ENV_CMDS_RELATIVE_URI:()=>Oa,Endpoint:()=>Jw,fromContainerMetadata:()=>xV,fromInstanceMetadata:()=>KV,getInstanceMetadataEndpoint:()=>Xw,httpRequest:()=>pn,providerConfigFromInit:()=>Kp});Zw.exports=wV(Bw);var OV=S("url"),dt=X(),bV=S("buffer"),PV=S("http");function pn(e){return new Promise((t,r)=>{var n;let o=(0,PV.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new dt.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new dt.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:a=400}=i;(a<200||300<=a)&&(r(Object.assign(new dt.ProviderError("Error response received from instance metadata service"),{statusCode:a})),o.destroy());let s=[];i.on("data",c=>{s.push(c)}),i.on("end",()=>{t(bV.Buffer.concat(s)),o.destroy()})}),o.end()})}te(pn,"httpRequest");var $w=te(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),Gw=te(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),Vw=1e3,Ww=0,Kp=te(({maxRetries:e=Ww,timeout:t=Vw})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Wp=te((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),wa="AWS_CONTAINER_CREDENTIALS_FULL_URI",Oa="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",zp="AWS_CONTAINER_AUTHORIZATION_TOKEN",xV=te((e={})=>{let{timeout:t,maxRetries:r}=Kp(e);return()=>Wp(async()=>{let n=await NV({logger:e.logger}),o=JSON.parse(await RV(t,n));if(!$w(o))throw new dt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Gw(o)},r)},"fromContainerMetadata"),RV=te(async(e,t)=>(process.env[zp]&&(t.headers={...t.headers,Authorization:process.env[zp]}),(await pn({...t,timeout:e})).toString()),"requestFromEcsImds"),AV="169.254.170.2",IV={localhost:!0,"127.0.0.1":!0},TV={"http:":!0,"https:":!0},NV=te(async({logger:e})=>{if(process.env[Oa])return{hostname:AV,path:process.env[Oa]};if(process.env[wa]){let t=(0,OV.parse)(process.env[wa]);if(!t.hostname||!(t.hostname in IV))throw new dt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in TV))throw new dt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new dt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Oa} or ${wa} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),zw=class Kw extends dt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,Kw.prototype)}};te(zw,"InstanceMetadataV1FallbackError");var FV=zw,Jp=qw(),DV=Or(),Jw=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(Jw||{}),kV="AWS_EC2_METADATA_SERVICE_ENDPOINT",MV="ec2_metadata_service_endpoint",LV={environmentVariableSelector:e=>e[kV],configFileSelector:e=>e[MV],default:void 0},Yw=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(Yw||{}),qV="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",UV="ec2_metadata_service_endpoint_mode",jV={environmentVariableSelector:e=>e[qV],configFileSelector:e=>e[UV],default:"IPv4"},Xw=te(async()=>(0,DV.parseUrl)(await HV()||await BV()),"getInstanceMetadataEndpoint"),HV=te(async()=>(0,Jp.loadConfig)(LV)(),"getFromEndpointConfig"),BV=te(async()=>{let e=await(0,Jp.loadConfig)(jV)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Yw)}`)}},"getFromEndpointModeConfig"),$V=5*60,GV=5*60,VV="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Uw=te((e,t)=>{let r=$V+Math.floor(Math.random()*GV),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+VV);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),WV=te((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Uw(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=Uw(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),Qw="/latest/meta-data/iam/security-credentials/",zV="/latest/api/token",Vp="AWS_EC2_METADATA_V1_DISABLED",jw="ec2_metadata_v1_disabled",Hw="x-aws-ec2-metadata-token",KV=te((e={})=>WV(JV(e),{logger:e.logger}),"fromInstanceMetadata"),JV=te((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:i}=Kp(e),a=te(async(s,c)=>{var d;if(t||((d=c.headers)==null?void 0:d[Hw])==null){let _=!1,v=!1,y=await(0,Jp.loadConfig)({environmentVariableSelector:w=>{let C=w[Vp];if(v=!!C&&C!=="false",C===void 0)throw new dt.CredentialsProviderError(`${Vp} not set in env, checking config file next.`,{logger:e.logger});return v},configFileSelector:w=>{let C=w[jw];return _=!!C&&C!=="false",_},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||y){let w=[];throw e.ec2MetadataV1Disabled&&w.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),_&&w.push(`config file profile (${jw})`),v&&w.push(`process environment variable (${Vp})`),new FV(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${w.join(", ")}].`)}}let p=(await Wp(async()=>{let _;try{_=await XV(c)}catch(v){throw v.statusCode===401&&(t=!1),v}return _},s)).trim();return Wp(async()=>{let _;try{_=await QV(p,c,e)}catch(v){throw v.statusCode===401&&(t=!1),v}return _},s)},"getCredentials");return async()=>{let s=await Xw();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),a(i,{...s,timeout:o});{let c;try{c=(await YV({...s,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),a(i,{...s,timeout:o})}return a(i,{...s,headers:{[Hw]:c},timeout:o})}}},"getInstanceMetadataProvider"),YV=te(async e=>pn({...e,path:zV,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),XV=te(async e=>(await pn({...e,path:Qw})).toString(),"getProfile"),QV=te(async(e,t,r)=>{let n=JSON.parse((await pn({...t,path:Qw+e})).toString());if(!$w(n))throw new dt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Gw(n)},"getCredentialsFromProfile")});var eO=m(Pa=>{"use strict";l();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.checkUrl=void 0;var ZV=X(),eW="169.254.170.2",tW="169.254.170.23",rW="[fd00:ec2::23]",nW=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===eW||e.hostname===tW||e.hostname===rW)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new ZV.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Pa.checkUrl=nW});var tO=m(fn=>{"use strict";l();Object.defineProperty(fn,"__esModule",{value:!0});fn.getCredentials=fn.createGetRequest=void 0;var Yp=X(),oW=J(),iW=B(),sW=Jd();function aW(e){return new oW.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}fn.createGetRequest=aW;async function cW(e,t){let n=await(0,sW.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Yp.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,iW.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new Yp.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new Yp.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}fn.getCredentials=cW});var rO=m(xa=>{"use strict";l();Object.defineProperty(xa,"__esModule",{value:!0});xa.retryWrapper=void 0;var lW=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};xa.retryWrapper=lW});var iO=m(Ra=>{"use strict";l();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.fromHttp=void 0;var dW=(er(),N(Zt)),uW=(st(),N(Vt)),pW=gr(),nO=X(),fW=dW.__importDefault(S("fs/promises")),mW=eO(),oO=tO(),gW=rO(),_W="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",vW="http://169.254.170.2",hW="AWS_CONTAINER_CREDENTIALS_FULL_URI",yW="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",SW="AWS_CONTAINER_AUTHORIZATION_TOKEN",EW=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[_W],n=e.awsContainerCredentialsFullUri??process.env[hW],o=e.awsContainerAuthorizationToken??process.env[SW],i=e.awsContainerAuthorizationTokenFile??process.env[yW],a=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),a("awsContainerCredentialsFullUri will take precedence.")),o&&i&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),a("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${vW}${r}`;else throw new nO.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let s=new URL(t);(0,mW.checkUrl)(s,e.logger);let c=new pW.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,gW.retryWrapper)(async()=>{let d=(0,oO.createGetRequest)(s);o?d.headers.Authorization=o:i&&(d.headers.Authorization=(await fW.default.readFile(i)).toString());try{let u=await c.handle(d);return(0,oO.getCredentials)(u.response).then(p=>(0,uW.setCredentialFeature)(p,"CREDENTIALS_HTTP","z"))}catch(u){throw new nO.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Ra.fromHttp=EW});var Xp=m(Aa=>{"use strict";l();Object.defineProperty(Aa,"__esModule",{value:!0});Aa.fromHttp=void 0;var CW=iO();Object.defineProperty(Aa,"fromHttp",{enumerable:!0,get:function(){return CW.fromHttp}})});var Qp=m(tr=>{"use strict";l();Object.defineProperty(tr,"__esModule",{value:!0});tr.resolveHttpAuthSchemeConfig=tr.defaultSSOHttpAuthSchemeProvider=tr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var wW=(ie(),N(oe)),sO=Qe(),OW=async(e,t,r)=>({operation:(0,sO.getSmithyContext)(t).operation,region:await(0,sO.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});tr.defaultSSOHttpAuthSchemeParametersProvider=OW;function bW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Ia(e){return{schemeId:"smithy.api#noAuth"}}var PW=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Ia(e));break}case"ListAccountRoles":{t.push(Ia(e));break}case"ListAccounts":{t.push(Ia(e));break}case"Logout":{t.push(Ia(e));break}default:t.push(bW(e))}return t};tr.defaultSSOHttpAuthSchemeProvider=PW;var xW=e=>({...(0,wW.resolveAwsSdkSigV4Config)(e)});tr.resolveHttpAuthSchemeConfig=xW});var aO=m((ame,RW)=>{RW.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.696.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.696.0","@aws-sdk/middleware-host-header":"3.696.0","@aws-sdk/middleware-logger":"3.696.0","@aws-sdk/middleware-recursion-detection":"3.696.0","@aws-sdk/middleware-user-agent":"3.696.0","@aws-sdk/region-config-resolver":"3.696.0","@aws-sdk/types":"3.696.0","@aws-sdk/util-endpoints":"3.696.0","@aws-sdk/util-user-agent-browser":"3.696.0","@aws-sdk/util-user-agent-node":"3.696.0","@smithy/config-resolver":"^3.0.12","@smithy/core":"^2.5.3","@smithy/fetch-http-handler":"^4.1.1","@smithy/hash-node":"^3.0.10","@smithy/invalid-dependency":"^3.0.10","@smithy/middleware-content-length":"^3.0.12","@smithy/middleware-endpoint":"^3.2.3","@smithy/middleware-retry":"^3.0.27","@smithy/middleware-serde":"^3.0.10","@smithy/middleware-stack":"^3.0.10","@smithy/node-config-provider":"^3.1.11","@smithy/node-http-handler":"^3.3.1","@smithy/protocol-http":"^4.1.7","@smithy/smithy-client":"^3.4.4","@smithy/types":"^3.7.1","@smithy/url-parser":"^3.0.10","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.27","@smithy/util-defaults-mode-node":"^3.0.27","@smithy/util-endpoints":"^2.1.6","@smithy/util-middleware":"^3.0.10","@smithy/util-retry":"^3.0.10","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Do=m((cme,gO)=>{"use strict";l();var Ta=Object.defineProperty,AW=Object.getOwnPropertyDescriptor,IW=Object.getOwnPropertyNames,TW=Object.prototype.hasOwnProperty,lO=(e,t)=>Ta(e,"name",{value:t,configurable:!0}),NW=(e,t)=>{for(var r in t)Ta(e,r,{get:t[r],enumerable:!0})},FW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IW(t))!TW.call(e,o)&&o!==r&&Ta(e,o,{get:()=>t[o],enumerable:!(n=AW(t,o))||n.enumerable});return e},DW=e=>FW(Ta({},"__esModule",{value:!0}),e),dO={};NW(dO,{NODE_APP_ID_CONFIG_OPTIONS:()=>qW,UA_APP_ID_ENV_NAME:()=>fO,UA_APP_ID_INI_NAME:()=>mO,createDefaultUserAgentProvider:()=>pO,crtAvailability:()=>uO,defaultUserAgent:()=>MW});gO.exports=DW(dO);var cO=S("os"),Zp=S("process"),uO={isCrtAvailable:!1},kW=lO(()=>uO.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),pO=lO(({serviceId:e,clientVersion:t})=>async r=>{var n;let o=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,cO.platform)()}`,(0,cO.release)()],["lang/js"],["md/nodejs",`${Zp.versions.node}`]],i=kW();i&&o.push(i),e&&o.push([`api/${e}`,t]),Zp.env.AWS_EXECUTION_ENV&&o.push([`exec-env/${Zp.env.AWS_EXECUTION_ENV}`]);let a=await((n=r?.userAgentAppId)==null?void 0:n.call(r));return a?[...o,[`app/${a}`]]:[...o]},"createDefaultUserAgentProvider"),MW=pO,LW=en(),fO="AWS_SDK_UA_APP_ID",mO="sdk-ua-app-id",qW={environmentVariableSelector:e=>e[fO],configFileSelector:e=>e[mO],default:LW.DEFAULT_UA_APP_ID}});var ko=m((ume,SO)=>{l();var Na=Object.defineProperty,UW=Object.getOwnPropertyDescriptor,jW=Object.getOwnPropertyNames,HW=Object.prototype.hasOwnProperty,vO=(e,t)=>Na(e,"name",{value:t,configurable:!0}),BW=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},$W=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jW(t))!HW.call(e,o)&&o!==r&&Na(e,o,{get:()=>t[o],enumerable:!(n=UW(t,o))||n.enumerable});return e},GW=e=>$W(Na({},"__esModule",{value:!0}),e),hO={};BW(hO,{Hash:()=>zW});SO.exports=GW(hO);var ef=Gr(),VW=Ce(),WW=S("buffer"),_O=S("crypto"),yO=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,VW.toUint8Array)(tf(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,_O.createHmac)(this.algorithmIdentifier,tf(this.secret)):(0,_O.createHash)(this.algorithmIdentifier)}};vO(yO,"Hash");var zW=yO;function tf(e,t){return WW.Buffer.isBuffer(e)?e:typeof e=="string"?(0,ef.fromString)(e,t):ArrayBuffer.isView(e)?(0,ef.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,ef.fromArrayBuffer)(e)}vO(tf,"castSourceData")});var mn=m(Fa=>{"use strict";l();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.getHomeDir=void 0;var KW=S("os"),JW=S("path"),rf={},YW=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",XW=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${JW.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=YW();return rf[o]||(rf[o]=(0,KW.homedir)()),rf[o]};Fa.getHomeDir=XW});var nf=m(Da=>{"use strict";l();Object.defineProperty(Da,"__esModule",{value:!0});Da.getSSOTokenFilepath=void 0;var QW=S("crypto"),ZW=S("path"),ez=mn(),tz=e=>{let r=(0,QW.createHash)("sha1").update(e).digest("hex");return(0,ZW.join)((0,ez.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Da.getSSOTokenFilepath=tz});var EO=m(ka=>{"use strict";l();Object.defineProperty(ka,"__esModule",{value:!0});ka.getSSOTokenFromFile=void 0;var rz=S("fs"),nz=nf(),{readFile:oz}=rz.promises,iz=async e=>{let t=(0,nz.getSSOTokenFilepath)(e),r=await oz(t,"utf8");return JSON.parse(r)};ka.getSSOTokenFromFile=iz});var sf=m(Ma=>{"use strict";l();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.slurpFile=void 0;var sz=S("fs"),{readFile:az}=sz.promises,of={},cz=(e,t)=>((!of[e]||t?.ignoreCache)&&(of[e]=az(e,"utf8")),of[e]);Ma.slurpFile=cz});var RO=m((Eme,Lo)=>{l();var Ua=Object.defineProperty,lz=Object.getOwnPropertyDescriptor,dz=Object.getOwnPropertyNames,uz=Object.prototype.hasOwnProperty,Ie=(e,t)=>Ua(e,"name",{value:t,configurable:!0}),pz=(e,t)=>{for(var r in t)Ua(e,r,{get:t[r],enumerable:!0})},af=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dz(t))!uz.call(e,o)&&o!==r&&Ua(e,o,{get:()=>t[o],enumerable:!(n=lz(t,o))||n.enumerable});return e},lf=(e,t,r)=>(af(e,t,"default"),r&&af(r,t,"default")),fz=e=>af(Ua({},"__esModule",{value:!0}),e),Mo={};pz(Mo,{CONFIG_PREFIX_SEPARATOR:()=>Rr,DEFAULT_PROFILE:()=>bO,ENV_PROFILE:()=>OO,getProfileName:()=>mz,loadSharedConfigFiles:()=>xO,loadSsoSessionData:()=>xz,parseKnownFiles:()=>Az});Lo.exports=fz(Mo);lf(Mo,mn(),Lo.exports);var OO="AWS_PROFILE",bO="default",mz=Ie(e=>e.profile||process.env[OO]||bO,"getProfileName");lf(Mo,nf(),Lo.exports);lf(Mo,EO(),Lo.exports);var La=Y(),gz=Ie(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Rr);return r===-1?!1:Object.values(La.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Rr),i=r.substring(0,o)===La.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),qa=S("path"),_z=mn(),vz="AWS_CONFIG_FILE",PO=Ie(()=>process.env[vz]||(0,qa.join)((0,_z.getHomeDir)(),".aws","config"),"getConfigFilepath"),hz=mn(),yz="AWS_SHARED_CREDENTIALS_FILE",Sz=Ie(()=>process.env[yz]||(0,qa.join)((0,hz.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Ez=mn(),Cz=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,wz=["__proto__","profile __proto__"],cf=Ie(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=Cz.exec(s);if(c){let[,d,,u]=c;Object.values(La.IniSectionType).includes(d)&&(r=[d,u].join(Rr))}else r=s;if(wz.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Rr):c;t[r][u]=d}}}}return t},"parseIni"),CO=sf(),wO=Ie(()=>({}),"swallowError"),Rr=".",xO=Ie(async(e={})=>{let{filepath:t=Sz(),configFilepath:r=PO()}=e,n=(0,Ez.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,qa.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,qa.join)(n,r.slice(2)));let s=await Promise.all([(0,CO.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(cf).then(gz).catch(wO),(0,CO.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(cf).catch(wO)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),Oz=Ie(e=>Object.entries(e).filter(([t])=>t.startsWith(La.IniSectionType.SSO_SESSION+Rr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Rr)+1)]:n}),{}),"getSsoSessionData"),bz=sf(),Pz=Ie(()=>({}),"swallowError"),xz=Ie(async(e={})=>(0,bz.slurpFile)(e.configFilepath??PO()).then(cf).then(Oz).catch(Pz),"loadSsoSessionData"),Rz=Ie((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),Az=Ie(async e=>{let t=await xO(e);return Rz(t.configFile,t.credentialsFile)},"parseKnownFiles")});var NO=m((wme,TO)=>{l();var ja=Object.defineProperty,Iz=Object.getOwnPropertyDescriptor,Tz=Object.getOwnPropertyNames,Nz=Object.prototype.hasOwnProperty,gn=(e,t)=>ja(e,"name",{value:t,configurable:!0}),Fz=(e,t)=>{for(var r in t)ja(e,r,{get:t[r],enumerable:!0})},Dz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tz(t))!Nz.call(e,o)&&o!==r&&ja(e,o,{get:()=>t[o],enumerable:!(n=Iz(t,o))||n.enumerable});return e},kz=e=>Dz(ja({},"__esModule",{value:!0}),e),IO={};Fz(IO,{loadConfig:()=>jz});TO.exports=kz(IO);var qo=X();function df(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}gn(df,"getSelectorName");var Mz=gn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new qo.CredentialsProviderError(r.message||`Not found in ENV: ${df(e.toString())}`,{logger:t})}},"fromEnv"),AO=RO(),Lz=gn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,AO.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,AO.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new qo.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${df(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),qz=gn(e=>typeof e=="function","isFunction"),Uz=gn(e=>qz(e)?async()=>await e():(0,qo.fromStatic)(e),"fromStatic"),jz=gn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,qo.memoize)((0,qo.chain)(Mz(e),Lz(t,n),Uz(r))),"loadConfig")});var Uo=m((bme,kO)=>{l();var Ha=Object.defineProperty,Hz=Object.getOwnPropertyDescriptor,Bz=Object.getOwnPropertyNames,$z=Object.prototype.hasOwnProperty,Gz=(e,t)=>Ha(e,"name",{value:t,configurable:!0}),Vz=(e,t)=>{for(var r in t)Ha(e,r,{get:t[r],enumerable:!0})},Wz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bz(t))!$z.call(e,o)&&o!==r&&Ha(e,o,{get:()=>t[o],enumerable:!(n=Hz(t,o))||n.enumerable});return e},zz=e=>Wz(Ha({},"__esModule",{value:!0}),e),DO={};Vz(DO,{calculateBodyLength:()=>Kz});kO.exports=zz(DO);var FO=S("fs"),Kz=Gz(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,FO.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,FO.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var YO=m(Ba=>{"use strict";l();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.ruleSet=void 0;var WO="required",Ne="fn",Fe="argv",hn="ref",MO=!0,LO="isSet",jo="booleanEquals",_n="error",vn="endpoint",bt="tree",uf="PartitionResult",pf="getAttr",qO={[WO]:!1,type:"String"},UO={[WO]:!0,default:!1,type:"Boolean"},jO={[hn]:"Endpoint"},zO={[Ne]:jo,[Fe]:[{[hn]:"UseFIPS"},!0]},KO={[Ne]:jo,[Fe]:[{[hn]:"UseDualStack"},!0]},Te={},HO={[Ne]:pf,[Fe]:[{[hn]:uf},"supportsFIPS"]},JO={[hn]:uf},BO={[Ne]:jo,[Fe]:[!0,{[Ne]:pf,[Fe]:[JO,"supportsDualStack"]}]},$O=[zO],GO=[KO],VO=[{[hn]:"Region"}],Jz={version:"1.0",parameters:{Region:qO,UseDualStack:UO,UseFIPS:UO,Endpoint:qO},rules:[{conditions:[{[Ne]:LO,[Fe]:[jO]}],rules:[{conditions:$O,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:_n},{conditions:GO,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:_n},{endpoint:{url:jO,properties:Te,headers:Te},type:vn}],type:bt},{conditions:[{[Ne]:LO,[Fe]:VO}],rules:[{conditions:[{[Ne]:"aws.partition",[Fe]:VO,assign:uf}],rules:[{conditions:[zO,KO],rules:[{conditions:[{[Ne]:jo,[Fe]:[MO,HO]},BO],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Te,headers:Te},type:vn}],type:bt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:_n}],type:bt},{conditions:$O,rules:[{conditions:[{[Ne]:jo,[Fe]:[HO,MO]}],rules:[{conditions:[{[Ne]:"stringEquals",[Fe]:[{[Ne]:pf,[Fe]:[JO,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Te,headers:Te},type:vn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Te,headers:Te},type:vn}],type:bt},{error:"FIPS is enabled but this partition does not support FIPS",type:_n}],type:bt},{conditions:GO,rules:[{conditions:[BO],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Te,headers:Te},type:vn}],type:bt},{error:"DualStack is enabled but this partition does not support DualStack",type:_n}],type:bt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Te,headers:Te},type:vn}],type:bt}],type:bt},{error:"Invalid Configuration: Missing Region",type:_n}]};Ba.ruleSet=Jz});var XO=m($a=>{"use strict";l();Object.defineProperty($a,"__esModule",{value:!0});$a.defaultEndpointResolver=void 0;var Yz=Kr(),ff=Wr(),Xz=YO(),Qz=new ff.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Zz=(e,t={})=>Qz.get(e,()=>(0,ff.resolveEndpoint)(Xz.ruleSet,{endpointParams:e,logger:t.logger}));$a.defaultEndpointResolver=Zz;ff.customEndpointFunctions.aws=Yz.awsEndpointFunctions});var eb=m(Ga=>{"use strict";l();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.getRuntimeConfig=void 0;var e8=(ie(),N(oe)),t8=(Oe(),N(Ze)),r8=B(),n8=Or(),QO=yt(),ZO=Ce(),o8=Qp(),i8=XO(),s8=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??QO.fromBase64,base64Encoder:e?.base64Encoder??QO.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??i8.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??o8.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new e8.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new t8.NoAuthSigner}],logger:e?.logger??new r8.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??n8.parseUrl,utf8Decoder:e?.utf8Decoder??ZO.fromUtf8,utf8Encoder:e?.utf8Encoder??ZO.toUtf8});Ga.getRuntimeConfig=s8});var yn=m(Va=>{"use strict";l();Object.defineProperty(Va,"__esModule",{value:!0});Va.getHomeDir=void 0;var a8=S("os"),c8=S("path"),mf={},l8=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",d8=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${c8.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=l8();return mf[o]||(mf[o]=(0,a8.homedir)()),mf[o]};Va.getHomeDir=d8});var gf=m(Wa=>{"use strict";l();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.getSSOTokenFilepath=void 0;var u8=S("crypto"),p8=S("path"),f8=yn(),m8=e=>{let r=(0,u8.createHash)("sha1").update(e).digest("hex");return(0,p8.join)((0,f8.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Wa.getSSOTokenFilepath=m8});var tb=m(za=>{"use strict";l();Object.defineProperty(za,"__esModule",{value:!0});za.getSSOTokenFromFile=void 0;var g8=S("fs"),_8=gf(),{readFile:v8}=g8.promises,h8=async e=>{let t=(0,_8.getSSOTokenFilepath)(e),r=await v8(t,"utf8");return JSON.parse(r)};za.getSSOTokenFromFile=h8});var vf=m(Ka=>{"use strict";l();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.slurpFile=void 0;var y8=S("fs"),{readFile:S8}=y8.promises,_f={},E8=(e,t)=>((!_f[e]||t?.ignoreCache)&&(_f[e]=S8(e,"utf8")),_f[e]);Ka.slurpFile=E8});var cb=m((Hme,Bo)=>{l();var Xa=Object.defineProperty,C8=Object.getOwnPropertyDescriptor,w8=Object.getOwnPropertyNames,O8=Object.prototype.hasOwnProperty,De=(e,t)=>Xa(e,"name",{value:t,configurable:!0}),b8=(e,t)=>{for(var r in t)Xa(e,r,{get:t[r],enumerable:!0})},hf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of w8(t))!O8.call(e,o)&&o!==r&&Xa(e,o,{get:()=>t[o],enumerable:!(n=C8(t,o))||n.enumerable});return e},Sf=(e,t,r)=>(hf(e,t,"default"),r&&hf(r,t,"default")),P8=e=>hf(Xa({},"__esModule",{value:!0}),e),Ho={};b8(Ho,{CONFIG_PREFIX_SEPARATOR:()=>Ar,DEFAULT_PROFILE:()=>ib,ENV_PROFILE:()=>ob,getProfileName:()=>x8,loadSharedConfigFiles:()=>ab,loadSsoSessionData:()=>j8,parseKnownFiles:()=>B8});Bo.exports=P8(Ho);Sf(Ho,yn(),Bo.exports);var ob="AWS_PROFILE",ib="default",x8=De(e=>e.profile||process.env[ob]||ib,"getProfileName");Sf(Ho,gf(),Bo.exports);Sf(Ho,tb(),Bo.exports);var Ja=Y(),R8=De(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ar);return r===-1?!1:Object.values(Ja.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Ar),i=r.substring(0,o)===Ja.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ya=S("path"),A8=yn(),I8="AWS_CONFIG_FILE",sb=De(()=>process.env[I8]||(0,Ya.join)((0,A8.getHomeDir)(),".aws","config"),"getConfigFilepath"),T8=yn(),N8="AWS_SHARED_CREDENTIALS_FILE",F8=De(()=>process.env[N8]||(0,Ya.join)((0,T8.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),D8=yn(),k8=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,M8=["__proto__","profile __proto__"],yf=De(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=k8.exec(s);if(c){let[,d,,u]=c;Object.values(Ja.IniSectionType).includes(d)&&(r=[d,u].join(Ar))}else r=s;if(M8.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Ar):c;t[r][u]=d}}}}return t},"parseIni"),rb=vf(),nb=De(()=>({}),"swallowError"),Ar=".",ab=De(async(e={})=>{let{filepath:t=F8(),configFilepath:r=sb()}=e,n=(0,D8.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Ya.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Ya.join)(n,r.slice(2)));let s=await Promise.all([(0,rb.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(yf).then(R8).catch(nb),(0,rb.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(yf).catch(nb)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),L8=De(e=>Object.entries(e).filter(([t])=>t.startsWith(Ja.IniSectionType.SSO_SESSION+Ar)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ar)+1)]:n}),{}),"getSsoSessionData"),q8=vf(),U8=De(()=>({}),"swallowError"),j8=De(async(e={})=>(0,q8.slurpFile)(e.configFilepath??sb()).then(yf).then(L8).catch(U8),"loadSsoSessionData"),H8=De((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),B8=De(async e=>{let t=await ab(e);return H8(t.configFile,t.credentialsFile)},"parseKnownFiles")});var pb=m(($me,ub)=>{l();var Qa=Object.defineProperty,$8=Object.getOwnPropertyDescriptor,G8=Object.getOwnPropertyNames,V8=Object.prototype.hasOwnProperty,Sn=(e,t)=>Qa(e,"name",{value:t,configurable:!0}),W8=(e,t)=>{for(var r in t)Qa(e,r,{get:t[r],enumerable:!0})},z8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G8(t))!V8.call(e,o)&&o!==r&&Qa(e,o,{get:()=>t[o],enumerable:!(n=$8(t,o))||n.enumerable});return e},K8=e=>z8(Qa({},"__esModule",{value:!0}),e),db={};W8(db,{loadConfig:()=>Z8});ub.exports=K8(db);var $o=X();function Ef(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Sn(Ef,"getSelectorName");var J8=Sn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new $o.CredentialsProviderError(r.message||`Not found in ENV: ${Ef(e.toString())}`,{logger:t})}},"fromEnv"),lb=cb(),Y8=Sn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,lb.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,lb.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new $o.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Ef(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),X8=Sn(e=>typeof e=="function","isFunction"),Q8=Sn(e=>X8(e)?async()=>await e():(0,$o.fromStatic)(e),"fromStatic"),Z8=Sn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,$o.memoize)((0,$o.chain)(J8(e),Y8(t,n),Q8(r))),"loadConfig")});var Vo=m((Vme,hb)=>{l();var e4=Object.create,Go=Object.defineProperty,t4=Object.getOwnPropertyDescriptor,r4=Object.getOwnPropertyNames,n4=Object.getPrototypeOf,o4=Object.prototype.hasOwnProperty,Cf=(e,t)=>Go(e,"name",{value:t,configurable:!0}),i4=(e,t)=>{for(var r in t)Go(e,r,{get:t[r],enumerable:!0})},_b=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r4(t))!o4.call(e,o)&&o!==r&&Go(e,o,{get:()=>t[o],enumerable:!(n=t4(t,o))||n.enumerable});return e},s4=(e,t,r)=>(r=e!=null?e4(n4(e)):{},_b(t||!e||!e.__esModule?Go(r,"default",{value:e,enumerable:!0}):r,e)),a4=e=>_b(Go({},"__esModule",{value:!0}),e),vb={};i4(vb,{resolveDefaultsModeConfig:()=>v4});hb.exports=a4(vb);var c4=lt(),fb=pb(),l4=X(),d4="AWS_EXECUTION_ENV",mb="AWS_REGION",gb="AWS_DEFAULT_REGION",u4="AWS_EC2_METADATA_DISABLED",p4=["in-region","cross-region","mobile","standard","legacy"],f4="/latest/meta-data/placement/region",m4="AWS_DEFAULTS_MODE",g4="defaults_mode",_4={environmentVariableSelector:e=>e[m4],configFileSelector:e=>e[g4],default:"legacy"},v4=Cf(({region:e=(0,fb.loadConfig)(c4.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,fb.loadConfig)(_4)}={})=>(0,l4.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return h4(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${p4.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),h4=Cf(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await y4();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),y4=Cf(async()=>{if(process.env[d4]&&(process.env[mb]||process.env[gb]))return process.env[mb]??process.env[gb];if(!process.env[u4])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>s4(Fo())),r=await e();return(await t({...r,path:f4})).toString()}catch{}},"inferPhysicalRegion")});var Cb=m(ec=>{"use strict";l();Object.defineProperty(ec,"__esModule",{value:!0});ec.getRuntimeConfig=void 0;var S4=(er(),N(Zt)),E4=S4.__importDefault(aO()),C4=(ie(),N(oe)),yb=Do(),Za=lt(),w4=ko(),Sb=Ot(),En=NO(),Eb=gr(),O4=Uo(),b4=sn(),P4=eb(),x4=B(),R4=Vo(),A4=B(),I4=e=>{(0,A4.emitWarningIfUnsupportedVersion)(process.version);let t=(0,R4.resolveDefaultsModeConfig)(e),r=()=>t().then(x4.loadConfigsForDefaultMode),n=(0,P4.getRuntimeConfig)(e);return(0,C4.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??O4.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,yb.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:E4.default.version}),maxAttempts:e?.maxAttempts??(0,En.loadConfig)(Sb.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,En.loadConfig)(Za.NODE_REGION_CONFIG_OPTIONS,Za.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Eb.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,En.loadConfig)({...Sb.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||b4.DEFAULT_RETRY_MODE}),sha256:e?.sha256??w4.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Eb.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,En.loadConfig)(Za.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,En.loadConfig)(Za.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS),userAgentAppId:e?.userAgentAppId??(0,En.loadConfig)(yb.NODE_APP_ID_CONFIG_OPTIONS)}};ec.getRuntimeConfig=I4});var Wo=m((Jme,Rb)=>{"use strict";l();var tc=Object.defineProperty,T4=Object.getOwnPropertyDescriptor,N4=Object.getOwnPropertyNames,F4=Object.prototype.hasOwnProperty,Cn=(e,t)=>tc(e,"name",{value:t,configurable:!0}),D4=(e,t)=>{for(var r in t)tc(e,r,{get:t[r],enumerable:!0})},k4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N4(t))!F4.call(e,o)&&o!==r&&tc(e,o,{get:()=>t[o],enumerable:!(n=T4(t,o))||n.enumerable});return e},M4=e=>k4(tc({},"__esModule",{value:!0}),e),Ob={};D4(Ob,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>j4,NODE_REGION_CONFIG_OPTIONS:()=>U4,REGION_ENV_NAME:()=>bb,REGION_INI_NAME:()=>Pb,getAwsRegionExtensionConfiguration:()=>L4,resolveAwsRegionExtensionConfiguration:()=>q4,resolveRegionConfig:()=>H4});Rb.exports=M4(Ob);var L4=Cn(e=>{let t=Cn(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),q4=Cn(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),bb="AWS_REGION",Pb="region",U4={environmentVariableSelector:e=>e[bb],configFileSelector:e=>e[Pb],default:()=>{throw new Error("Region is missing")}},j4={preferredFile:"credentials"},xb=Cn(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),wb=Cn(e=>xb(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),H4=Cn(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return wb(t);let n=await t();return wb(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return xb(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var hP=m((nge,vP)=>{"use strict";l();var nc=Object.defineProperty,B4=Object.getOwnPropertyDescriptor,$4=Object.getOwnPropertyNames,G4=Object.prototype.hasOwnProperty,k=(e,t)=>nc(e,"name",{value:t,configurable:!0}),V4=(e,t)=>{for(var r in t)nc(e,r,{get:t[r],enumerable:!0})},W4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $4(t))!G4.call(e,o)&&o!==r&&nc(e,o,{get:()=>t[o],enumerable:!(n=B4(t,o))||n.enumerable});return e},z4=e=>W4(nc({},"__esModule",{value:!0}),e),kb={};V4(kb,{GetRoleCredentialsCommand:()=>dP,GetRoleCredentialsRequestFilterSensitiveLog:()=>Xb,GetRoleCredentialsResponseFilterSensitiveLog:()=>Zb,InvalidRequestException:()=>Hb,ListAccountRolesCommand:()=>wf,ListAccountRolesRequestFilterSensitiveLog:()=>eP,ListAccountsCommand:()=>Of,ListAccountsRequestFilterSensitiveLog:()=>tP,LogoutCommand:()=>mP,LogoutRequestFilterSensitiveLog:()=>rP,ResourceNotFoundException:()=>Gb,RoleCredentialsFilterSensitiveLog:()=>Qb,SSO:()=>_P,SSOClient:()=>ic,SSOServiceException:()=>wn,TooManyRequestsException:()=>zb,UnauthorizedException:()=>Yb,__Client:()=>P.Client,paginateListAccountRoles:()=>yK,paginateListAccounts:()=>SK});vP.exports=z4(kb);var Ab=no(),K4=oo(),J4=io(),Ib=en(),Y4=lt(),Pt=(Oe(),N(Ze)),X4=yo(),Ko=nn(),Tb=Ot(),Nb=Qp(),Q4=k(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),oc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Z4=Cb(),Fb=Wo(),Db=J(),P=B(),eK=k(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),tK=k(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),rc=k(e=>e,"asPartial"),rK=k((e,t)=>{let r={...rc((0,Fb.getAwsRegionExtensionConfiguration)(e)),...rc((0,P.getDefaultExtensionConfiguration)(e)),...rc((0,Db.getHttpHandlerExtensionConfiguration)(e)),...rc(eK(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Fb.resolveAwsRegionExtensionConfiguration)(r),...(0,P.resolveDefaultRuntimeConfig)(r),...(0,Db.resolveHttpHandlerRuntimeConfig)(r),...tK(r)}},"resolveRuntimeExtensions"),Mb=class extends P.Client{constructor(...[t]){let r=(0,Z4.getRuntimeConfig)(t||{}),n=Q4(r),o=(0,Ib.resolveUserAgentConfig)(n),i=(0,Tb.resolveRetryConfig)(o),a=(0,Y4.resolveRegionConfig)(i),s=(0,Ab.resolveHostHeaderConfig)(a),c=(0,Ko.resolveEndpointConfig)(s),d=(0,Nb.resolveHttpAuthSchemeConfig)(c),u=rK(d,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,Ib.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Tb.getRetryPlugin)(this.config)),this.middlewareStack.use((0,X4.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ab.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,K4.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,J4.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Pt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Nb.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new Pt.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use((0,Pt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};k(Mb,"SSOClient");var ic=Mb,sc=mr(),Lb=class qb extends P.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,qb.prototype)}};k(Lb,"SSOServiceException");var wn=Lb,Ub=class jb extends wn{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,jb.prototype)}};k(Ub,"InvalidRequestException");var Hb=Ub,Bb=class $b extends wn{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,$b.prototype)}};k(Bb,"ResourceNotFoundException");var Gb=Bb,Vb=class Wb extends wn{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Wb.prototype)}};k(Vb,"TooManyRequestsException");var zb=Vb,Kb=class Jb extends wn{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Jb.prototype)}};k(Kb,"UnauthorizedException");var Yb=Kb,Xb=k(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),Qb=k(e=>({...e,...e.secretAccessKey&&{secretAccessKey:P.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:P.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),Zb=k(e=>({...e,...e.roleCredentials&&{roleCredentials:Qb(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),eP=k(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),tP=k(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),rP=k(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),zo=(ie(),N(oe)),nK=k(async(e,t)=>{let r=(0,Pt.requestBuilder)(e,t),n=(0,P.map)({},P.isSerializableHeaderValue,{[lc]:e[cc]});r.bp("/federation/credentials");let o=(0,P.map)({[vK]:[,(0,P.expectNonNull)(e[_K],"roleName")],[oP]:[,(0,P.expectNonNull)(e[nP],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),oK=k(async(e,t)=>{let r=(0,Pt.requestBuilder)(e,t),n=(0,P.map)({},P.isSerializableHeaderValue,{[lc]:e[cc]});r.bp("/assignment/roles");let o=(0,P.map)({[cP]:[,e[aP]],[sP]:[()=>e.maxResults!==void 0,()=>e[iP].toString()],[oP]:[,(0,P.expectNonNull)(e[nP],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),iK=k(async(e,t)=>{let r=(0,Pt.requestBuilder)(e,t),n=(0,P.map)({},P.isSerializableHeaderValue,{[lc]:e[cc]});r.bp("/assignment/accounts");let o=(0,P.map)({[cP]:[,e[aP]],[sP]:[()=>e.maxResults!==void 0,()=>e[iP].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),sK=k(async(e,t)=>{let r=(0,Pt.requestBuilder)(e,t),n=(0,P.map)({},P.isSerializableHeaderValue,{[lc]:e[cc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),aK=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,P.map)({$metadata:rr(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await(0,zo.parseJsonBody)(e.body,t)),"body"),o=(0,P.take)(n,{roleCredentials:P._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),cK=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,P.map)({$metadata:rr(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await(0,zo.parseJsonBody)(e.body,t)),"body"),o=(0,P.take)(n,{nextToken:P.expectString,roleList:P._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),lK=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,P.map)({$metadata:rr(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await(0,zo.parseJsonBody)(e.body,t)),"body"),o=(0,P.take)(n,{accountList:P._json,nextToken:P.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),dK=k(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ac(e,t);let r=(0,P.map)({$metadata:rr(e)});return await(0,P.collectBody)(e.body,t),r},"de_LogoutCommand"),ac=k(async(e,t)=>{let r={...e,body:await(0,zo.parseJsonErrorBody)(e.body,t)},n=(0,zo.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await pK(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await fK(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await mK(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await gK(r,t);default:let o=r.body;return uK({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),uK=(0,P.withBaseException)(wn),pK=k(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new Hb({$metadata:rr(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),fK=k(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new Gb({$metadata:rr(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),mK=k(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new zb({$metadata:rr(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),gK=k(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new Yb({$metadata:rr(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),rr=k(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),nP="accountId",cc="accessToken",oP="account_id",iP="maxResults",sP="max_result",aP="nextToken",cP="next_token",_K="roleName",vK="role_name",lc="x-amz-sso_bearer_token",lP=class extends P.Command.classBuilder().ep(oc).m(function(t,r,n,o){return[(0,sc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ko.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(Xb,Zb).ser(nK).de(aK).build(){};k(lP,"GetRoleCredentialsCommand");var dP=lP,uP=class extends P.Command.classBuilder().ep(oc).m(function(t,r,n,o){return[(0,sc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ko.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(eP,void 0).ser(oK).de(cK).build(){};k(uP,"ListAccountRolesCommand");var wf=uP,pP=class extends P.Command.classBuilder().ep(oc).m(function(t,r,n,o){return[(0,sc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ko.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(tP,void 0).ser(iK).de(lK).build(){};k(pP,"ListAccountsCommand");var Of=pP,fP=class extends P.Command.classBuilder().ep(oc).m(function(t,r,n,o){return[(0,sc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ko.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(rP,void 0).ser(sK).de(dK).build(){};k(fP,"LogoutCommand");var mP=fP,hK={GetRoleCredentialsCommand:dP,ListAccountRolesCommand:wf,ListAccountsCommand:Of,LogoutCommand:mP},gP=class extends ic{};k(gP,"SSO");var _P=gP;(0,P.createAggregatedClient)(hK,_P);var yK=(0,Pt.createPaginator)(ic,wf,"nextToken","nextToken","maxResults"),SK=(0,Pt.createPaginator)(ic,Of,"nextToken","nextToken","maxResults")});var Pf=m(nr=>{"use strict";l();Object.defineProperty(nr,"__esModule",{value:!0});nr.resolveHttpAuthSchemeConfig=nr.defaultSSOOIDCHttpAuthSchemeProvider=nr.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var EK=(ie(),N(oe)),yP=Qe(),CK=async(e,t,r)=>({operation:(0,yP.getSmithyContext)(t).operation,region:await(0,yP.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});nr.defaultSSOOIDCHttpAuthSchemeParametersProvider=CK;function wK(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function bf(e){return{schemeId:"smithy.api#noAuth"}}var OK=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(bf(e));break}case"RegisterClient":{t.push(bf(e));break}case"StartDeviceAuthorization":{t.push(bf(e));break}default:t.push(wK(e))}return t};nr.defaultSSOOIDCHttpAuthSchemeProvider=OK;var bK=e=>({...(0,EK.resolveAwsSdkSigV4Config)(e)});nr.resolveHttpAuthSchemeConfig=bK});var SP=m((age,PK)=>{PK.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.699.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.696.0","@aws-sdk/credential-provider-node":"3.699.0","@aws-sdk/middleware-host-header":"3.696.0","@aws-sdk/middleware-logger":"3.696.0","@aws-sdk/middleware-recursion-detection":"3.696.0","@aws-sdk/middleware-user-agent":"3.696.0","@aws-sdk/region-config-resolver":"3.696.0","@aws-sdk/types":"3.696.0","@aws-sdk/util-endpoints":"3.696.0","@aws-sdk/util-user-agent-browser":"3.696.0","@aws-sdk/util-user-agent-node":"3.696.0","@smithy/config-resolver":"^3.0.12","@smithy/core":"^2.5.3","@smithy/fetch-http-handler":"^4.1.1","@smithy/hash-node":"^3.0.10","@smithy/invalid-dependency":"^3.0.10","@smithy/middleware-content-length":"^3.0.12","@smithy/middleware-endpoint":"^3.2.3","@smithy/middleware-retry":"^3.0.27","@smithy/middleware-serde":"^3.0.10","@smithy/middleware-stack":"^3.0.10","@smithy/node-config-provider":"^3.1.11","@smithy/node-http-handler":"^3.3.1","@smithy/protocol-http":"^4.1.7","@smithy/smithy-client":"^3.4.4","@smithy/types":"^3.7.1","@smithy/url-parser":"^3.0.10","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.27","@smithy/util-defaults-mode-node":"^3.0.27","@smithy/util-endpoints":"^2.1.6","@smithy/util-middleware":"^3.0.10","@smithy/util-retry":"^3.0.10","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/client-sts":"^3.699.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var On=m(dc=>{"use strict";l();Object.defineProperty(dc,"__esModule",{value:!0});dc.getHomeDir=void 0;var xK=S("os"),RK=S("path"),xf={},AK=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",IK=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${RK.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=AK();return xf[o]||(xf[o]=(0,xK.homedir)()),xf[o]};dc.getHomeDir=IK});var Rf=m(uc=>{"use strict";l();Object.defineProperty(uc,"__esModule",{value:!0});uc.getSSOTokenFilepath=void 0;var TK=S("crypto"),NK=S("path"),FK=On(),DK=e=>{let r=(0,TK.createHash)("sha1").update(e).digest("hex");return(0,NK.join)((0,FK.getHomeDir)(),".aws","sso","cache",`${r}.json`)};uc.getSSOTokenFilepath=DK});var EP=m(pc=>{"use strict";l();Object.defineProperty(pc,"__esModule",{value:!0});pc.getSSOTokenFromFile=void 0;var kK=S("fs"),MK=Rf(),{readFile:LK}=kK.promises,qK=async e=>{let t=(0,MK.getSSOTokenFilepath)(e),r=await LK(t,"utf8");return JSON.parse(r)};pc.getSSOTokenFromFile=qK});var If=m(fc=>{"use strict";l();Object.defineProperty(fc,"__esModule",{value:!0});fc.slurpFile=void 0;var UK=S("fs"),{readFile:jK}=UK.promises,Af={},HK=(e,t)=>((!Af[e]||t?.ignoreCache)&&(Af[e]=jK(e,"utf8")),Af[e]);fc.slurpFile=HK});var RP=m((_ge,Yo)=>{l();var _c=Object.defineProperty,BK=Object.getOwnPropertyDescriptor,$K=Object.getOwnPropertyNames,GK=Object.prototype.hasOwnProperty,ke=(e,t)=>_c(e,"name",{value:t,configurable:!0}),VK=(e,t)=>{for(var r in t)_c(e,r,{get:t[r],enumerable:!0})},Tf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $K(t))!GK.call(e,o)&&o!==r&&_c(e,o,{get:()=>t[o],enumerable:!(n=BK(t,o))||n.enumerable});return e},Ff=(e,t,r)=>(Tf(e,t,"default"),r&&Tf(r,t,"default")),WK=e=>Tf(_c({},"__esModule",{value:!0}),e),Jo={};VK(Jo,{CONFIG_PREFIX_SEPARATOR:()=>Ir,DEFAULT_PROFILE:()=>bP,ENV_PROFILE:()=>OP,getProfileName:()=>zK,loadSharedConfigFiles:()=>xP,loadSsoSessionData:()=>s9,parseKnownFiles:()=>c9});Yo.exports=WK(Jo);Ff(Jo,On(),Yo.exports);var OP="AWS_PROFILE",bP="default",zK=ke(e=>e.profile||process.env[OP]||bP,"getProfileName");Ff(Jo,Rf(),Yo.exports);Ff(Jo,EP(),Yo.exports);var mc=Y(),KK=ke(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ir);return r===-1?!1:Object.values(mc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Ir),i=r.substring(0,o)===mc.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),gc=S("path"),JK=On(),YK="AWS_CONFIG_FILE",PP=ke(()=>process.env[YK]||(0,gc.join)((0,JK.getHomeDir)(),".aws","config"),"getConfigFilepath"),XK=On(),QK="AWS_SHARED_CREDENTIALS_FILE",ZK=ke(()=>process.env[QK]||(0,gc.join)((0,XK.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),e9=On(),t9=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,r9=["__proto__","profile __proto__"],Nf=ke(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=t9.exec(s);if(c){let[,d,,u]=c;Object.values(mc.IniSectionType).includes(d)&&(r=[d,u].join(Ir))}else r=s;if(r9.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Ir):c;t[r][u]=d}}}}return t},"parseIni"),CP=If(),wP=ke(()=>({}),"swallowError"),Ir=".",xP=ke(async(e={})=>{let{filepath:t=ZK(),configFilepath:r=PP()}=e,n=(0,e9.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,gc.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,gc.join)(n,r.slice(2)));let s=await Promise.all([(0,CP.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Nf).then(KK).catch(wP),(0,CP.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Nf).catch(wP)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),n9=ke(e=>Object.entries(e).filter(([t])=>t.startsWith(mc.IniSectionType.SSO_SESSION+Ir)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ir)+1)]:n}),{}),"getSsoSessionData"),o9=If(),i9=ke(()=>({}),"swallowError"),s9=ke(async(e={})=>(0,o9.slurpFile)(e.configFilepath??PP()).then(Nf).then(n9).catch(i9),"loadSsoSessionData"),a9=ke((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),c9=ke(async e=>{let t=await xP(e);return a9(t.configFile,t.credentialsFile)},"parseKnownFiles")});var NP=m((hge,TP)=>{l();var vc=Object.defineProperty,l9=Object.getOwnPropertyDescriptor,d9=Object.getOwnPropertyNames,u9=Object.prototype.hasOwnProperty,bn=(e,t)=>vc(e,"name",{value:t,configurable:!0}),p9=(e,t)=>{for(var r in t)vc(e,r,{get:t[r],enumerable:!0})},f9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d9(t))!u9.call(e,o)&&o!==r&&vc(e,o,{get:()=>t[o],enumerable:!(n=l9(t,o))||n.enumerable});return e},m9=e=>f9(vc({},"__esModule",{value:!0}),e),IP={};p9(IP,{loadConfig:()=>y9});TP.exports=m9(IP);var Xo=X();function Df(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}bn(Df,"getSelectorName");var g9=bn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Xo.CredentialsProviderError(r.message||`Not found in ENV: ${Df(e.toString())}`,{logger:t})}},"fromEnv"),AP=RP(),_9=bn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,AP.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,AP.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new Xo.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Df(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),v9=bn(e=>typeof e=="function","isFunction"),h9=bn(e=>v9(e)?async()=>await e():(0,Xo.fromStatic)(e),"fromStatic"),y9=bn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Xo.memoize)((0,Xo.chain)(g9(e),_9(t,n),h9(r))),"loadConfig")});var zP=m(hc=>{"use strict";l();Object.defineProperty(hc,"__esModule",{value:!0});hc.ruleSet=void 0;var $P="required",Le="fn",qe="argv",Rn="ref",FP=!0,DP="isSet",Qo="booleanEquals",Pn="error",xn="endpoint",xt="tree",kf="PartitionResult",Mf="getAttr",kP={[$P]:!1,type:"String"},MP={[$P]:!0,default:!1,type:"Boolean"},LP={[Rn]:"Endpoint"},GP={[Le]:Qo,[qe]:[{[Rn]:"UseFIPS"},!0]},VP={[Le]:Qo,[qe]:[{[Rn]:"UseDualStack"},!0]},Me={},qP={[Le]:Mf,[qe]:[{[Rn]:kf},"supportsFIPS"]},WP={[Rn]:kf},UP={[Le]:Qo,[qe]:[!0,{[Le]:Mf,[qe]:[WP,"supportsDualStack"]}]},jP=[GP],HP=[VP],BP=[{[Rn]:"Region"}],S9={version:"1.0",parameters:{Region:kP,UseDualStack:MP,UseFIPS:MP,Endpoint:kP},rules:[{conditions:[{[Le]:DP,[qe]:[LP]}],rules:[{conditions:jP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Pn},{conditions:HP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Pn},{endpoint:{url:LP,properties:Me,headers:Me},type:xn}],type:xt},{conditions:[{[Le]:DP,[qe]:BP}],rules:[{conditions:[{[Le]:"aws.partition",[qe]:BP,assign:kf}],rules:[{conditions:[GP,VP],rules:[{conditions:[{[Le]:Qo,[qe]:[FP,qP]},UP],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Me,headers:Me},type:xn}],type:xt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Pn}],type:xt},{conditions:jP,rules:[{conditions:[{[Le]:Qo,[qe]:[qP,FP]}],rules:[{conditions:[{[Le]:"stringEquals",[qe]:[{[Le]:Mf,[qe]:[WP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Me,headers:Me},type:xn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Me,headers:Me},type:xn}],type:xt},{error:"FIPS is enabled but this partition does not support FIPS",type:Pn}],type:xt},{conditions:HP,rules:[{conditions:[UP],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Me,headers:Me},type:xn}],type:xt},{error:"DualStack is enabled but this partition does not support DualStack",type:Pn}],type:xt},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Me,headers:Me},type:xn}],type:xt}],type:xt},{error:"Invalid Configuration: Missing Region",type:Pn}]};hc.ruleSet=S9});var KP=m(yc=>{"use strict";l();Object.defineProperty(yc,"__esModule",{value:!0});yc.defaultEndpointResolver=void 0;var E9=Kr(),Lf=Wr(),C9=zP(),w9=new Lf.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),O9=(e,t={})=>w9.get(e,()=>(0,Lf.resolveEndpoint)(C9.ruleSet,{endpointParams:e,logger:t.logger}));yc.defaultEndpointResolver=O9;Lf.customEndpointFunctions.aws=E9.awsEndpointFunctions});var XP=m(Sc=>{"use strict";l();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.getRuntimeConfig=void 0;var b9=(ie(),N(oe)),P9=(Oe(),N(Ze)),x9=B(),R9=Or(),JP=yt(),YP=Ce(),A9=Pf(),I9=KP(),T9=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??JP.fromBase64,base64Encoder:e?.base64Encoder??JP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??I9.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??A9.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new b9.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new P9.NoAuthSigner}],logger:e?.logger??new x9.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??R9.parseUrl,utf8Decoder:e?.utf8Decoder??YP.fromUtf8,utf8Encoder:e?.utf8Encoder??YP.toUtf8});Sc.getRuntimeConfig=T9});var tx=m(Cc=>{"use strict";l();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.getRuntimeConfig=void 0;var N9=(er(),N(Zt)),F9=N9.__importDefault(SP()),D9=(ie(),N(oe)),k9=wc(),QP=Do(),Ec=lt(),M9=ko(),ZP=Ot(),An=NP(),ex=gr(),L9=Uo(),q9=sn(),U9=XP(),j9=B(),H9=Vo(),B9=B(),$9=e=>{(0,B9.emitWarningIfUnsupportedVersion)(process.version);let t=(0,H9.resolveDefaultsModeConfig)(e),r=()=>t().then(j9.loadConfigsForDefaultMode),n=(0,U9.getRuntimeConfig)(e);return(0,D9.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??L9.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??k9.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,QP.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:F9.default.version}),maxAttempts:e?.maxAttempts??(0,An.loadConfig)(ZP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,An.loadConfig)(Ec.NODE_REGION_CONFIG_OPTIONS,Ec.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:ex.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,An.loadConfig)({...ZP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||q9.DEFAULT_RETRY_MODE}),sha256:e?.sha256??M9.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ex.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,An.loadConfig)(Ec.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,An.loadConfig)(Ec.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS),userAgentAppId:e?.userAgentAppId??(0,An.loadConfig)(QP.NODE_APP_ID_CONFIG_OPTIONS)}};Cc.getRuntimeConfig=$9});var qf=m((Dge,vR)=>{"use strict";l();var bc=Object.defineProperty,G9=Object.getOwnPropertyDescriptor,V9=Object.getOwnPropertyNames,W9=Object.prototype.hasOwnProperty,A=(e,t)=>bc(e,"name",{value:t,configurable:!0}),z9=(e,t)=>{for(var r in t)bc(e,r,{get:t[r],enumerable:!0})},K9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of V9(t))!W9.call(e,o)&&o!==r&&bc(e,o,{get:()=>t[o],enumerable:!(n=G9(t,o))||n.enumerable});return e},J9=e=>K9(bc({},"__esModule",{value:!0}),e),cx={};z9(cx,{AccessDeniedException:()=>gx,AuthorizationPendingException:()=>hx,CreateTokenCommand:()=>cR,CreateTokenRequestFilterSensitiveLog:()=>tR,CreateTokenResponseFilterSensitiveLog:()=>rR,CreateTokenWithIAMCommand:()=>dR,CreateTokenWithIAMRequestFilterSensitiveLog:()=>nR,CreateTokenWithIAMResponseFilterSensitiveLog:()=>oR,ExpiredTokenException:()=>Ex,InternalServerException:()=>Ox,InvalidClientException:()=>xx,InvalidClientMetadataException:()=>Xx,InvalidGrantException:()=>Ix,InvalidRedirectUriException:()=>eR,InvalidRequestException:()=>Fx,InvalidRequestRegionException:()=>Kx,InvalidScopeException:()=>Mx,RegisterClientCommand:()=>pR,RegisterClientResponseFilterSensitiveLog:()=>iR,SSOOIDC:()=>_R,SSOOIDCClient:()=>dx,SSOOIDCServiceException:()=>ge,SlowDownException:()=>Ux,StartDeviceAuthorizationCommand:()=>mR,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>sR,UnauthorizedClientException:()=>Bx,UnsupportedGrantTypeException:()=>Vx,__Client:()=>h.Client});vR.exports=J9(cx);var rx=no(),Y9=oo(),X9=io(),nx=en(),Q9=lt(),Tr=(Oe(),N(Ze)),Z9=yo(),Zo=nn(),ox=Ot(),ix=Pf(),e5=A(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),Pc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},t5=tx(),sx=Wo(),ax=J(),h=B(),r5=A(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),n5=A(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Oc=A(e=>e,"asPartial"),o5=A((e,t)=>{let r={...Oc((0,sx.getAwsRegionExtensionConfiguration)(e)),...Oc((0,h.getDefaultExtensionConfiguration)(e)),...Oc((0,ax.getHttpHandlerExtensionConfiguration)(e)),...Oc(r5(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,sx.resolveAwsRegionExtensionConfiguration)(r),...(0,h.resolveDefaultRuntimeConfig)(r),...(0,ax.resolveHttpHandlerRuntimeConfig)(r),...n5(r)}},"resolveRuntimeExtensions"),lx=class extends h.Client{constructor(...[t]){let r=(0,t5.getRuntimeConfig)(t||{}),n=e5(r),o=(0,nx.resolveUserAgentConfig)(n),i=(0,ox.resolveRetryConfig)(o),a=(0,Q9.resolveRegionConfig)(i),s=(0,rx.resolveHostHeaderConfig)(a),c=(0,Zo.resolveEndpointConfig)(s),d=(0,ix.resolveHttpAuthSchemeConfig)(c),u=o5(d,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,nx.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ox.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Z9.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,rx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Y9.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,X9.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Tr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:ix.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new Tr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use((0,Tr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};A(lx,"SSOOIDCClient");var dx=lx,xc=mr(),ux=class px extends h.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,px.prototype)}};A(ux,"SSOOIDCServiceException");var ge=ux,fx=class mx extends ge{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,mx.prototype),this.error=t.error,this.error_description=t.error_description}};A(fx,"AccessDeniedException");var gx=fx,_x=class vx extends ge{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,vx.prototype),this.error=t.error,this.error_description=t.error_description}};A(_x,"AuthorizationPendingException");var hx=_x,yx=class Sx extends ge{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Sx.prototype),this.error=t.error,this.error_description=t.error_description}};A(yx,"ExpiredTokenException");var Ex=yx,Cx=class wx extends ge{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,wx.prototype),this.error=t.error,this.error_description=t.error_description}};A(Cx,"InternalServerException");var Ox=Cx,bx=class Px extends ge{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Px.prototype),this.error=t.error,this.error_description=t.error_description}};A(bx,"InvalidClientException");var xx=bx,Rx=class Ax extends ge{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Ax.prototype),this.error=t.error,this.error_description=t.error_description}};A(Rx,"InvalidGrantException");var Ix=Rx,Tx=class Nx extends ge{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Nx.prototype),this.error=t.error,this.error_description=t.error_description}};A(Tx,"InvalidRequestException");var Fx=Tx,Dx=class kx extends ge{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,kx.prototype),this.error=t.error,this.error_description=t.error_description}};A(Dx,"InvalidScopeException");var Mx=Dx,Lx=class qx extends ge{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,qx.prototype),this.error=t.error,this.error_description=t.error_description}};A(Lx,"SlowDownException");var Ux=Lx,jx=class Hx extends ge{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Hx.prototype),this.error=t.error,this.error_description=t.error_description}};A(jx,"UnauthorizedClientException");var Bx=jx,$x=class Gx extends ge{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Gx.prototype),this.error=t.error,this.error_description=t.error_description}};A($x,"UnsupportedGrantTypeException");var Vx=$x,Wx=class zx extends ge{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,zx.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};A(Wx,"InvalidRequestRegionException");var Kx=Wx,Jx=class Yx extends ge{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Yx.prototype),this.error=t.error,this.error_description=t.error_description}};A(Jx,"InvalidClientMetadataException");var Xx=Jx,Qx=class Zx extends ge{constructor(t){super({name:"InvalidRedirectUriException",$fault:"client",...t}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,Zx.prototype),this.error=t.error,this.error_description=t.error_description}};A(Qx,"InvalidRedirectUriException");var eR=Qx,tR=A(e=>({...e,...e.clientSecret&&{clientSecret:h.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:h.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:h.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),rR=A(e=>({...e,...e.accessToken&&{accessToken:h.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:h.SENSITIVE_STRING},...e.idToken&&{idToken:h.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),nR=A(e=>({...e,...e.refreshToken&&{refreshToken:h.SENSITIVE_STRING},...e.assertion&&{assertion:h.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:h.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:h.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),oR=A(e=>({...e,...e.accessToken&&{accessToken:h.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:h.SENSITIVE_STRING},...e.idToken&&{idToken:h.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),iR=A(e=>({...e,...e.clientSecret&&{clientSecret:h.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),sR=A(e=>({...e,...e.clientSecret&&{clientSecret:h.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),In=(ie(),N(oe)),i5=A(async(e,t)=>{let r=(0,Tr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,h.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,h._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),s5=A(async(e,t)=>{let r=(0,Tr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o=(0,h.map)({[R5]:[,"t"]}),i;return i=JSON.stringify((0,h.take)(e,{assertion:[],clientId:[],code:[],codeVerifier:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:a=>(0,h._json)(a),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),a5=A(async(e,t)=>{let r=(0,Tr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,h.take)(e,{clientName:[],clientType:[],entitledApplicationArn:[],grantTypes:i=>(0,h._json)(i),issuerUrl:[],redirectUris:i=>(0,h._json)(i),scopes:i=>(0,h._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),c5=A(async(e,t)=>{let r=(0,Tr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,h.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),l5=A(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rc(e,t);let r=(0,h.map)({$metadata:se(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await(0,In.parseJsonBody)(e.body,t)),"body"),o=(0,h.take)(n,{accessToken:h.expectString,expiresIn:h.expectInt32,idToken:h.expectString,refreshToken:h.expectString,tokenType:h.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),d5=A(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rc(e,t);let r=(0,h.map)({$metadata:se(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await(0,In.parseJsonBody)(e.body,t)),"body"),o=(0,h.take)(n,{accessToken:h.expectString,expiresIn:h.expectInt32,idToken:h.expectString,issuedTokenType:h.expectString,refreshToken:h.expectString,scope:h._json,tokenType:h.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),u5=A(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rc(e,t);let r=(0,h.map)({$metadata:se(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await(0,In.parseJsonBody)(e.body,t)),"body"),o=(0,h.take)(n,{authorizationEndpoint:h.expectString,clientId:h.expectString,clientIdIssuedAt:h.expectLong,clientSecret:h.expectString,clientSecretExpiresAt:h.expectLong,tokenEndpoint:h.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),p5=A(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rc(e,t);let r=(0,h.map)({$metadata:se(e)}),n=(0,h.expectNonNull)((0,h.expectObject)(await(0,In.parseJsonBody)(e.body,t)),"body"),o=(0,h.take)(n,{deviceCode:h.expectString,expiresIn:h.expectInt32,interval:h.expectInt32,userCode:h.expectString,verificationUri:h.expectString,verificationUriComplete:h.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),Rc=A(async(e,t)=>{let r={...e,body:await(0,In.parseJsonErrorBody)(e.body,t)},n=(0,In.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await m5(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await g5(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await _5(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await v5(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await h5(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await S5(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await C5(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await O5(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await b5(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await P5(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await x5(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await w5(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await y5(r,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await E5(r,t);default:let o=r.body;return f5({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),f5=(0,h.withBaseException)(ge),m5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new gx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),g5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new hx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_AuthorizationPendingExceptionRes"),_5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Ex({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_ExpiredTokenExceptionRes"),v5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Ox({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),h5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new xx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InvalidClientExceptionRes"),y5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Xx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InvalidClientMetadataExceptionRes"),S5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Ix({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InvalidGrantExceptionRes"),E5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new eR({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InvalidRedirectUriExceptionRes"),C5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Fx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),w5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{endpoint:h.expectString,error:h.expectString,error_description:h.expectString,region:h.expectString});Object.assign(r,o);let i=new Kx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InvalidRequestRegionExceptionRes"),O5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Mx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_InvalidScopeExceptionRes"),b5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Ux({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_SlowDownExceptionRes"),P5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Bx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_UnauthorizedClientExceptionRes"),x5=A(async(e,t)=>{let r=(0,h.map)({}),n=e.body,o=(0,h.take)(n,{error:h.expectString,error_description:h.expectString});Object.assign(r,o);let i=new Vx({$metadata:se(e),...r});return(0,h.decorateServiceException)(i,e.body)},"de_UnsupportedGrantTypeExceptionRes"),se=A(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),R5="aws_iam",aR=class extends h.Command.classBuilder().ep(Pc).m(function(t,r,n,o){return[(0,xc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(tR,rR).ser(i5).de(l5).build(){};A(aR,"CreateTokenCommand");var cR=aR,lR=class extends h.Command.classBuilder().ep(Pc).m(function(t,r,n,o){return[(0,xc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(nR,oR).ser(s5).de(d5).build(){};A(lR,"CreateTokenWithIAMCommand");var dR=lR,uR=class extends h.Command.classBuilder().ep(Pc).m(function(t,r,n,o){return[(0,xc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,iR).ser(a5).de(u5).build(){};A(uR,"RegisterClientCommand");var pR=uR,fR=class extends h.Command.classBuilder().ep(Pc).m(function(t,r,n,o){return[(0,xc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(sR,void 0).ser(c5).de(p5).build(){};A(fR,"StartDeviceAuthorizationCommand");var mR=fR,A5={CreateTokenCommand:cR,CreateTokenWithIAMCommand:dR,RegisterClientCommand:pR,StartDeviceAuthorizationCommand:mR},gR=class extends dx{};A(gR,"SSOOIDC");var _R=gR;(0,h.createAggregatedClient)(A5,_R)});var Tn=m(Ac=>{"use strict";l();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.getHomeDir=void 0;var I5=S("os"),T5=S("path"),Uf={},N5=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",F5=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${T5.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=N5();return Uf[o]||(Uf[o]=(0,I5.homedir)()),Uf[o]};Ac.getHomeDir=F5});var jf=m(Ic=>{"use strict";l();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.getSSOTokenFilepath=void 0;var D5=S("crypto"),k5=S("path"),M5=Tn(),L5=e=>{let r=(0,D5.createHash)("sha1").update(e).digest("hex");return(0,k5.join)((0,M5.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ic.getSSOTokenFilepath=L5});var hR=m(Tc=>{"use strict";l();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.getSSOTokenFromFile=void 0;var q5=S("fs"),U5=jf(),{readFile:j5}=q5.promises,H5=async e=>{let t=(0,U5.getSSOTokenFilepath)(e),r=await j5(t,"utf8");return JSON.parse(r)};Tc.getSSOTokenFromFile=H5});var Bf=m(Nc=>{"use strict";l();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.slurpFile=void 0;var B5=S("fs"),{readFile:$5}=B5.promises,Hf={},G5=(e,t)=>((!Hf[e]||t?.ignoreCache)&&(Hf[e]=$5(e,"utf8")),Hf[e]);Nc.slurpFile=G5});var bR=m((Gge,ti)=>{l();var kc=Object.defineProperty,V5=Object.getOwnPropertyDescriptor,W5=Object.getOwnPropertyNames,z5=Object.prototype.hasOwnProperty,Ue=(e,t)=>kc(e,"name",{value:t,configurable:!0}),K5=(e,t)=>{for(var r in t)kc(e,r,{get:t[r],enumerable:!0})},$f=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of W5(t))!z5.call(e,o)&&o!==r&&kc(e,o,{get:()=>t[o],enumerable:!(n=V5(t,o))||n.enumerable});return e},Vf=(e,t,r)=>($f(e,t,"default"),r&&$f(r,t,"default")),J5=e=>$f(kc({},"__esModule",{value:!0}),e),ei={};K5(ei,{CONFIG_PREFIX_SEPARATOR:()=>Nr,DEFAULT_PROFILE:()=>CR,ENV_PROFILE:()=>ER,getProfileName:()=>Y5,loadSharedConfigFiles:()=>OR,loadSsoSessionData:()=>l7,parseKnownFiles:()=>u7});ti.exports=J5(ei);Vf(ei,Tn(),ti.exports);var ER="AWS_PROFILE",CR="default",Y5=Ue(e=>e.profile||process.env[ER]||CR,"getProfileName");Vf(ei,jf(),ti.exports);Vf(ei,hR(),ti.exports);var Fc=Y(),X5=Ue(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Nr);return r===-1?!1:Object.values(Fc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Nr),i=r.substring(0,o)===Fc.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Dc=S("path"),Q5=Tn(),Z5="AWS_CONFIG_FILE",wR=Ue(()=>process.env[Z5]||(0,Dc.join)((0,Q5.getHomeDir)(),".aws","config"),"getConfigFilepath"),e7=Tn(),t7="AWS_SHARED_CREDENTIALS_FILE",r7=Ue(()=>process.env[t7]||(0,Dc.join)((0,e7.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),n7=Tn(),o7=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,i7=["__proto__","profile __proto__"],Gf=Ue(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=o7.exec(s);if(c){let[,d,,u]=c;Object.values(Fc.IniSectionType).includes(d)&&(r=[d,u].join(Nr))}else r=s;if(i7.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Nr):c;t[r][u]=d}}}}return t},"parseIni"),yR=Bf(),SR=Ue(()=>({}),"swallowError"),Nr=".",OR=Ue(async(e={})=>{let{filepath:t=r7(),configFilepath:r=wR()}=e,n=(0,n7.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Dc.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Dc.join)(n,r.slice(2)));let s=await Promise.all([(0,yR.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Gf).then(X5).catch(SR),(0,yR.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Gf).catch(SR)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),s7=Ue(e=>Object.entries(e).filter(([t])=>t.startsWith(Fc.IniSectionType.SSO_SESSION+Nr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Nr)+1)]:n}),{}),"getSsoSessionData"),a7=Bf(),c7=Ue(()=>({}),"swallowError"),l7=Ue(async(e={})=>(0,a7.slurpFile)(e.configFilepath??wR()).then(Gf).then(s7).catch(c7),"loadSsoSessionData"),d7=Ue((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),u7=Ue(async e=>{let t=await OR(e);return d7(t.configFile,t.credentialsFile)},"parseKnownFiles")});var FR=m((Wge,NR)=>{"use strict";l();var p7=Object.create,ni=Object.defineProperty,f7=Object.getOwnPropertyDescriptor,m7=Object.getOwnPropertyNames,g7=Object.getPrototypeOf,_7=Object.prototype.hasOwnProperty,or=(e,t)=>ni(e,"name",{value:t,configurable:!0}),v7=(e,t)=>{for(var r in t)ni(e,r,{get:t[r],enumerable:!0})},RR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m7(t))!_7.call(e,o)&&o!==r&&ni(e,o,{get:()=>t[o],enumerable:!(n=f7(t,o))||n.enumerable});return e},AR=(e,t,r)=>(r=e!=null?p7(g7(e)):{},RR(t||!e||!e.__esModule?ni(r,"default",{value:e,enumerable:!0}):r,e)),h7=e=>RR(ni({},"__esModule",{value:!0}),e),IR={};v7(IR,{fromSso:()=>TR,fromStatic:()=>b7,nodeProvider:()=>P7});NR.exports=h7(IR);var y7=5*60*1e3,Wf="To refresh this SSO session run 'aws sso login' with the corresponding profile.",S7=or(async(e,t={})=>{var r,n,o;let{SSOOIDCClient:i}=await Promise.resolve().then(()=>AR(qf()));return new i(Object.assign({},t.clientConfig??{},{region:e??((r=t.clientConfig)==null?void 0:r.region),logger:((n=t.clientConfig)==null?void 0:n.logger)??((o=t.parentClientConfig)==null?void 0:o.logger)}))},"getSsoOidcClient"),E7=or(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>AR(qf()));return(await S7(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),nt=X(),PR=or(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new nt.TokenProviderError(`Token is expired. ${Wf}`,!1)},"validateTokenExpiry"),Fr=or((e,t,r=!1)=>{if(typeof t>"u")throw new nt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Wf}`,!1)},"validateTokenKey"),ri=bR(),C7=S("fs"),{writeFile:w7}=C7.promises,O7=or((e,t)=>{let r=(0,ri.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return w7(r,n)},"writeSSOTokenToFile"),xR=new Date(0),TR=or((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers - fromSso");let r=await(0,ri.parseKnownFiles)(e),n=(0,ri.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new nt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new nt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,s=(await(0,ri.loadSsoSessionData)(e))[i];if(!s)throw new nt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!s[y])throw new nt.TokenProviderError(`Sso session '${i}' is missing required property '${y}'.`,!1);let c=s.sso_start_url,d=s.sso_region,u;try{u=await(0,ri.getSSOTokenFromFile)(i)}catch{throw new nt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${Wf}`,!1)}Fr("accessToken",u.accessToken),Fr("expiresAt",u.expiresAt);let{accessToken:p,expiresAt:_}=u,v={token:p,expiration:new Date(_)};if(v.expiration.getTime()-Date.now()>y7)return v;if(Date.now()-xR.getTime()<30*1e3)return PR(v),v;Fr("clientId",u.clientId,!0),Fr("clientSecret",u.clientSecret,!0),Fr("refreshToken",u.refreshToken,!0);try{xR.setTime(Date.now());let y=await E7(u,d,e);Fr("accessToken",y.accessToken),Fr("expiresIn",y.expiresIn);let w=new Date(Date.now()+y.expiresIn*1e3);try{await O7(i,{...u,accessToken:y.accessToken,expiresAt:w.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:w}}catch{return PR(v),v}},"fromSso"),b7=or(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new nt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),P7=or((e={})=>(0,nt.memoize)((0,nt.chain)(TR(e),async()=>{throw new nt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Nn=m(Mc=>{"use strict";l();Object.defineProperty(Mc,"__esModule",{value:!0});Mc.getHomeDir=void 0;var x7=S("os"),R7=S("path"),zf={},A7=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",I7=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${R7.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=A7();return zf[o]||(zf[o]=(0,x7.homedir)()),zf[o]};Mc.getHomeDir=I7});var Kf=m(Lc=>{"use strict";l();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getSSOTokenFilepath=void 0;var T7=S("crypto"),N7=S("path"),F7=Nn(),D7=e=>{let r=(0,T7.createHash)("sha1").update(e).digest("hex");return(0,N7.join)((0,F7.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Lc.getSSOTokenFilepath=D7});var DR=m(qc=>{"use strict";l();Object.defineProperty(qc,"__esModule",{value:!0});qc.getSSOTokenFromFile=void 0;var k7=S("fs"),M7=Kf(),{readFile:L7}=k7.promises,q7=async e=>{let t=(0,M7.getSSOTokenFilepath)(e),r=await L7(t,"utf8");return JSON.parse(r)};qc.getSSOTokenFromFile=q7});var Yf=m(Uc=>{"use strict";l();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.slurpFile=void 0;var U7=S("fs"),{readFile:j7}=U7.promises,Jf={},H7=(e,t)=>((!Jf[e]||t?.ignoreCache)&&(Jf[e]=j7(e,"utf8")),Jf[e]);Uc.slurpFile=H7});var HR=m((r_e,ii)=>{l();var Bc=Object.defineProperty,B7=Object.getOwnPropertyDescriptor,$7=Object.getOwnPropertyNames,G7=Object.prototype.hasOwnProperty,je=(e,t)=>Bc(e,"name",{value:t,configurable:!0}),V7=(e,t)=>{for(var r in t)Bc(e,r,{get:t[r],enumerable:!0})},Xf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $7(t))!G7.call(e,o)&&o!==r&&Bc(e,o,{get:()=>t[o],enumerable:!(n=B7(t,o))||n.enumerable});return e},Zf=(e,t,r)=>(Xf(e,t,"default"),r&&Xf(r,t,"default")),W7=e=>Xf(Bc({},"__esModule",{value:!0}),e),oi={};V7(oi,{CONFIG_PREFIX_SEPARATOR:()=>Dr,DEFAULT_PROFILE:()=>qR,ENV_PROFILE:()=>LR,getProfileName:()=>z7,loadSharedConfigFiles:()=>jR,loadSsoSessionData:()=>sJ,parseKnownFiles:()=>cJ});ii.exports=W7(oi);Zf(oi,Nn(),ii.exports);var LR="AWS_PROFILE",qR="default",z7=je(e=>e.profile||process.env[LR]||qR,"getProfileName");Zf(oi,Kf(),ii.exports);Zf(oi,DR(),ii.exports);var jc=Y(),K7=je(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Dr);return r===-1?!1:Object.values(jc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Dr),i=r.substring(0,o)===jc.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Hc=S("path"),J7=Nn(),Y7="AWS_CONFIG_FILE",UR=je(()=>process.env[Y7]||(0,Hc.join)((0,J7.getHomeDir)(),".aws","config"),"getConfigFilepath"),X7=Nn(),Q7="AWS_SHARED_CREDENTIALS_FILE",Z7=je(()=>process.env[Q7]||(0,Hc.join)((0,X7.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),eJ=Nn(),tJ=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,rJ=["__proto__","profile __proto__"],Qf=je(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=tJ.exec(s);if(c){let[,d,,u]=c;Object.values(jc.IniSectionType).includes(d)&&(r=[d,u].join(Dr))}else r=s;if(rJ.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Dr):c;t[r][u]=d}}}}return t},"parseIni"),kR=Yf(),MR=je(()=>({}),"swallowError"),Dr=".",jR=je(async(e={})=>{let{filepath:t=Z7(),configFilepath:r=UR()}=e,n=(0,eJ.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Hc.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Hc.join)(n,r.slice(2)));let s=await Promise.all([(0,kR.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Qf).then(K7).catch(MR),(0,kR.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Qf).catch(MR)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),nJ=je(e=>Object.entries(e).filter(([t])=>t.startsWith(jc.IniSectionType.SSO_SESSION+Dr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Dr)+1)]:n}),{}),"getSsoSessionData"),oJ=Yf(),iJ=je(()=>({}),"swallowError"),sJ=je(async(e={})=>(0,oJ.slurpFile)(e.configFilepath??UR()).then(Qf).then(nJ).catch(iJ),"loadSsoSessionData"),aJ=je((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),cJ=je(async e=>{let t=await jR(e);return aJ(t.configFile,t.credentialsFile)},"parseKnownFiles")});var tm=m((o_e,YR)=>{"use strict";l();var Gc=Object.defineProperty,lJ=Object.getOwnPropertyDescriptor,GR=Object.getOwnPropertyNames,dJ=Object.prototype.hasOwnProperty,Vc=(e,t)=>Gc(e,"name",{value:t,configurable:!0}),uJ=(e,t)=>function(){return e&&(t=(0,e[GR(e)[0]])(e=0)),t},VR=(e,t)=>{for(var r in t)Gc(e,r,{get:t[r],enumerable:!0})},pJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GR(t))!dJ.call(e,o)&&o!==r&&Gc(e,o,{get:()=>t[o],enumerable:!(n=lJ(t,o))||n.enumerable});return e},fJ=e=>pJ(Gc({},"__esModule",{value:!0}),e),WR={};VR(WR,{GetRoleCredentialsCommand:()=>em.GetRoleCredentialsCommand,SSOClient:()=>em.SSOClient});var em,mJ=uJ({"src/loadSso.ts"(){"use strict";em=hP()}}),zR={};VR(zR,{fromSSO:()=>_J,isSsoProfile:()=>KR,validateSsoProfile:()=>JR});YR.exports=fJ(zR);var KR=Vc(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),BR=(st(),N(Vt)),gJ=FR(),ot=X(),$c=HR(),si=!1,$R=Vc(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:a,parentClientConfig:s,profile:c,logger:d})=>{let u,p="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Z=await(0,gJ.fromSso)({profile:c})();u={accessToken:Z.token,expiresAt:new Date(Z.expiration).toISOString()}}catch(Z){throw new ot.CredentialsProviderError(Z.message,{tryNextLink:si,logger:d})}else try{u=await(0,$c.getSSOTokenFromFile)(e)}catch{throw new ot.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${p}`,{tryNextLink:si,logger:d})}if(new Date(u.expiresAt).getTime()-Date.now()<=0)throw new ot.CredentialsProviderError(`The SSO session associated with this profile has expired. ${p}`,{tryNextLink:si,logger:d});let{accessToken:_}=u,{SSOClient:v,GetRoleCredentialsCommand:y}=await Promise.resolve().then(()=>(mJ(),WR)),w=i||new v(Object.assign({},a??{},{logger:a?.logger??s?.logger,region:a?.region??n})),C;try{C=await w.send(new y({accountId:r,roleName:o,accessToken:_}))}catch(Z){throw new ot.CredentialsProviderError(Z,{tryNextLink:si,logger:d})}let{roleCredentials:{accessKeyId:b,secretAccessKey:I,sessionToken:T,expiration:F,credentialScope:W,accountId:me}={}}=C;if(!b||!I||!T||!F)throw new ot.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:si,logger:d});let Ye={accessKeyId:b,secretAccessKey:I,sessionToken:T,expiration:new Date(F),...W&&{credentialScope:W},...me&&{accountId:me}};return t?(0,BR.setCredentialFeature)(Ye,"CREDENTIALS_SSO","s"):(0,BR.setCredentialFeature)(Ye,"CREDENTIALS_SSO_LEGACY","u"),Ye},"resolveSSOCredentials"),JR=Vc((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:i}=e;if(!r||!n||!o||!i)throw new ot.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),_J=Vc((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:a}=e,{ssoClient:s}=e,c=(0,$c.getProfileName)(e);if(!r&&!n&&!o&&!i&&!a){let u=(await(0,$c.parseKnownFiles)(e))[c];if(!u)throw new ot.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!KR(u))throw new ot.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let b=(await(0,$c.loadSsoSessionData)(e))[u.sso_session],I=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(o&&o!==b.sso_region)throw new ot.CredentialsProviderError("Conflicting SSO region"+I,{tryNextLink:!1,logger:e.logger});if(r&&r!==b.sso_start_url)throw new ot.CredentialsProviderError("Conflicting SSO start_url"+I,{tryNextLink:!1,logger:e.logger});u.sso_region=b.sso_region,u.sso_start_url=b.sso_start_url}let{sso_start_url:p,sso_account_id:_,sso_region:v,sso_role_name:y,sso_session:w}=JR(u,e.logger);return $R({ssoStartUrl:p,ssoSession:w,ssoAccountId:_,ssoRegion:v,ssoRoleName:y,ssoClient:s,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new ot.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return $R({ssoStartUrl:r,ssoSession:a,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:s,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});var Fn=m(Wc=>{"use strict";l();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.getHomeDir=void 0;var vJ=S("os"),hJ=S("path"),rm={},yJ=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",SJ=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${hJ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=yJ();return rm[o]||(rm[o]=(0,vJ.homedir)()),rm[o]};Wc.getHomeDir=SJ});var nm=m(zc=>{"use strict";l();Object.defineProperty(zc,"__esModule",{value:!0});zc.getSSOTokenFilepath=void 0;var EJ=S("crypto"),CJ=S("path"),wJ=Fn(),OJ=e=>{let r=(0,EJ.createHash)("sha1").update(e).digest("hex");return(0,CJ.join)((0,wJ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};zc.getSSOTokenFilepath=OJ});var XR=m(Kc=>{"use strict";l();Object.defineProperty(Kc,"__esModule",{value:!0});Kc.getSSOTokenFromFile=void 0;var bJ=S("fs"),PJ=nm(),{readFile:xJ}=bJ.promises,RJ=async e=>{let t=(0,PJ.getSSOTokenFilepath)(e),r=await xJ(t,"utf8");return JSON.parse(r)};Kc.getSSOTokenFromFile=RJ});var im=m(Jc=>{"use strict";l();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.slurpFile=void 0;var AJ=S("fs"),{readFile:IJ}=AJ.promises,om={},TJ=(e,t)=>((!om[e]||t?.ignoreCache)&&(om[e]=IJ(e,"utf8")),om[e]);Jc.slurpFile=TJ});var oA=m((m_e,ci)=>{l();var Qc=Object.defineProperty,NJ=Object.getOwnPropertyDescriptor,FJ=Object.getOwnPropertyNames,DJ=Object.prototype.hasOwnProperty,He=(e,t)=>Qc(e,"name",{value:t,configurable:!0}),kJ=(e,t)=>{for(var r in t)Qc(e,r,{get:t[r],enumerable:!0})},sm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of FJ(t))!DJ.call(e,o)&&o!==r&&Qc(e,o,{get:()=>t[o],enumerable:!(n=NJ(t,o))||n.enumerable});return e},cm=(e,t,r)=>(sm(e,t,"default"),r&&sm(r,t,"default")),MJ=e=>sm(Qc({},"__esModule",{value:!0}),e),ai={};kJ(ai,{CONFIG_PREFIX_SEPARATOR:()=>kr,DEFAULT_PROFILE:()=>tA,ENV_PROFILE:()=>eA,getProfileName:()=>LJ,loadSharedConfigFiles:()=>nA,loadSsoSessionData:()=>YJ,parseKnownFiles:()=>QJ});ci.exports=MJ(ai);cm(ai,Fn(),ci.exports);var eA="AWS_PROFILE",tA="default",LJ=He(e=>e.profile||process.env[eA]||tA,"getProfileName");cm(ai,nm(),ci.exports);cm(ai,XR(),ci.exports);var Yc=Y(),qJ=He(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(kr);return r===-1?!1:Object.values(Yc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(kr),i=r.substring(0,o)===Yc.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Xc=S("path"),UJ=Fn(),jJ="AWS_CONFIG_FILE",rA=He(()=>process.env[jJ]||(0,Xc.join)((0,UJ.getHomeDir)(),".aws","config"),"getConfigFilepath"),HJ=Fn(),BJ="AWS_SHARED_CREDENTIALS_FILE",$J=He(()=>process.env[BJ]||(0,Xc.join)((0,HJ.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),GJ=Fn(),VJ=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,WJ=["__proto__","profile __proto__"],am=He(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=VJ.exec(s);if(c){let[,d,,u]=c;Object.values(Yc.IniSectionType).includes(d)&&(r=[d,u].join(kr))}else r=s;if(WJ.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(kr):c;t[r][u]=d}}}}return t},"parseIni"),QR=im(),ZR=He(()=>({}),"swallowError"),kr=".",nA=He(async(e={})=>{let{filepath:t=$J(),configFilepath:r=rA()}=e,n=(0,GJ.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Xc.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Xc.join)(n,r.slice(2)));let s=await Promise.all([(0,QR.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(am).then(qJ).catch(ZR),(0,QR.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(am).catch(ZR)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),zJ=He(e=>Object.entries(e).filter(([t])=>t.startsWith(Yc.IniSectionType.SSO_SESSION+kr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(kr)+1)]:n}),{}),"getSsoSessionData"),KJ=im(),JJ=He(()=>({}),"swallowError"),YJ=He(async(e={})=>(0,KJ.slurpFile)(e.configFilepath??rA()).then(am).then(zJ).catch(JJ),"loadSsoSessionData"),XJ=He((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),QJ=He(async e=>{let t=await nA(e);return XJ(t.configFile,t.credentialsFile)},"parseKnownFiles")});var lm=m(it=>{"use strict";l();Object.defineProperty(it,"__esModule",{value:!0});it.resolveHttpAuthSchemeConfig=it.resolveStsAuthConfig=it.defaultSTSHttpAuthSchemeProvider=it.defaultSTSHttpAuthSchemeParametersProvider=void 0;var ZJ=(ie(),N(oe)),iA=Qe(),eY=li(),tY=async(e,t,r)=>({operation:(0,iA.getSmithyContext)(t).operation,region:await(0,iA.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});it.defaultSTSHttpAuthSchemeParametersProvider=tY;function rY(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function sA(e){return{schemeId:"smithy.api#noAuth"}}var nY=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(sA(e));break}case"AssumeRoleWithWebIdentity":{t.push(sA(e));break}default:t.push(rY(e))}return t};it.defaultSTSHttpAuthSchemeProvider=nY;var oY=e=>({...e,stsClientCtor:eY.STSClient});it.resolveStsAuthConfig=oY;var iY=e=>{let t=(0,it.resolveStsAuthConfig)(e);return{...(0,ZJ.resolveAwsSdkSigV4Config)(t)}};it.resolveHttpAuthSchemeConfig=iY});var Be=m(Dn=>{"use strict";l();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.commonParams=Dn.resolveClientEndpointParameters=void 0;var sY=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Dn.resolveClientEndpointParameters=sY;Dn.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var aA=m((S_e,aY)=>{aY.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.699.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.699.0","@aws-sdk/core":"3.696.0","@aws-sdk/credential-provider-node":"3.699.0","@aws-sdk/middleware-host-header":"3.696.0","@aws-sdk/middleware-logger":"3.696.0","@aws-sdk/middleware-recursion-detection":"3.696.0","@aws-sdk/middleware-user-agent":"3.696.0","@aws-sdk/region-config-resolver":"3.696.0","@aws-sdk/types":"3.696.0","@aws-sdk/util-endpoints":"3.696.0","@aws-sdk/util-user-agent-browser":"3.696.0","@aws-sdk/util-user-agent-node":"3.696.0","@smithy/config-resolver":"^3.0.12","@smithy/core":"^2.5.3","@smithy/fetch-http-handler":"^4.1.1","@smithy/hash-node":"^3.0.10","@smithy/invalid-dependency":"^3.0.10","@smithy/middleware-content-length":"^3.0.12","@smithy/middleware-endpoint":"^3.2.3","@smithy/middleware-retry":"^3.0.27","@smithy/middleware-serde":"^3.0.10","@smithy/middleware-stack":"^3.0.10","@smithy/node-config-provider":"^3.1.11","@smithy/node-http-handler":"^3.3.1","@smithy/protocol-http":"^4.1.7","@smithy/smithy-client":"^3.4.4","@smithy/types":"^3.7.1","@smithy/url-parser":"^3.0.10","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.27","@smithy/util-defaults-mode-node":"^3.0.27","@smithy/util-endpoints":"^2.1.6","@smithy/util-middleware":"^3.0.10","@smithy/util-retry":"^3.0.10","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var kn=m(Zc=>{"use strict";l();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.getHomeDir=void 0;var cY=S("os"),lY=S("path"),dm={},dY=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",uY=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${lY.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=dY();return dm[o]||(dm[o]=(0,cY.homedir)()),dm[o]};Zc.getHomeDir=uY});var um=m(el=>{"use strict";l();Object.defineProperty(el,"__esModule",{value:!0});el.getSSOTokenFilepath=void 0;var pY=S("crypto"),fY=S("path"),mY=kn(),gY=e=>{let r=(0,pY.createHash)("sha1").update(e).digest("hex");return(0,fY.join)((0,mY.getHomeDir)(),".aws","sso","cache",`${r}.json`)};el.getSSOTokenFilepath=gY});var cA=m(tl=>{"use strict";l();Object.defineProperty(tl,"__esModule",{value:!0});tl.getSSOTokenFromFile=void 0;var _Y=S("fs"),vY=um(),{readFile:hY}=_Y.promises,yY=async e=>{let t=(0,vY.getSSOTokenFilepath)(e),r=await hY(t,"utf8");return JSON.parse(r)};tl.getSSOTokenFromFile=yY});var fm=m(rl=>{"use strict";l();Object.defineProperty(rl,"__esModule",{value:!0});rl.slurpFile=void 0;var SY=S("fs"),{readFile:EY}=SY.promises,pm={},CY=(e,t)=>((!pm[e]||t?.ignoreCache)&&(pm[e]=EY(e,"utf8")),pm[e]);rl.slurpFile=CY});var gA=m((A_e,ui)=>{l();var il=Object.defineProperty,wY=Object.getOwnPropertyDescriptor,OY=Object.getOwnPropertyNames,bY=Object.prototype.hasOwnProperty,$e=(e,t)=>il(e,"name",{value:t,configurable:!0}),PY=(e,t)=>{for(var r in t)il(e,r,{get:t[r],enumerable:!0})},mm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of OY(t))!bY.call(e,o)&&o!==r&&il(e,o,{get:()=>t[o],enumerable:!(n=wY(t,o))||n.enumerable});return e},_m=(e,t,r)=>(mm(e,t,"default"),r&&mm(r,t,"default")),xY=e=>mm(il({},"__esModule",{value:!0}),e),di={};PY(di,{CONFIG_PREFIX_SEPARATOR:()=>Mr,DEFAULT_PROFILE:()=>pA,ENV_PROFILE:()=>uA,getProfileName:()=>RY,loadSharedConfigFiles:()=>mA,loadSsoSessionData:()=>HY,parseKnownFiles:()=>$Y});ui.exports=xY(di);_m(di,kn(),ui.exports);var uA="AWS_PROFILE",pA="default",RY=$e(e=>e.profile||process.env[uA]||pA,"getProfileName");_m(di,um(),ui.exports);_m(di,cA(),ui.exports);var nl=Y(),AY=$e(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Mr);return r===-1?!1:Object.values(nl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Mr),i=r.substring(0,o)===nl.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),ol=S("path"),IY=kn(),TY="AWS_CONFIG_FILE",fA=$e(()=>process.env[TY]||(0,ol.join)((0,IY.getHomeDir)(),".aws","config"),"getConfigFilepath"),NY=kn(),FY="AWS_SHARED_CREDENTIALS_FILE",DY=$e(()=>process.env[FY]||(0,ol.join)((0,NY.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),kY=kn(),MY=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,LY=["__proto__","profile __proto__"],gm=$e(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=MY.exec(s);if(c){let[,d,,u]=c;Object.values(nl.IniSectionType).includes(d)&&(r=[d,u].join(Mr))}else r=s;if(LY.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Mr):c;t[r][u]=d}}}}return t},"parseIni"),lA=fm(),dA=$e(()=>({}),"swallowError"),Mr=".",mA=$e(async(e={})=>{let{filepath:t=DY(),configFilepath:r=fA()}=e,n=(0,kY.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,ol.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,ol.join)(n,r.slice(2)));let s=await Promise.all([(0,lA.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(gm).then(AY).catch(dA),(0,lA.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(gm).catch(dA)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),qY=$e(e=>Object.entries(e).filter(([t])=>t.startsWith(nl.IniSectionType.SSO_SESSION+Mr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Mr)+1)]:n}),{}),"getSsoSessionData"),UY=fm(),jY=$e(()=>({}),"swallowError"),HY=$e(async(e={})=>(0,UY.slurpFile)(e.configFilepath??fA()).then(gm).then(qY).catch(jY),"loadSsoSessionData"),BY=$e((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),$Y=$e(async e=>{let t=await mA(e);return BY(t.configFile,t.credentialsFile)},"parseKnownFiles")});var yA=m((T_e,hA)=>{l();var sl=Object.defineProperty,GY=Object.getOwnPropertyDescriptor,VY=Object.getOwnPropertyNames,WY=Object.prototype.hasOwnProperty,Mn=(e,t)=>sl(e,"name",{value:t,configurable:!0}),zY=(e,t)=>{for(var r in t)sl(e,r,{get:t[r],enumerable:!0})},KY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VY(t))!WY.call(e,o)&&o!==r&&sl(e,o,{get:()=>t[o],enumerable:!(n=GY(t,o))||n.enumerable});return e},JY=e=>KY(sl({},"__esModule",{value:!0}),e),vA={};zY(vA,{loadConfig:()=>eX});hA.exports=JY(vA);var pi=X();function vm(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Mn(vm,"getSelectorName");var YY=Mn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new pi.CredentialsProviderError(r.message||`Not found in ENV: ${vm(e.toString())}`,{logger:t})}},"fromEnv"),_A=gA(),XY=Mn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,_A.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,_A.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new pi.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${vm(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),QY=Mn(e=>typeof e=="function","isFunction"),ZY=Mn(e=>QY(e)?async()=>await e():(0,pi.fromStatic)(e),"fromStatic"),eX=Mn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,pi.memoize)((0,pi.chain)(YY(e),XY(t,n),ZY(r))),"loadConfig")});var HA=m(al=>{"use strict";l();Object.defineProperty(al,"__esModule",{value:!0});al.ruleSet=void 0;var TA="required",D="type",M="fn",L="argv",sr="ref",SA=!1,hm=!0,ir="booleanEquals",de="stringEquals",NA="sigv4",FA="sts",DA="us-east-1",$="endpoint",EA="https://sts.{Region}.{PartitionResult#dnsSuffix}",ut="tree",Ln="error",Sm="getAttr",CA={[TA]:!1,[D]:"String"},ym={[TA]:!0,default:!1,[D]:"Boolean"},kA={[sr]:"Endpoint"},wA={[M]:"isSet",[L]:[{[sr]:"Region"}]},ue={[sr]:"Region"},OA={[M]:"aws.partition",[L]:[ue],assign:"PartitionResult"},MA={[sr]:"UseFIPS"},LA={[sr]:"UseDualStack"},_e={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:NA,signingName:FA,signingRegion:DA}]},headers:{}},be={},bA={conditions:[{[M]:de,[L]:[ue,"aws-global"]}],[$]:_e,[D]:$},qA={[M]:ir,[L]:[MA,!0]},UA={[M]:ir,[L]:[LA,!0]},PA={[M]:Sm,[L]:[{[sr]:"PartitionResult"},"supportsFIPS"]},jA={[sr]:"PartitionResult"},xA={[M]:ir,[L]:[!0,{[M]:Sm,[L]:[jA,"supportsDualStack"]}]},RA=[{[M]:"isSet",[L]:[kA]}],AA=[qA],IA=[UA],tX={version:"1.0",parameters:{Region:CA,UseDualStack:ym,UseFIPS:ym,Endpoint:CA,UseGlobalEndpoint:ym},rules:[{conditions:[{[M]:ir,[L]:[{[sr]:"UseGlobalEndpoint"},hm]},{[M]:"not",[L]:RA},wA,OA,{[M]:ir,[L]:[MA,SA]},{[M]:ir,[L]:[LA,SA]}],rules:[{conditions:[{[M]:de,[L]:[ue,"ap-northeast-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"ap-south-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"ap-southeast-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"ap-southeast-2"]}],endpoint:_e,[D]:$},bA,{conditions:[{[M]:de,[L]:[ue,"ca-central-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"eu-central-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"eu-north-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"eu-west-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"eu-west-2"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"eu-west-3"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"sa-east-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,DA]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"us-east-2"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"us-west-1"]}],endpoint:_e,[D]:$},{conditions:[{[M]:de,[L]:[ue,"us-west-2"]}],endpoint:_e,[D]:$},{endpoint:{url:EA,properties:{authSchemes:[{name:NA,signingName:FA,signingRegion:"{Region}"}]},headers:be},[D]:$}],[D]:ut},{conditions:RA,rules:[{conditions:AA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[D]:Ln},{conditions:IA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[D]:Ln},{endpoint:{url:kA,properties:be,headers:be},[D]:$}],[D]:ut},{conditions:[wA],rules:[{conditions:[OA],rules:[{conditions:[qA,UA],rules:[{conditions:[{[M]:ir,[L]:[hm,PA]},xA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:be,headers:be},[D]:$}],[D]:ut},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[D]:Ln}],[D]:ut},{conditions:AA,rules:[{conditions:[{[M]:ir,[L]:[PA,hm]}],rules:[{conditions:[{[M]:de,[L]:[{[M]:Sm,[L]:[jA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:be,headers:be},[D]:$},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:be,headers:be},[D]:$}],[D]:ut},{error:"FIPS is enabled but this partition does not support FIPS",[D]:Ln}],[D]:ut},{conditions:IA,rules:[{conditions:[xA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:be,headers:be},[D]:$}],[D]:ut},{error:"DualStack is enabled but this partition does not support DualStack",[D]:Ln}],[D]:ut},bA,{endpoint:{url:EA,properties:be,headers:be},[D]:$}],[D]:ut}],[D]:ut},{error:"Invalid Configuration: Missing Region",[D]:Ln}]};al.ruleSet=tX});var BA=m(cl=>{"use strict";l();Object.defineProperty(cl,"__esModule",{value:!0});cl.defaultEndpointResolver=void 0;var rX=Kr(),Em=Wr(),nX=HA(),oX=new Em.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),iX=(e,t={})=>oX.get(e,()=>(0,Em.resolveEndpoint)(nX.ruleSet,{endpointParams:e,logger:t.logger}));cl.defaultEndpointResolver=iX;Em.customEndpointFunctions.aws=rX.awsEndpointFunctions});var VA=m(ll=>{"use strict";l();Object.defineProperty(ll,"__esModule",{value:!0});ll.getRuntimeConfig=void 0;var sX=(ie(),N(oe)),aX=(Oe(),N(Ze)),cX=B(),lX=Or(),$A=yt(),GA=Ce(),dX=lm(),uX=BA(),pX=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??$A.fromBase64,base64Encoder:e?.base64Encoder??$A.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uX.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dX.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new sX.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aX.NoAuthSigner}],logger:e?.logger??new cX.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??lX.parseUrl,utf8Decoder:e?.utf8Decoder??GA.fromUtf8,utf8Encoder:e?.utf8Encoder??GA.toUtf8});ll.getRuntimeConfig=pX});var XA=m(ul=>{"use strict";l();Object.defineProperty(ul,"__esModule",{value:!0});ul.getRuntimeConfig=void 0;var fX=(er(),N(Zt)),mX=fX.__importDefault(aA()),WA=(ie(),N(oe)),zA=wc(),KA=Do(),dl=lt(),gX=(Oe(),N(Ze)),_X=ko(),JA=Ot(),qn=yA(),YA=gr(),vX=Uo(),hX=sn(),yX=VA(),SX=B(),EX=Vo(),CX=B(),wX=e=>{(0,CX.emitWarningIfUnsupportedVersion)(process.version);let t=(0,EX.resolveDefaultsModeConfig)(e),r=()=>t().then(SX.loadConfigsForDefaultMode),n=(0,yX.getRuntimeConfig)(e);return(0,WA.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??vX.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??zA.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,KA.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:mX.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,zA.defaultProvider)(i?.__config||{})()),signer:new WA.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new gX.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,qn.loadConfig)(JA.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,qn.loadConfig)(dl.NODE_REGION_CONFIG_OPTIONS,dl.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:YA.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,qn.loadConfig)({...JA.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hX.DEFAULT_RETRY_MODE}),sha256:e?.sha256??_X.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??YA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,qn.loadConfig)(dl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,qn.loadConfig)(dl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS),userAgentAppId:e?.userAgentAppId??(0,qn.loadConfig)(KA.NODE_APP_ID_CONFIG_OPTIONS)}};ul.getRuntimeConfig=wX});var QA=m(Un=>{"use strict";l();Object.defineProperty(Un,"__esModule",{value:!0});Un.resolveHttpAuthRuntimeConfig=Un.getHttpAuthExtensionConfiguration=void 0;var OX=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};Un.getHttpAuthExtensionConfiguration=OX;var bX=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Un.resolveHttpAuthRuntimeConfig=bX});var nI=m(fl=>{"use strict";l();Object.defineProperty(fl,"__esModule",{value:!0});fl.resolveRuntimeExtensions=void 0;var ZA=Wo(),eI=J(),tI=B(),rI=QA(),pl=e=>e,PX=(e,t)=>{let r={...pl((0,ZA.getAwsRegionExtensionConfiguration)(e)),...pl((0,tI.getDefaultExtensionConfiguration)(e)),...pl((0,eI.getHttpHandlerExtensionConfiguration)(e)),...pl((0,rI.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,ZA.resolveAwsRegionExtensionConfiguration)(r),...(0,tI.resolveDefaultRuntimeConfig)(r),...(0,eI.resolveHttpHandlerRuntimeConfig)(r),...(0,rI.resolveHttpAuthRuntimeConfig)(r)}};fl.resolveRuntimeExtensions=PX});var li=m(jn=>{"use strict";l();Object.defineProperty(jn,"__esModule",{value:!0});jn.STSClient=jn.__Client=void 0;var oI=no(),xX=oo(),RX=io(),iI=en(),AX=lt(),Cm=(Oe(),N(Ze)),IX=yo(),TX=nn(),sI=Ot(),cI=B();Object.defineProperty(jn,"__Client",{enumerable:!0,get:function(){return cI.Client}});var aI=lm(),NX=Be(),FX=XA(),DX=nI(),wm=class extends cI.Client{constructor(...[t]){let r=(0,FX.getRuntimeConfig)(t||{}),n=(0,NX.resolveClientEndpointParameters)(r),o=(0,iI.resolveUserAgentConfig)(n),i=(0,sI.resolveRetryConfig)(o),a=(0,AX.resolveRegionConfig)(i),s=(0,oI.resolveHostHeaderConfig)(a),c=(0,TX.resolveEndpointConfig)(s),d=(0,aI.resolveHttpAuthSchemeConfig)(c),u=(0,DX.resolveRuntimeExtensions)(d,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,iI.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,sI.getRetryPlugin)(this.config)),this.middlewareStack.use((0,IX.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,oI.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,xX.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,RX.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Cm.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:aI.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new Cm.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use((0,Cm.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};jn.STSClient=wm});var sg=m((nve,ig)=>{"use strict";l();var ml=Object.defineProperty,kX=Object.getOwnPropertyDescriptor,MX=Object.getOwnPropertyNames,LX=Object.prototype.hasOwnProperty,E=(e,t)=>ml(e,"name",{value:t,configurable:!0}),qX=(e,t)=>{for(var r in t)ml(e,r,{get:t[r],enumerable:!0})},Zm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MX(t))!LX.call(e,o)&&o!==r&&ml(e,o,{get:()=>t[o],enumerable:!(n=kX(t,o))||n.enumerable});return e},UX=(e,t,r)=>(Zm(e,t,"default"),r&&Zm(r,t,"default")),jX=e=>Zm(ml({},"__esModule",{value:!0}),e),tg={};qX(tg,{AssumeRoleCommand:()=>ng,AssumeRoleResponseFilterSensitiveLog:()=>LI,AssumeRoleWithSAMLCommand:()=>JI,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>qI,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>UI,AssumeRoleWithWebIdentityCommand:()=>og,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>jI,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>HI,AssumeRootCommand:()=>QI,AssumeRootResponseFilterSensitiveLog:()=>BI,ClientInputEndpointParameters:()=>fZ.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>Lr,DecodeAuthorizationMessageCommand:()=>eT,ExpiredTokenException:()=>gI,GetAccessKeyInfoCommand:()=>rT,GetCallerIdentityCommand:()=>oT,GetFederationTokenCommand:()=>sT,GetFederationTokenResponseFilterSensitiveLog:()=>$I,GetSessionTokenCommand:()=>cT,GetSessionTokenResponseFilterSensitiveLog:()=>GI,IDPCommunicationErrorException:()=>FI,IDPRejectedClaimException:()=>xI,InvalidAuthorizationMessageException:()=>MI,InvalidIdentityTokenException:()=>II,MalformedPolicyDocumentException:()=>hI,PackedPolicyTooLargeException:()=>EI,RegionDisabledException:()=>OI,STS:()=>dT,STSServiceException:()=>pt,decorateDefaultCredentialProvider:()=>_Z,getDefaultRoleAssumer:()=>_T,getDefaultRoleAssumerWithWebIdentity:()=>vT});ig.exports=jX(tg);UX(tg,li(),ig.exports);var Tt=nn(),Nt=mr(),HX=Be(),R=B(),uI=class pI extends R.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,pI.prototype)}};E(uI,"STSServiceException");var pt=uI,fI=class mI extends pt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,mI.prototype)}};E(fI,"ExpiredTokenException");var gI=fI,_I=class vI extends pt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,vI.prototype)}};E(_I,"MalformedPolicyDocumentException");var hI=_I,yI=class SI extends pt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,SI.prototype)}};E(yI,"PackedPolicyTooLargeException");var EI=yI,CI=class wI extends pt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,wI.prototype)}};E(CI,"RegionDisabledException");var OI=CI,bI=class PI extends pt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,PI.prototype)}};E(bI,"IDPRejectedClaimException");var xI=bI,RI=class AI extends pt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,AI.prototype)}};E(RI,"InvalidIdentityTokenException");var II=RI,TI=class NI extends pt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,NI.prototype)}};E(TI,"IDPCommunicationErrorException");var FI=TI,DI=class kI extends pt{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,kI.prototype)}};E(DI,"InvalidAuthorizationMessageException");var MI=DI,Lr=E(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:R.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),LI=E(e=>({...e,...e.Credentials&&{Credentials:Lr(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),qI=E(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:R.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),UI=E(e=>({...e,...e.Credentials&&{Credentials:Lr(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),jI=E(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:R.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),HI=E(e=>({...e,...e.Credentials&&{Credentials:Lr(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),BI=E(e=>({...e,...e.Credentials&&{Credentials:Lr(e.Credentials)}}),"AssumeRootResponseFilterSensitiveLog"),$I=E(e=>({...e,...e.Credentials&&{Credentials:Lr(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),GI=E(e=>({...e,...e.Credentials&&{Credentials:Lr(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),ft=(ie(),N(oe)),BX=J(),$X=E(async(e,t)=>{let r=kt,n;return n=Ut({...gQ(e,t),[Lt]:zQ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),GX=E(async(e,t)=>{let r=kt,n;return n=Ut({..._Q(e,t),[Lt]:KQ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),VX=E(async(e,t)=>{let r=kt,n;return n=Ut({...vQ(e,t),[Lt]:JQ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),WX=E(async(e,t)=>{let r=kt,n;return n=Ut({...hQ(e,t),[Lt]:YQ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_AssumeRootCommand"),zX=E(async(e,t)=>{let r=kt,n;return n=Ut({...yQ(e,t),[Lt]:XQ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),KX=E(async(e,t)=>{let r=kt,n;return n=Ut({...SQ(e,t),[Lt]:QQ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),JX=E(async(e,t)=>{let r=kt,n;return n=Ut({...EQ(e,t),[Lt]:ZQ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),YX=E(async(e,t)=>{let r=kt,n;return n=Ut({...CQ(e,t),[Lt]:eZ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),XX=E(async(e,t)=>{let r=kt,n;return n=Ut({...wQ(e,t),[Lt]:tZ,[qt]:Mt}),Dt(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),QX=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=RQ(r.AssumeRoleResult,t),{$metadata:pe(e),...n}},"de_AssumeRoleCommand"),ZX=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=AQ(r.AssumeRoleWithSAMLResult,t),{$metadata:pe(e),...n}},"de_AssumeRoleWithSAMLCommand"),eQ=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=IQ(r.AssumeRoleWithWebIdentityResult,t),{$metadata:pe(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),tQ=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=TQ(r.AssumeRootResult,t),{$metadata:pe(e),...n}},"de_AssumeRootCommand"),rQ=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=NQ(r.DecodeAuthorizationMessageResult,t),{$metadata:pe(e),...n}},"de_DecodeAuthorizationMessageCommand"),nQ=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=kQ(r.GetAccessKeyInfoResult,t),{$metadata:pe(e),...n}},"de_GetAccessKeyInfoCommand"),oQ=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=MQ(r.GetCallerIdentityResult,t),{$metadata:pe(e),...n}},"de_GetCallerIdentityCommand"),iQ=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=LQ(r.GetFederationTokenResult,t),{$metadata:pe(e),...n}},"de_GetFederationTokenCommand"),sQ=E(async(e,t)=>{if(e.statusCode>=300)return Ft(e,t);let r=await(0,ft.parseXmlBody)(e.body,t),n={};return n=qQ(r.GetSessionTokenResult,t),{$metadata:pe(e),...n}},"de_GetSessionTokenCommand"),Ft=E(async(e,t)=>{let r={...e,body:await(0,ft.parseXmlErrorBody)(e.body,t)},n=rZ(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await aQ(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await pQ(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await fQ(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await mQ(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await lQ(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await uQ(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await cQ(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await dQ(r,t);default:let o=r.body;return WQ({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),aQ=E(async(e,t)=>{let r=e.body,n=FQ(r.Error,t),o=new gI({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),cQ=E(async(e,t)=>{let r=e.body,n=UQ(r.Error,t),o=new FI({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),lQ=E(async(e,t)=>{let r=e.body,n=jQ(r.Error,t),o=new xI({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),dQ=E(async(e,t)=>{let r=e.body,n=HQ(r.Error,t),o=new MI({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),uQ=E(async(e,t)=>{let r=e.body,n=BQ(r.Error,t),o=new II({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),pQ=E(async(e,t)=>{let r=e.body,n=$Q(r.Error,t),o=new hI({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),fQ=E(async(e,t)=>{let r=e.body,n=GQ(r.Error,t),o=new EI({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),mQ=E(async(e,t)=>{let r=e.body,n=VQ(r.Error,t),o=new OI({$metadata:pe(e),...n});return(0,R.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),gQ=E((e,t)=>{var r,n,o,i;let a={};if(e[It]!=null&&(a[It]=e[It]),e[Gn]!=null&&(a[Gn]=e[Gn]),e[Ve]!=null){let s=gl(e[Ve],t);((r=e[Ve])==null?void 0:r.length)===0&&(a.PolicyArns=[]),Object.entries(s).forEach(([c,d])=>{let u=`PolicyArns.${c}`;a[u]=d})}if(e[Ge]!=null&&(a[Ge]=e[Ge]),e[ce]!=null&&(a[ce]=e[ce]),e[Wn]!=null){let s=WI(e[Wn],t);((n=e[Wn])==null?void 0:n.length)===0&&(a.Tags=[]),Object.entries(s).forEach(([c,d])=>{let u=`Tags.${c}`;a[u]=d})}if(e[Km]!=null){let s=xQ(e[Km],t);((o=e[Km])==null?void 0:o.length)===0&&(a.TransitiveTagKeys=[]),Object.entries(s).forEach(([c,d])=>{let u=`TransitiveTagKeys.${c}`;a[u]=d})}if(e[Rm]!=null&&(a[Rm]=e[Rm]),e[Vn]!=null&&(a[Vn]=e[Vn]),e[zn]!=null&&(a[zn]=e[zn]),e[he]!=null&&(a[he]=e[he]),e[qm]!=null){let s=bQ(e[qm],t);((i=e[qm])==null?void 0:i.length)===0&&(a.ProvidedContexts=[]),Object.entries(s).forEach(([c,d])=>{let u=`ProvidedContexts.${c}`;a[u]=d})}return a},"se_AssumeRoleRequest"),_Q=E((e,t)=>{var r;let n={};if(e[It]!=null&&(n[It]=e[It]),e[Mm]!=null&&(n[Mm]=e[Mm]),e[$m]!=null&&(n[$m]=e[$m]),e[Ve]!=null){let o=gl(e[Ve],t);((r=e[Ve])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,a])=>{let s=`PolicyArns.${i}`;n[s]=a})}return e[Ge]!=null&&(n[Ge]=e[Ge]),e[ce]!=null&&(n[ce]=e[ce]),n},"se_AssumeRoleWithSAMLRequest"),vQ=E((e,t)=>{var r;let n={};if(e[It]!=null&&(n[It]=e[It]),e[Gn]!=null&&(n[Gn]=e[Gn]),e[Xm]!=null&&(n[Xm]=e[Xm]),e[Um]!=null&&(n[Um]=e[Um]),e[Ve]!=null){let o=gl(e[Ve],t);((r=e[Ve])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,a])=>{let s=`PolicyArns.${i}`;n[s]=a})}return e[Ge]!=null&&(n[Ge]=e[Ge]),e[ce]!=null&&(n[ce]=e[ce]),n},"se_AssumeRoleWithWebIdentityRequest"),hQ=E((e,t)=>{let r={};if(e[zm]!=null&&(r[zm]=e[zm]),e[lI]!=null){let n=VI(e[lI],t);Object.entries(n).forEach(([o,i])=>{let a=`TaskPolicyArn.${o}`;r[a]=i})}return e[ce]!=null&&(r[ce]=e[ce]),r},"se_AssumeRootRequest"),yQ=E((e,t)=>{let r={};return e[Am]!=null&&(r[Am]=e[Am]),r},"se_DecodeAuthorizationMessageRequest"),SQ=E((e,t)=>{let r={};return e[Hn]!=null&&(r[Hn]=e[Hn]),r},"se_GetAccessKeyInfoRequest"),EQ=E((e,t)=>({}),"se_GetCallerIdentityRequest"),CQ=E((e,t)=>{var r,n;let o={};if(e[Dm]!=null&&(o[Dm]=e[Dm]),e[Ge]!=null&&(o[Ge]=e[Ge]),e[Ve]!=null){let i=gl(e[Ve],t);((r=e[Ve])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([a,s])=>{let c=`PolicyArns.${a}`;o[c]=s})}if(e[ce]!=null&&(o[ce]=e[ce]),e[Wn]!=null){let i=WI(e[Wn],t);((n=e[Wn])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([a,s])=>{let c=`Tags.${a}`;o[c]=s})}return o},"se_GetFederationTokenRequest"),wQ=E((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=e[ce]),e[Vn]!=null&&(r[Vn]=e[Vn]),e[zn]!=null&&(r[zn]=e[zn]),r},"se_GetSessionTokenRequest"),gl=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=VI(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},"se_policyDescriptorListType"),VI=E((e,t)=>{let r={};return e[Qm]!=null&&(r[Qm]=e[Qm]),r},"se_PolicyDescriptorType"),OQ=E((e,t)=>{let r={};return e[Lm]!=null&&(r[Lm]=e[Lm]),e[bm]!=null&&(r[bm]=e[bm]),r},"se_ProvidedContext"),bQ=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=OQ(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},"se_ProvidedContextsListType"),PQ=E((e,t)=>{let r={};return e[Fm]!=null&&(r[Fm]=e[Fm]),e[Ym]!=null&&(r[Ym]=e[Ym]),r},"se_Tag"),xQ=E((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),WI=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=PQ(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},"se_tagListType"),rg=E((e,t)=>{let r={};return e[Om]!=null&&(r[Om]=(0,R.expectString)(e[Om])),e[At]!=null&&(r[At]=(0,R.expectString)(e[At])),r},"de_AssumedRoleUser"),RQ=E((e,t)=>{let r={};return e[ae]!=null&&(r[ae]=Kn(e[ae],t)),e[Rt]!=null&&(r[Rt]=rg(e[Rt],t)),e[We]!=null&&(r[We]=(0,R.strictParseInt32)(e[We])),e[he]!=null&&(r[he]=(0,R.expectString)(e[he])),r},"de_AssumeRoleResponse"),AQ=E((e,t)=>{let r={};return e[ae]!=null&&(r[ae]=Kn(e[ae],t)),e[Rt]!=null&&(r[Rt]=rg(e[Rt],t)),e[We]!=null&&(r[We]=(0,R.strictParseInt32)(e[We])),e[Hm]!=null&&(r[Hm]=(0,R.expectString)(e[Hm])),e[Vm]!=null&&(r[Vm]=(0,R.expectString)(e[Vm])),e[Nm]!=null&&(r[Nm]=(0,R.expectString)(e[Nm])),e[$n]!=null&&(r[$n]=(0,R.expectString)(e[$n])),e[km]!=null&&(r[km]=(0,R.expectString)(e[km])),e[he]!=null&&(r[he]=(0,R.expectString)(e[he])),r},"de_AssumeRoleWithSAMLResponse"),IQ=E((e,t)=>{let r={};return e[ae]!=null&&(r[ae]=Kn(e[ae],t)),e[Gm]!=null&&(r[Gm]=(0,R.expectString)(e[Gm])),e[Rt]!=null&&(r[Rt]=rg(e[Rt],t)),e[We]!=null&&(r[We]=(0,R.strictParseInt32)(e[We])),e[jm]!=null&&(r[jm]=(0,R.expectString)(e[jm])),e[$n]!=null&&(r[$n]=(0,R.expectString)(e[$n])),e[he]!=null&&(r[he]=(0,R.expectString)(e[he])),r},"de_AssumeRoleWithWebIdentityResponse"),TQ=E((e,t)=>{let r={};return e[ae]!=null&&(r[ae]=Kn(e[ae],t)),e[he]!=null&&(r[he]=(0,R.expectString)(e[he])),r},"de_AssumeRootResponse"),Kn=E((e,t)=>{let r={};return e[Hn]!=null&&(r[Hn]=(0,R.expectString)(e[Hn])),e[Bm]!=null&&(r[Bm]=(0,R.expectString)(e[Bm])),e[Wm]!=null&&(r[Wm]=(0,R.expectString)(e[Wm])),e[xm]!=null&&(r[xm]=(0,R.expectNonNull)((0,R.parseRfc3339DateTimeWithOffset)(e[xm]))),r},"de_Credentials"),NQ=E((e,t)=>{let r={};return e[Pm]!=null&&(r[Pm]=(0,R.expectString)(e[Pm])),r},"de_DecodeAuthorizationMessageResponse"),FQ=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_ExpiredTokenException"),DQ=E((e,t)=>{let r={};return e[Tm]!=null&&(r[Tm]=(0,R.expectString)(e[Tm])),e[At]!=null&&(r[At]=(0,R.expectString)(e[At])),r},"de_FederatedUser"),kQ=E((e,t)=>{let r={};return e[Bn]!=null&&(r[Bn]=(0,R.expectString)(e[Bn])),r},"de_GetAccessKeyInfoResponse"),MQ=E((e,t)=>{let r={};return e[Jm]!=null&&(r[Jm]=(0,R.expectString)(e[Jm])),e[Bn]!=null&&(r[Bn]=(0,R.expectString)(e[Bn])),e[At]!=null&&(r[At]=(0,R.expectString)(e[At])),r},"de_GetCallerIdentityResponse"),LQ=E((e,t)=>{let r={};return e[ae]!=null&&(r[ae]=Kn(e[ae],t)),e[Im]!=null&&(r[Im]=DQ(e[Im],t)),e[We]!=null&&(r[We]=(0,R.strictParseInt32)(e[We])),r},"de_GetFederationTokenResponse"),qQ=E((e,t)=>{let r={};return e[ae]!=null&&(r[ae]=Kn(e[ae],t)),r},"de_GetSessionTokenResponse"),UQ=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_IDPCommunicationErrorException"),jQ=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_IDPRejectedClaimException"),HQ=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_InvalidAuthorizationMessageException"),BQ=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_InvalidIdentityTokenException"),$Q=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_MalformedPolicyDocumentException"),GQ=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_PackedPolicyTooLargeException"),VQ=E((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,R.expectString)(e[G])),r},"de_RegionDisabledException"),pe=E(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),WQ=(0,R.withBaseException)(pt),Dt=E(async(e,t,r,n,o)=>{let{hostname:i,protocol:a="https",port:s,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:s,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new BX.HttpRequest(d)},"buildHttpRpcRequest"),kt={"content-type":"application/x-www-form-urlencoded"},Mt="2011-06-15",Lt="Action",Hn="AccessKeyId",zQ="AssumeRole",Om="AssumedRoleId",Rt="AssumedRoleUser",KQ="AssumeRoleWithSAML",JQ="AssumeRoleWithWebIdentity",YQ="AssumeRoot",Bn="Account",At="Arn",$n="Audience",ae="Credentials",bm="ContextAssertion",XQ="DecodeAuthorizationMessage",Pm="DecodedMessage",ce="DurationSeconds",xm="Expiration",Rm="ExternalId",Am="EncodedMessage",Im="FederatedUser",Tm="FederatedUserId",QQ="GetAccessKeyInfo",ZQ="GetCallerIdentity",eZ="GetFederationToken",tZ="GetSessionToken",Nm="Issuer",Fm="Key",Dm="Name",km="NameQualifier",Ge="Policy",Ve="PolicyArns",Mm="PrincipalArn",Lm="ProviderArn",qm="ProvidedContexts",Um="ProviderId",We="PackedPolicySize",jm="Provider",It="RoleArn",Gn="RoleSessionName",Hm="Subject",Bm="SecretAccessKey",$m="SAMLAssertion",Gm="SubjectFromWebIdentityToken",he="SourceIdentity",Vn="SerialNumber",Vm="SubjectType",Wm="SessionToken",Wn="Tags",zn="TokenCode",zm="TargetPrincipal",lI="TaskPolicyArn",Km="TransitiveTagKeys",Jm="UserId",qt="Version",Ym="Value",Xm="WebIdentityToken",Qm="arn",G="message",Ut=E(e=>Object.entries(e).map(([t,r])=>(0,R.extendedEncodeURIComponent)(t)+"="+(0,R.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),rZ=E((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),zI=class extends R.Command.classBuilder().ep(HX.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,LI).ser($X).de(QX).build(){};E(zI,"AssumeRoleCommand");var ng=zI,nZ=Be(),KI=class extends R.Command.classBuilder().ep(nZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(qI,UI).ser(GX).de(ZX).build(){};E(KI,"AssumeRoleWithSAMLCommand");var JI=KI,oZ=Be(),YI=class extends R.Command.classBuilder().ep(oZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(jI,HI).ser(VX).de(eQ).build(){};E(YI,"AssumeRoleWithWebIdentityCommand");var og=YI,iZ=Be(),XI=class extends R.Command.classBuilder().ep(iZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoot",{}).n("STSClient","AssumeRootCommand").f(void 0,BI).ser(WX).de(tQ).build(){};E(XI,"AssumeRootCommand");var QI=XI,sZ=Be(),ZI=class extends R.Command.classBuilder().ep(sZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(zX).de(rQ).build(){};E(ZI,"DecodeAuthorizationMessageCommand");var eT=ZI,aZ=Be(),tT=class extends R.Command.classBuilder().ep(aZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(KX).de(nQ).build(){};E(tT,"GetAccessKeyInfoCommand");var rT=tT,cZ=Be(),nT=class extends R.Command.classBuilder().ep(cZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(JX).de(oQ).build(){};E(nT,"GetCallerIdentityCommand");var oT=nT,lZ=Be(),iT=class extends R.Command.classBuilder().ep(lZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,$I).ser(YX).de(iQ).build(){};E(iT,"GetFederationTokenCommand");var sT=iT,dZ=Be(),aT=class extends R.Command.classBuilder().ep(dZ.commonParams).m(function(t,r,n,o){return[(0,Nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Tt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,GI).ser(XX).de(sQ).build(){};E(aT,"GetSessionTokenCommand");var cT=aT,uZ=li(),pZ={AssumeRoleCommand:ng,AssumeRoleWithSAMLCommand:JI,AssumeRoleWithWebIdentityCommand:og,AssumeRootCommand:QI,DecodeAuthorizationMessageCommand:eT,GetAccessKeyInfoCommand:rT,GetCallerIdentityCommand:oT,GetFederationTokenCommand:sT,GetSessionTokenCommand:cT},lT=class extends uZ.STSClient{};E(lT,"STS");var dT=lT;(0,R.createAggregatedClient)(pZ,dT);var fZ=Be(),eg=(st(),N(Vt)),dI="us-east-1",uT=E(e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},"getAccountIdFromAssumedRoleUser"),pT=E(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${dI} (STS default)`),o??i??dI},"resolveRegion"),mZ=E((e,t)=>{let r,n;return async(o,i)=>{var a,s,c;if(n=o,!r){let{logger:v=(a=e?.parentClientConfig)==null?void 0:a.logger,region:y,requestHandler:w=(s=e?.parentClientConfig)==null?void 0:s.requestHandler,credentialProviderLogger:C}=e,b=await pT(y,(c=e?.parentClientConfig)==null?void 0:c.region,C),I=!fT(w);r=new t({credentialDefaultProvider:()=>async()=>n,region:b,requestHandler:I?w:void 0,logger:v})}let{Credentials:d,AssumedRoleUser:u}=await r.send(new ng(i));if(!d||!d.AccessKeyId||!d.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let p=uT(u),_={accessKeyId:d.AccessKeyId,secretAccessKey:d.SecretAccessKey,sessionToken:d.SessionToken,expiration:d.Expiration,...d.CredentialScope&&{credentialScope:d.CredentialScope},...p&&{accountId:p}};return(0,eg.setCredentialFeature)(_,"CREDENTIALS_STS_ASSUME_ROLE","i"),_}},"getDefaultRoleAssumer"),gZ=E((e,t)=>{let r;return async n=>{var o,i,a;if(!r){let{logger:p=(o=e?.parentClientConfig)==null?void 0:o.logger,region:_,requestHandler:v=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:y}=e,w=await pT(_,(a=e?.parentClientConfig)==null?void 0:a.region,y),C=!fT(v);r=new t({region:w,requestHandler:C?v:void 0,logger:p})}let{Credentials:s,AssumedRoleUser:c}=await r.send(new og(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let d=uT(c),u={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...d&&{accountId:d}};return d&&(0,eg.setCredentialFeature)(u,"RESOLVED_ACCOUNT_ID","T"),(0,eg.setCredentialFeature)(u,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),u}},"getDefaultRoleAssumerWithWebIdentity"),fT=E(e=>{var t;return((t=e?.metadata)==null?void 0:t.handlerProtocol)==="h2"},"isH2"),mT=li(),gT=E((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},E(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),_T=E((e={},t)=>mZ(e,gT(mT.STSClient,t)),"getDefaultRoleAssumer"),vT=E((e={},t)=>gZ(e,gT(mT.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),_Z=E(e=>t=>e({roleAssumer:_T(t),roleAssumerWithWebIdentity:vT(t),...t}),"decorateDefaultCredentialProvider")});var Jn=m(_l=>{"use strict";l();Object.defineProperty(_l,"__esModule",{value:!0});_l.getHomeDir=void 0;var vZ=S("os"),hZ=S("path"),ag={},yZ=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",SZ=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${hZ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=yZ();return ag[o]||(ag[o]=(0,vZ.homedir)()),ag[o]};_l.getHomeDir=SZ});var cg=m(vl=>{"use strict";l();Object.defineProperty(vl,"__esModule",{value:!0});vl.getSSOTokenFilepath=void 0;var EZ=S("crypto"),CZ=S("path"),wZ=Jn(),OZ=e=>{let r=(0,EZ.createHash)("sha1").update(e).digest("hex");return(0,CZ.join)((0,wZ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};vl.getSSOTokenFilepath=OZ});var hT=m(hl=>{"use strict";l();Object.defineProperty(hl,"__esModule",{value:!0});hl.getSSOTokenFromFile=void 0;var bZ=S("fs"),PZ=cg(),{readFile:xZ}=bZ.promises,RZ=async e=>{let t=(0,PZ.getSSOTokenFilepath)(e),r=await xZ(t,"utf8");return JSON.parse(r)};hl.getSSOTokenFromFile=RZ});var dg=m(yl=>{"use strict";l();Object.defineProperty(yl,"__esModule",{value:!0});yl.slurpFile=void 0;var AZ=S("fs"),{readFile:IZ}=AZ.promises,lg={},TZ=(e,t)=>((!lg[e]||t?.ignoreCache)&&(lg[e]=IZ(e,"utf8")),lg[e]);yl.slurpFile=TZ});var bT=m((mve,mi)=>{l();var Cl=Object.defineProperty,NZ=Object.getOwnPropertyDescriptor,FZ=Object.getOwnPropertyNames,DZ=Object.prototype.hasOwnProperty,ze=(e,t)=>Cl(e,"name",{value:t,configurable:!0}),kZ=(e,t)=>{for(var r in t)Cl(e,r,{get:t[r],enumerable:!0})},ug=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of FZ(t))!DZ.call(e,o)&&o!==r&&Cl(e,o,{get:()=>t[o],enumerable:!(n=NZ(t,o))||n.enumerable});return e},fg=(e,t,r)=>(ug(e,t,"default"),r&&ug(r,t,"default")),MZ=e=>ug(Cl({},"__esModule",{value:!0}),e),fi={};kZ(fi,{CONFIG_PREFIX_SEPARATOR:()=>qr,DEFAULT_PROFILE:()=>CT,ENV_PROFILE:()=>ET,getProfileName:()=>LZ,loadSharedConfigFiles:()=>OT,loadSsoSessionData:()=>YZ,parseKnownFiles:()=>QZ});mi.exports=MZ(fi);fg(fi,Jn(),mi.exports);var ET="AWS_PROFILE",CT="default",LZ=ze(e=>e.profile||process.env[ET]||CT,"getProfileName");fg(fi,cg(),mi.exports);fg(fi,hT(),mi.exports);var Sl=Y(),qZ=ze(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(qr);return r===-1?!1:Object.values(Sl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(qr),i=r.substring(0,o)===Sl.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),El=S("path"),UZ=Jn(),jZ="AWS_CONFIG_FILE",wT=ze(()=>process.env[jZ]||(0,El.join)((0,UZ.getHomeDir)(),".aws","config"),"getConfigFilepath"),HZ=Jn(),BZ="AWS_SHARED_CREDENTIALS_FILE",$Z=ze(()=>process.env[BZ]||(0,El.join)((0,HZ.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),GZ=Jn(),VZ=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,WZ=["__proto__","profile __proto__"],pg=ze(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=VZ.exec(s);if(c){let[,d,,u]=c;Object.values(Sl.IniSectionType).includes(d)&&(r=[d,u].join(qr))}else r=s;if(WZ.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(qr):c;t[r][u]=d}}}}return t},"parseIni"),yT=dg(),ST=ze(()=>({}),"swallowError"),qr=".",OT=ze(async(e={})=>{let{filepath:t=$Z(),configFilepath:r=wT()}=e,n=(0,GZ.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,El.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,El.join)(n,r.slice(2)));let s=await Promise.all([(0,yT.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(pg).then(qZ).catch(ST),(0,yT.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(pg).catch(ST)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),zZ=ze(e=>Object.entries(e).filter(([t])=>t.startsWith(Sl.IniSectionType.SSO_SESSION+qr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(qr)+1)]:n}),{}),"getSsoSessionData"),KZ=dg(),JZ=ze(()=>({}),"swallowError"),YZ=ze(async(e={})=>(0,KZ.slurpFile)(e.configFilepath??wT()).then(pg).then(zZ).catch(JZ),"loadSsoSessionData"),XZ=ze((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),QZ=ze(async e=>{let t=await OT(e);return XZ(t.configFile,t.credentialsFile)},"parseKnownFiles")});var _g=m((_ve,RT)=>{"use strict";l();var wl=Object.defineProperty,ZZ=Object.getOwnPropertyDescriptor,eee=Object.getOwnPropertyNames,tee=Object.prototype.hasOwnProperty,gg=(e,t)=>wl(e,"name",{value:t,configurable:!0}),ree=(e,t)=>{for(var r in t)wl(e,r,{get:t[r],enumerable:!0})},nee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eee(t))!tee.call(e,o)&&o!==r&&wl(e,o,{get:()=>t[o],enumerable:!(n=ZZ(t,o))||n.enumerable});return e},oee=e=>nee(wl({},"__esModule",{value:!0}),e),xT={};ree(xT,{fromProcess:()=>dee});RT.exports=oee(xT);var PT=bT(),mg=X(),iee=S("child_process"),see=S("util"),aee=(st(),N(Vt)),cee=gg((e,t,r)=>{var n;if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let a=new Date;if(new Date(t.Expiration)<a)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let o=t.AccountId;!o&&((n=r?.[e])!=null&&n.aws_account_id)&&(o=r[e].aws_account_id);let i={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...o&&{accountId:o}};return(0,aee.setCredentialFeature)(i,"CREDENTIALS_PROCESS","w"),i},"getValidatedProcessCredentials"),lee=gg(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let i=(0,see.promisify)(iee.exec);try{let{stdout:a}=await i(o),s;try{s=JSON.parse(a.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return cee(e,s,t)}catch(a){throw new mg.CredentialsProviderError(a.message,{logger:r})}}else throw new mg.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new mg.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),dee=gg((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,PT.parseKnownFiles)(e);return lee((0,PT.getProfileName)(e),r,e.logger)},"fromProcess")});var vg=m(mt=>{"use strict";l();var uee=mt&&mt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pee=mt&&mt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fee=mt&&mt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uee(t,e,r);return pee(t,e),t};Object.defineProperty(mt,"__esModule",{value:!0});mt.fromWebToken=void 0;var mee=e=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:i,policy:a,durationSeconds:s}=e,{roleAssumerWithWebIdentity:c}=e;if(!c){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>fee(sg()));c=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:s})};mt.fromWebToken=mee});var IT=m(Ol=>{"use strict";l();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.fromTokenFile=void 0;var gee=(st(),N(Vt)),_ee=X(),vee=S("fs"),hee=vg(),AT="AWS_WEB_IDENTITY_TOKEN_FILE",yee="AWS_ROLE_ARN",See="AWS_ROLE_SESSION_NAME",Eee=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[AT],r=e?.roleArn??process.env[yee],n=e?.roleSessionName??process.env[See];if(!t||!r)throw new _ee.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,hee.fromWebToken)({...e,webIdentityToken:(0,vee.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[AT]&&(0,gee.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Ol.fromTokenFile=Eee});var Sg=m((Cve,bl)=>{"use strict";l();var TT=Object.defineProperty,Cee=Object.getOwnPropertyDescriptor,wee=Object.getOwnPropertyNames,Oee=Object.prototype.hasOwnProperty,hg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wee(t))!Oee.call(e,o)&&o!==r&&TT(e,o,{get:()=>t[o],enumerable:!(n=Cee(t,o))||n.enumerable});return e},NT=(e,t,r)=>(hg(e,t,"default"),r&&hg(r,t,"default")),bee=e=>hg(TT({},"__esModule",{value:!0}),e),yg={};bl.exports=bee(yg);NT(yg,IT(),bl.exports);NT(yg,vg(),bl.exports)});var jT=m((Ove,UT)=>{"use strict";l();var Pee=Object.create,_i=Object.defineProperty,xee=Object.getOwnPropertyDescriptor,Ree=Object.getOwnPropertyNames,Aee=Object.getPrototypeOf,Iee=Object.prototype.hasOwnProperty,fe=(e,t)=>_i(e,"name",{value:t,configurable:!0}),Tee=(e,t)=>{for(var r in t)_i(e,r,{get:t[r],enumerable:!0})},MT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ree(t))!Iee.call(e,o)&&o!==r&&_i(e,o,{get:()=>t[o],enumerable:!(n=xee(t,o))||n.enumerable});return e},ar=(e,t,r)=>(r=e!=null?Pee(Aee(e)):{},MT(t||!e||!e.__esModule?_i(r,"default",{value:e,enumerable:!0}):r,e)),Nee=e=>MT(_i({},"__esModule",{value:!0}),e),LT={};Tee(LT,{fromIni:()=>Gee});UT.exports=Nee(LT);var Cg=oA(),cr=(st(),N(Vt)),gi=X(),Fee=fe((e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:i}=await Promise.resolve().then(()=>ar(Xp())),{fromContainerMetadata:a}=await Promise.resolve().then(()=>ar(Fo()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,gi.chain)(i(o??{}),a(o))().then(Eg)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>ar(Fo()));return async()=>i(o)().then(Eg)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>ar(Ap()));return async()=>i(o)().then(Eg)}};if(e in n)return n[e];throw new gi.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Eg=fe(e=>(0,cr.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),Dee=fe((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(kee(e,{profile:t,logger:r})||Mee(e,{profile:t,logger:r})),"isAssumeRoleProfile"),kee=fe((e,{profile:t,logger:r})=>{var n;let o=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`)),o},"isAssumeRoleWithSourceProfile"),Mee=fe((e,{profile:t,logger:r})=>{var n;let o=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`)),o},"isCredentialSourceProfile"),Lee=fe(async(e,t,r,n={})=>{var o,i;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let a=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>ar(sg()));r.roleAssumer=d({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:s}=a;if(s&&s in n)throw new gi.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,Cg.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(i=r.logger)==null||i.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let c=s?qT(s,t,r,{...n,[s]:!0},FT(t[s]??{})):(await Fee(a.credential_source,e,r.logger)(r))();if(FT(a))return c.then(d=>(0,cr.setCredentialFeature)(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:a.role_arn,RoleSessionName:a.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:a.external_id,DurationSeconds:parseInt(a.duration_seconds||"3600",10)},{mfa_serial:u}=a;if(u){if(!r.mfaCodeProvider)throw new gi.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=u,d.TokenCode=await r.mfaCodeProvider(u)}let p=await c;return r.roleAssumer(p,d).then(_=>(0,cr.setCredentialFeature)(_,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),FT=fe(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),qee=fe(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),Uee=fe(async(e,t)=>Promise.resolve().then(()=>ar(_g())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,cr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),jee=fe(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>ar(tm()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,cr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,cr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),Hee=fe(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),DT=fe(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),kT=fe(async(e,t)=>{var r;(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let n={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,cr.setCredentialFeature)(n,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),Bee=fe(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),$ee=fe(async(e,t)=>Promise.resolve().then(()=>ar(Sg())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,cr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),qT=fe(async(e,t,r,n={},o=!1)=>{let i=t[e];if(Object.keys(n).length>0&&DT(i))return kT(i,r);if(o||Dee(i,{profile:e,logger:r.logger}))return Lee(e,t,r,n);if(DT(i))return kT(i,r);if(Bee(i))return $ee(i,r);if(qee(i))return Uee(r,e);if(Hee(i))return await jee(e,i,r);throw new gi.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),Gee=fe((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await(0,Cg.parseKnownFiles)(e);return qT((0,Cg.getProfileName)(e),r,e)},"fromIni")});var wc=m((Pve,WT)=>{"use strict";l();var Vee=Object.create,vi=Object.defineProperty,Wee=Object.getOwnPropertyDescriptor,zee=Object.getOwnPropertyNames,Kee=Object.getPrototypeOf,Jee=Object.prototype.hasOwnProperty,Pl=(e,t)=>vi(e,"name",{value:t,configurable:!0}),Yee=(e,t)=>{for(var r in t)vi(e,r,{get:t[r],enumerable:!0})},BT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zee(t))!Jee.call(e,o)&&o!==r&&vi(e,o,{get:()=>t[o],enumerable:!(n=Wee(t,o))||n.enumerable});return e},Yn=(e,t,r)=>(r=e!=null?Vee(Kee(e)):{},BT(t||!e||!e.__esModule?vi(r,"default",{value:e,enumerable:!0}):r,e)),Xee=e=>BT(vi({},"__esModule",{value:!0}),e),$T={};Yee($T,{credentialsTreatedAsExpired:()=>VT,credentialsWillNeedRefresh:()=>GT,defaultProvider:()=>tte});WT.exports=Xee($T);var wg=Ap(),Qee=Pw(),Ur=X(),Zee="AWS_EC2_METADATA_DISABLED",ete=Pl(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:a}=await Promise.resolve().then(()=>Yn(Fo()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>Yn(Xp()));return(0,Ur.chain)(s(e),i(e))}return process.env[Zee]?async()=>{throw new Ur.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),a(e))},"remoteProvider"),HT=!1,tte=Pl((e={})=>(0,Ur.memoize)((0,Ur.chain)(async()=>{var t,r,n,o;if(e.profile??process.env[Qee.ENV_PROFILE])throw process.env[wg.ENV_KEY]&&process.env[wg.ENV_SECRET]&&(HT||(((t=e.logger)!=null&&t.warn&&((n=(r=e.logger)==null?void 0:r.constructor)==null?void 0:n.name)!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),HT=!0)),new Ur.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return(o=e.logger)==null||o.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,wg.fromEnv)(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:a}=e;if(!r&&!n&&!o&&!i&&!a)throw new Ur.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:s}=await Promise.resolve().then(()=>Yn(tm()));return s(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>Yn(jT()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>Yn(_g()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>Yn(Sg()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await ete(e))()},async()=>{throw new Ur.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),VT,GT),"defaultProvider"),GT=Pl(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),VT=Pl(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var JT=m((Rve,KT)=>{l();var xl=Object.defineProperty,rte=Object.getOwnPropertyDescriptor,nte=Object.getOwnPropertyNames,ote=Object.prototype.hasOwnProperty,ite=(e,t)=>xl(e,"name",{value:t,configurable:!0}),ste=(e,t)=>{for(var r in t)xl(e,r,{get:t[r],enumerable:!0})},ate=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nte(t))!ote.call(e,o)&&o!==r&&xl(e,o,{get:()=>t[o],enumerable:!(n=rte(t,o))||n.enumerable});return e},cte=e=>ate(xl({},"__esModule",{value:!0}),e),zT={};ste(zT,{isArrayBuffer:()=>lte});KT.exports=cte(zT);var lte=ite(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var ZT=m((Ive,QT)=>{l();var Rl=Object.defineProperty,dte=Object.getOwnPropertyDescriptor,ute=Object.getOwnPropertyNames,pte=Object.prototype.hasOwnProperty,YT=(e,t)=>Rl(e,"name",{value:t,configurable:!0}),fte=(e,t)=>{for(var r in t)Rl(e,r,{get:t[r],enumerable:!0})},mte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ute(t))!pte.call(e,o)&&o!==r&&Rl(e,o,{get:()=>t[o],enumerable:!(n=dte(t,o))||n.enumerable});return e},gte=e=>mte(Rl({},"__esModule",{value:!0}),e),XT={};fte(XT,{fromArrayBuffer:()=>vte,fromString:()=>hte});QT.exports=gte(XT);var _te=JT(),Og=S("buffer"),vte=YT((e,t=0,r=e.byteLength-t)=>{if(!(0,_te.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Og.Buffer.from(e,t,r)},"fromArrayBuffer"),hte=YT((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Og.Buffer.from(e,t):Og.Buffer.from(e)},"fromString")});var oN=m((Nve,nN)=>{l();var Al=Object.defineProperty,yte=Object.getOwnPropertyDescriptor,Ste=Object.getOwnPropertyNames,Ete=Object.prototype.hasOwnProperty,bg=(e,t)=>Al(e,"name",{value:t,configurable:!0}),Cte=(e,t)=>{for(var r in t)Al(e,r,{get:t[r],enumerable:!0})},wte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ste(t))!Ete.call(e,o)&&o!==r&&Al(e,o,{get:()=>t[o],enumerable:!(n=yte(t,o))||n.enumerable});return e},Ote=e=>wte(Al({},"__esModule",{value:!0}),e),eN={};Cte(eN,{fromUtf8:()=>rN,toUint8Array:()=>bte,toUtf8:()=>Pte});nN.exports=Ote(eN);var tN=ZT(),rN=bg(e=>{let t=(0,tN.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),bte=bg(e=>typeof e=="string"?rN(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Pte=bg(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,tN.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var iN=m(Il=>{"use strict";l();Object.defineProperty(Il,"__esModule",{value:!0});Il.convertToBuffer=void 0;var xte=oN(),Rte=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:xte.fromUtf8;function Ate(e){return e instanceof Uint8Array?e:typeof e=="string"?Rte(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Il.convertToBuffer=Ate});var sN=m(Tl=>{"use strict";l();Object.defineProperty(Tl,"__esModule",{value:!0});Tl.isEmptyData=void 0;function Ite(e){return typeof e=="string"?e.length===0:e.byteLength===0}Tl.isEmptyData=Ite});var aN=m(Nl=>{"use strict";l();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.numToUint8=void 0;function Tte(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Nl.numToUint8=Tte});var cN=m(Fl=>{"use strict";l();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.uint32ArrayFrom=void 0;function Nte(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Fl.uint32ArrayFrom=Nte});var Pg=m(gt=>{"use strict";l();Object.defineProperty(gt,"__esModule",{value:!0});gt.uint32ArrayFrom=gt.numToUint8=gt.isEmptyData=gt.convertToBuffer=void 0;var Fte=iN();Object.defineProperty(gt,"convertToBuffer",{enumerable:!0,get:function(){return Fte.convertToBuffer}});var Dte=sN();Object.defineProperty(gt,"isEmptyData",{enumerable:!0,get:function(){return Dte.isEmptyData}});var kte=aN();Object.defineProperty(gt,"numToUint8",{enumerable:!0,get:function(){return kte.numToUint8}});var Mte=cN();Object.defineProperty(gt,"uint32ArrayFrom",{enumerable:!0,get:function(){return Mte.uint32ArrayFrom}})});var uN=m(Dl=>{"use strict";l();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.AwsCrc32=void 0;var lN=(er(),N(Zt)),xg=Pg(),dN=kl(),Lte=function(){function e(){this.crc32=new dN.Crc32}return e.prototype.update=function(t){(0,xg.isEmptyData)(t)||this.crc32.update((0,xg.convertToBuffer)(t))},e.prototype.digest=function(){return lN.__awaiter(this,void 0,void 0,function(){return lN.__generator(this,function(t){return[2,(0,xg.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new dN.Crc32},e}();Dl.AwsCrc32=Lte});var kl=m(lr=>{"use strict";l();Object.defineProperty(lr,"__esModule",{value:!0});lr.AwsCrc32=lr.Crc32=lr.crc32=void 0;var qte=(er(),N(Zt)),Ute=Pg();function jte(e){return new pN().update(e).digest()}lr.crc32=jte;var pN=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=qte.__values(t),i=o.next();!i.done;i=o.next()){var a=i.value;this.checksum=this.checksum>>>8^Bte[(this.checksum^a)&255]}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();lr.Crc32=pN;var Hte=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Bte=(0,Ute.uint32ArrayFrom)(Hte),$te=uN();Object.defineProperty(lr,"AwsCrc32",{enumerable:!0,get:function(){return $te.AwsCrc32}})});var xN=m((ehe,PN)=>{l();var Ll=Object.defineProperty,Gte=Object.getOwnPropertyDescriptor,Vte=Object.getOwnPropertyNames,Wte=Object.prototype.hasOwnProperty,jt=(e,t)=>Ll(e,"name",{value:t,configurable:!0}),zte=(e,t)=>{for(var r in t)Ll(e,r,{get:t[r],enumerable:!0})},Kte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vte(t))!Wte.call(e,o)&&o!==r&&Ll(e,o,{get:()=>t[o],enumerable:!(n=Gte(t,o))||n.enumerable});return e},Jte=e=>Kte(Ll({},"__esModule",{value:!0}),e),mN={};zte(mN,{EventStreamCodec:()=>cre,HeaderMarshaller:()=>hN,Int64:()=>Ml,MessageDecoderStream:()=>lre,MessageEncoderStream:()=>dre,SmithyMessageDecoderStream:()=>ure,SmithyMessageEncoderStream:()=>pre});PN.exports=Jte(mN);var Yte=kl(),jr=zi(),gN=class _N{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Rg(r),new _N(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Rg(t),parseInt((0,jr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};jt(gN,"Int64");var Ml=gN;function Rg(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}jt(Rg,"negate");var vN=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let i of Object.keys(t)){let a=this.fromUtf8(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let s=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+s.byteLength));c.setUint8(0,7),c.setUint16(1,s.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(s,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(Ml.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!ire.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,jr.fromHex)(t.value.replace(/\-/g,"")),1),p}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[i]={type:fN,value:!0};break;case 1:r[i]={type:fN,value:!1};break;case 2:r[i]={type:Xte,value:t.getInt8(n++)};break;case 3:r[i]={type:Qte,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:Zte,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:ere,value:new Ml(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let a=t.getUint16(n,!1);n+=2,r[i]={type:tre,value:new Uint8Array(t.buffer,t.byteOffset+n,a)},n+=a;break;case 7:let s=t.getUint16(n,!1);n+=2,r[i]={type:rre,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s))},n+=s;break;case 8:r[i]={type:nre,value:new Date(new Ml(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:ore,value:`${(0,jr.toHex)(c.subarray(0,4))}-${(0,jr.toHex)(c.subarray(4,6))}-${(0,jr.toHex)(c.subarray(6,8))}-${(0,jr.toHex)(c.subarray(8,10))}-${(0,jr.toHex)(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};jt(vN,"HeaderMarshaller");var hN=vN,fN="boolean",Xte="byte",Qte="short",Zte="integer",ere="long",tre="binary",rre="string",nre="timestamp",ore="uuid",ire=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,sre=kl(),yN=4,dr=yN*2,Hr=4,are=dr+Hr*2;function SN({byteLength:e,byteOffset:t,buffer:r}){if(e<are)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let i=n.getUint32(yN,!1),a=n.getUint32(dr,!1),s=n.getUint32(e-Hr,!1),c=new sre.Crc32().update(new Uint8Array(r,t,dr));if(a!==c.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+dr,e-(dr+Hr))),s!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${s}`);return{headers:new DataView(r,t+dr+Hr,i),body:new Uint8Array(r,t+dr+Hr+i,o-i-(dr+Hr+Hr))}}jt(SN,"splitMessage");var EN=class{constructor(t,r){this.headerMarshaller=new hN(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,i=new Uint8Array(o),a=new DataView(i.buffer,i.byteOffset,i.byteLength),s=new Yte.Crc32;return a.setUint32(0,o,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,s.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),a.setUint32(o-4,s.update(i.subarray(8,o-4)).digest(),!1),i}decode(t){let{headers:r,body:n}=SN(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};jt(EN,"EventStreamCodec");var cre=EN,CN=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}};jt(CN,"MessageDecoderStream");var lre=CN,wN=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}};jt(wN,"MessageEncoderStream");var dre=wN,ON=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}};jt(ON,"SmithyMessageDecoderStream");var ure=ON,bN=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};jt(bN,"SmithyMessageEncoderStream");var pre=bN});var DN=m((nhe,FN)=>{l();var ql=Object.defineProperty,fre=Object.getOwnPropertyDescriptor,mre=Object.getOwnPropertyNames,gre=Object.prototype.hasOwnProperty,Xn=(e,t)=>ql(e,"name",{value:t,configurable:!0}),_re=(e,t)=>{for(var r in t)ql(e,r,{get:t[r],enumerable:!0})},vre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mre(t))!gre.call(e,o)&&o!==r&&ql(e,o,{get:()=>t[o],enumerable:!(n=fre(t,o))||n.enumerable});return e},hre=e=>vre(ql({},"__esModule",{value:!0}),e),RN={};_re(RN,{EventStreamMarshaller:()=>NN,eventStreamSerdeProvider:()=>yre});FN.exports=hre(RN);var hi=xN();function AN(e){let t=0,r=0,n=null,o=null,i=Xn(s=>{if(typeof s!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+s);t=s,r=4,n=new Uint8Array(s),new DataView(n.buffer).setUint32(0,s,!1)},"allocateMessage"),a=Xn(async function*(){let s=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await s.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let u=c.length,p=0;for(;p<u;){if(!n){let v=u-p;o||(o=new Uint8Array(4));let y=Math.min(4-r,v);if(o.set(c.slice(p,p+y),r),r+=y,p+=y,r<4)break;i(new DataView(o.buffer).getUint32(0,!1)),o=null}let _=Math.min(t-r,u-p);n.set(c.slice(p,p+_),r),r+=_,p+=_,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:a}}Xn(AN,"getChunkedStream");function IN(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let o=new Error(r.headers[":error-message"].value||"UnknownError");throw o.name=r.headers[":error-code"].value,o}else if(n==="exception"){let o=r.headers[":exception-type"].value,i={[o]:r},a=await e(i);if(a.$unknown){let s=new Error(t(r.body));throw s.name=o,s}throw a[o]}else if(n==="event"){let o={[r.headers[":event-type"].value]:r},i=await e(o);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}Xn(IN,"getMessageUnmarshaller");var TN=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new hi.EventStreamCodec(t,r),this.utfEncoder=t}deserialize(t,r){let n=AN(t);return new hi.SmithyMessageDecoderStream({messageStream:new hi.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:IN(r,this.utfEncoder)})}serialize(t,r){return new hi.MessageEncoderStream({messageStream:new hi.SmithyMessageEncoderStream({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};Xn(TN,"EventStreamMarshaller");var NN=TN,yre=Xn(e=>new NN(e),"eventStreamSerdeProvider")});var jN=m((she,UN)=>{l();var Ul=Object.defineProperty,Sre=Object.getOwnPropertyDescriptor,Ere=Object.getOwnPropertyNames,Cre=Object.prototype.hasOwnProperty,Ag=(e,t)=>Ul(e,"name",{value:t,configurable:!0}),wre=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},Ore=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ere(t))!Cre.call(e,o)&&o!==r&&Ul(e,o,{get:()=>t[o],enumerable:!(n=Sre(t,o))||n.enumerable});return e},bre=e=>Ore(Ul({},"__esModule",{value:!0}),e),kN={};wre(kN,{EventStreamMarshaller:()=>qN,eventStreamSerdeProvider:()=>Rre});UN.exports=bre(kN);var Pre=DN(),xre=S("stream");async function*MN(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(i=>setTimeout(()=>i(n.shift()),0));o&&(yield o),r=t&&n.length===0}}Ag(MN,"readabletoIterable");var LN=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Pre.EventStreamMarshaller({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:MN(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return xre.Readable.from(this.universalMarshaller.serialize(t,r))}};Ag(LN,"EventStreamMarshaller");var qN=LN,Rre=Ag(e=>new qN(e),"eventStreamSerdeProvider")});var Qn=m(jl=>{"use strict";l();Object.defineProperty(jl,"__esModule",{value:!0});jl.getHomeDir=void 0;var Are=S("os"),Ire=S("path"),Ig={},Tre=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Nre=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Ire.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=Tre();return Ig[o]||(Ig[o]=(0,Are.homedir)()),Ig[o]};jl.getHomeDir=Nre});var Tg=m(Hl=>{"use strict";l();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.getSSOTokenFilepath=void 0;var Fre=S("crypto"),Dre=S("path"),kre=Qn(),Mre=e=>{let r=(0,Fre.createHash)("sha1").update(e).digest("hex");return(0,Dre.join)((0,kre.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Hl.getSSOTokenFilepath=Mre});var HN=m(Bl=>{"use strict";l();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.getSSOTokenFromFile=void 0;var Lre=S("fs"),qre=Tg(),{readFile:Ure}=Lre.promises,jre=async e=>{let t=(0,qre.getSSOTokenFilepath)(e),r=await Ure(t,"utf8");return JSON.parse(r)};Bl.getSSOTokenFromFile=jre});var Fg=m($l=>{"use strict";l();Object.defineProperty($l,"__esModule",{value:!0});$l.slurpFile=void 0;var Hre=S("fs"),{readFile:Bre}=Hre.promises,Ng={},$re=(e,t)=>((!Ng[e]||t?.ignoreCache)&&(Ng[e]=Bre(e,"utf8")),Ng[e]);$l.slurpFile=$re});var KN=m((_he,Si)=>{l();var Wl=Object.defineProperty,Gre=Object.getOwnPropertyDescriptor,Vre=Object.getOwnPropertyNames,Wre=Object.prototype.hasOwnProperty,Ke=(e,t)=>Wl(e,"name",{value:t,configurable:!0}),zre=(e,t)=>{for(var r in t)Wl(e,r,{get:t[r],enumerable:!0})},Dg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vre(t))!Wre.call(e,o)&&o!==r&&Wl(e,o,{get:()=>t[o],enumerable:!(n=Gre(t,o))||n.enumerable});return e},Mg=(e,t,r)=>(Dg(e,t,"default"),r&&Dg(r,t,"default")),Kre=e=>Dg(Wl({},"__esModule",{value:!0}),e),yi={};zre(yi,{CONFIG_PREFIX_SEPARATOR:()=>Br,DEFAULT_PROFILE:()=>VN,ENV_PROFILE:()=>GN,getProfileName:()=>Jre,loadSharedConfigFiles:()=>zN,loadSsoSessionData:()=>cne,parseKnownFiles:()=>dne});Si.exports=Kre(yi);Mg(yi,Qn(),Si.exports);var GN="AWS_PROFILE",VN="default",Jre=Ke(e=>e.profile||process.env[GN]||VN,"getProfileName");Mg(yi,Tg(),Si.exports);Mg(yi,HN(),Si.exports);var Gl=Y(),Yre=Ke(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Br);return r===-1?!1:Object.values(Gl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Br),i=r.substring(0,o)===Gl.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Vl=S("path"),Xre=Qn(),Qre="AWS_CONFIG_FILE",WN=Ke(()=>process.env[Qre]||(0,Vl.join)((0,Xre.getHomeDir)(),".aws","config"),"getConfigFilepath"),Zre=Qn(),ene="AWS_SHARED_CREDENTIALS_FILE",tne=Ke(()=>process.env[ene]||(0,Vl.join)((0,Zre.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),rne=Qn(),nne=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,one=["__proto__","profile __proto__"],kg=Ke(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=nne.exec(s);if(c){let[,d,,u]=c;Object.values(Gl.IniSectionType).includes(d)&&(r=[d,u].join(Br))}else r=s;if(one.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Br):c;t[r][u]=d}}}}return t},"parseIni"),BN=Fg(),$N=Ke(()=>({}),"swallowError"),Br=".",zN=Ke(async(e={})=>{let{filepath:t=tne(),configFilepath:r=WN()}=e,n=(0,rne.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Vl.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Vl.join)(n,r.slice(2)));let s=await Promise.all([(0,BN.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(kg).then(Yre).catch($N),(0,BN.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(kg).catch($N)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),ine=Ke(e=>Object.entries(e).filter(([t])=>t.startsWith(Gl.IniSectionType.SSO_SESSION+Br)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Br)+1)]:n}),{}),"getSsoSessionData"),sne=Fg(),ane=Ke(()=>({}),"swallowError"),cne=Ke(async(e={})=>(0,sne.slurpFile)(e.configFilepath??WN()).then(kg).then(ine).catch(ane),"loadSsoSessionData"),lne=Ke((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),dne=Ke(async e=>{let t=await zN(e);return lne(t.configFile,t.credentialsFile)},"parseKnownFiles")});var QN=m((hhe,XN)=>{l();var zl=Object.defineProperty,une=Object.getOwnPropertyDescriptor,pne=Object.getOwnPropertyNames,fne=Object.prototype.hasOwnProperty,Zn=(e,t)=>zl(e,"name",{value:t,configurable:!0}),mne=(e,t)=>{for(var r in t)zl(e,r,{get:t[r],enumerable:!0})},gne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pne(t))!fne.call(e,o)&&o!==r&&zl(e,o,{get:()=>t[o],enumerable:!(n=une(t,o))||n.enumerable});return e},_ne=e=>gne(zl({},"__esModule",{value:!0}),e),YN={};mne(YN,{loadConfig:()=>Ene});XN.exports=_ne(YN);var Ei=X();function Lg(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Zn(Lg,"getSelectorName");var vne=Zn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Ei.CredentialsProviderError(r.message||`Not found in ENV: ${Lg(e.toString())}`,{logger:t})}},"fromEnv"),JN=KN(),hne=Zn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,JN.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,JN.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new Ei.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Lg(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),yne=Zn(e=>typeof e=="function","isFunction"),Sne=Zn(e=>yne(e)?async()=>await e():(0,Ei.fromStatic)(e),"fromStatic"),Ene=Zn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Ei.memoize)((0,Ei.chain)(vne(e),hne(t,n),Sne(r))),"loadConfig")});var pF=m(Kl=>{"use strict";l();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.ruleSet=void 0;var lF="required",vt="fn",ht="argv",to="ref",ZN=!0,eF="isSet",wi="booleanEquals",eo="error",Ci="endpoint",ye="tree",qg="PartitionResult",tF={[lF]:!1,type:"String"},rF={[lF]:!0,default:!1,type:"Boolean"},nF={[to]:"Endpoint"},dF={[vt]:wi,[ht]:[{[to]:"UseFIPS"},!0]},uF={[vt]:wi,[ht]:[{[to]:"UseDualStack"},!0]},_t={},oF={[vt]:"getAttr",[ht]:[{[to]:qg},"supportsFIPS"]},iF={[vt]:wi,[ht]:[!0,{[vt]:"getAttr",[ht]:[{[to]:qg},"supportsDualStack"]}]},sF=[dF],aF=[uF],cF=[{[to]:"Region"}],Cne={version:"1.0",parameters:{Region:tF,UseDualStack:rF,UseFIPS:rF,Endpoint:tF},rules:[{conditions:[{[vt]:eF,[ht]:[nF]}],rules:[{conditions:sF,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:eo},{rules:[{conditions:aF,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:eo},{endpoint:{url:nF,properties:_t,headers:_t},type:Ci}],type:ye}],type:ye},{rules:[{conditions:[{[vt]:eF,[ht]:cF}],rules:[{conditions:[{[vt]:"aws.partition",[ht]:cF,assign:qg}],rules:[{conditions:[dF,uF],rules:[{conditions:[{[vt]:wi,[ht]:[ZN,oF]},iF],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:Ci}],type:ye}],type:ye},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:eo}],type:ye},{conditions:sF,rules:[{conditions:[{[vt]:wi,[ht]:[oF,ZN]}],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:Ci}],type:ye}],type:ye},{error:"FIPS is enabled but this partition does not support FIPS",type:eo}],type:ye},{conditions:aF,rules:[{conditions:[iF],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:Ci}],type:ye}],type:ye},{error:"DualStack is enabled but this partition does not support DualStack",type:eo}],type:ye},{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:Ci}],type:ye}],type:ye}],type:ye},{error:"Invalid Configuration: Missing Region",type:eo}],type:ye}]};Kl.ruleSet=Cne});var fF=m(Jl=>{"use strict";l();Object.defineProperty(Jl,"__esModule",{value:!0});Jl.defaultEndpointResolver=void 0;var wne=Kr(),Ug=Wr(),One=pF(),bne=new Ug.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Pne=(e,t={})=>bne.get(e,()=>(0,Ug.resolveEndpoint)(One.ruleSet,{endpointParams:e,logger:t.logger}));Jl.defaultEndpointResolver=Pne;Ug.customEndpointFunctions.aws=wne.awsEndpointFunctions});var _F=m(Yl=>{"use strict";l();Object.defineProperty(Yl,"__esModule",{value:!0});Yl.getRuntimeConfig=void 0;var xne=(ie(),N(oe)),Rne=B(),Ane=Or(),mF=yt(),gF=Ce(),Ine=bp(),Tne=fF(),Nne=e=>({apiVersion:"2023-09-30",base64Decoder:e?.base64Decoder??mF.fromBase64,base64Encoder:e?.base64Encoder??mF.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Tne.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Ine.defaultBedrockRuntimeHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new xne.AwsSdkSigV4Signer}],logger:e?.logger??new Rne.NoOpLogger,serviceId:e?.serviceId??"Bedrock Runtime",urlParser:e?.urlParser??Ane.parseUrl,utf8Decoder:e?.utf8Decoder??gF.fromUtf8,utf8Encoder:e?.utf8Encoder??gF.toUtf8});Yl.getRuntimeConfig=Nne});var SF=m(Ql=>{"use strict";l();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.getRuntimeConfig=void 0;var Fne=(er(),N(Zt)),Dne=Fne.__importDefault(dw()),kne=(ie(),N(oe)),Mne=wc(),vF=Do(),Xl=lt(),Lne=jN(),qne=ko(),hF=Ot(),ro=QN(),yF=gr(),Une=Uo(),jne=sn(),Hne=_F(),Bne=B(),$ne=Vo(),Gne=B(),Vne=e=>{(0,Gne.emitWarningIfUnsupportedVersion)(process.version);let t=(0,$ne.resolveDefaultsModeConfig)(e),r=()=>t().then(Bne.loadConfigsForDefaultMode),n=(0,Hne.getRuntimeConfig)(e);return(0,kne.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Une.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Mne.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,vF.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Dne.default.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??Lne.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,ro.loadConfig)(hF.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ro.loadConfig)(Xl.NODE_REGION_CONFIG_OPTIONS,Xl.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:yF.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ro.loadConfig)({...hF.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||jne.DEFAULT_RETRY_MODE}),sha256:e?.sha256??qne.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??yF.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ro.loadConfig)(Xl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ro.loadConfig)(Xl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS),userAgentAppId:e?.userAgentAppId??(0,ro.loadConfig)(vF.NODE_APP_ID_CONFIG_OPTIONS)}};Ql.getRuntimeConfig=Vne});var Tk=m((qhe,Ik)=>{"use strict";l();var pd=Object.defineProperty,Wne=Object.getOwnPropertyDescriptor,zne=Object.getOwnPropertyNames,Kne=Object.prototype.hasOwnProperty,g=(e,t)=>pd(e,"name",{value:t,configurable:!0}),Jne=(e,t)=>{for(var r in t)pd(e,r,{get:t[r],enumerable:!0})},Yne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zne(t))!Kne.call(e,o)&&o!==r&&pd(e,o,{get:()=>t[o],enumerable:!(n=Wne(t,o))||n.enumerable});return e},Xne=e=>Yne(pd({},"__esModule",{value:!0}),e),DF={};Jne(DF,{AccessDeniedException:()=>jF,ApplyGuardrailCommand:()=>mk,ApplyGuardrailRequestFilterSensitiveLog:()=>bD,AsyncInvokeOutputDataConfig:()=>jg,AsyncInvokeStatus:()=>coe,AsyncInvokeSummaryFilterSensitiveLog:()=>ED,BedrockRuntime:()=>Ak,BedrockRuntimeClient:()=>Jg,BedrockRuntimeServiceException:()=>Ee,ConflictException:()=>QF,ContentBlock:()=>cd,ContentBlockDelta:()=>Gg,ContentBlockFilterSensitiveLog:()=>PD,ContentBlockStart:()=>Vg,ConversationRole:()=>Doe,ConverseCommand:()=>_k,ConverseOutput:()=>$g,ConverseOutputFilterSensitiveLog:()=>RD,ConverseRequestFilterSensitiveLog:()=>xD,ConverseResponseFilterSensitiveLog:()=>AD,ConverseStreamCommand:()=>hk,ConverseStreamOutput:()=>Wg,ConverseStreamOutputFilterSensitiveLog:()=>$oe,ConverseStreamRequestFilterSensitiveLog:()=>ID,ConverseStreamResponseFilterSensitiveLog:()=>TD,DocumentFormat:()=>Roe,DocumentSource:()=>rd,GetAsyncInvokeCommand:()=>Sk,GetAsyncInvokeResponseFilterSensitiveLog:()=>SD,GuardrailAction:()=>moe,GuardrailContentBlock:()=>td,GuardrailContentBlockFilterSensitiveLog:()=>OD,GuardrailContentFilterConfidence:()=>_oe,GuardrailContentFilterStrength:()=>voe,GuardrailContentFilterType:()=>hoe,GuardrailContentPolicyAction:()=>goe,GuardrailContentQualifier:()=>poe,GuardrailContentSource:()=>foe,GuardrailContextualGroundingFilterType:()=>Soe,GuardrailContextualGroundingPolicyAction:()=>yoe,GuardrailConverseContentBlock:()=>od,GuardrailConverseContentBlockFilterSensitiveLog:()=>Yg,GuardrailConverseContentQualifier:()=>Ioe,GuardrailConverseImageBlockFilterSensitiveLog:()=>Boe,GuardrailConverseImageFormat:()=>Aoe,GuardrailConverseImageSource:()=>nd,GuardrailConverseImageSourceFilterSensitiveLog:()=>Hoe,GuardrailImageBlockFilterSensitiveLog:()=>joe,GuardrailImageFormat:()=>uoe,GuardrailImageSource:()=>ed,GuardrailImageSourceFilterSensitiveLog:()=>Uoe,GuardrailManagedWordType:()=>Poe,GuardrailPiiEntityType:()=>Coe,GuardrailSensitiveInformationPolicyAction:()=>Eoe,GuardrailStreamProcessingMode:()=>Loe,GuardrailTopicPolicyAction:()=>woe,GuardrailTopicType:()=>Ooe,GuardrailTrace:()=>xoe,GuardrailWordPolicyAction:()=>boe,ImageFormat:()=>Toe,ImageSource:()=>id,InternalServerException:()=>$F,InvokeModelCommand:()=>Ck,InvokeModelRequestFilterSensitiveLog:()=>ND,InvokeModelResponseFilterSensitiveLog:()=>FD,InvokeModelWithResponseStreamCommand:()=>Ok,InvokeModelWithResponseStreamRequestFilterSensitiveLog:()=>DD,InvokeModelWithResponseStreamResponseFilterSensitiveLog:()=>kD,ListAsyncInvokesCommand:()=>Zg,ListAsyncInvokesResponseFilterSensitiveLog:()=>CD,MessageFilterSensitiveLog:()=>fd,ModelErrorException:()=>dD,ModelNotReadyException:()=>fD,ModelStreamErrorException:()=>yD,ModelTimeoutException:()=>_D,PayloadPartFilterSensitiveLog:()=>Goe,PerformanceConfigLatency:()=>koe,PromptVariableValues:()=>Hg,ResourceNotFoundException:()=>tD,ResponseStream:()=>zg,ResponseStreamFilterSensitiveLog:()=>Voe,ServiceQuotaExceededException:()=>oD,ServiceUnavailableException:()=>aD,SortAsyncInvocationBy:()=>loe,SortOrder:()=>doe,StartAsyncInvokeCommand:()=>xk,StartAsyncInvokeRequestFilterSensitiveLog:()=>wD,StopReason:()=>Moe,SystemContentBlock:()=>ld,SystemContentBlockFilterSensitiveLog:()=>Xg,ThrottlingException:()=>WF,Tool:()=>ud,ToolChoice:()=>Bg,ToolInputSchema:()=>dd,ToolResultContentBlock:()=>ad,ToolResultStatus:()=>Foe,Trace:()=>qoe,ValidationException:()=>JF,VideoFormat:()=>Noe,VideoSource:()=>sd,__Client:()=>f.Client,paginateListAsyncInvokes:()=>wse});Ik.exports=Xne(DF);var EF=no(),Qne=oo(),Zne=io(),CF=en(),eoe=lt(),Je=(Oe(),N(Ze)),toe=ZE(),roe=yo(),Ht=nn(),wF=Ot(),OF=bp(),noe=g(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"bedrock"}),"resolveClientEndpointParameters"),ur={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ooe=SF(),bF=Wo(),PF=J(),f=B(),ioe=g(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),soe=g(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Zl=g(e=>e,"asPartial"),aoe=g((e,t)=>{let r={...Zl((0,bF.getAwsRegionExtensionConfiguration)(e)),...Zl((0,f.getDefaultExtensionConfiguration)(e)),...Zl((0,PF.getHttpHandlerExtensionConfiguration)(e)),...Zl(ioe(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,bF.resolveAwsRegionExtensionConfiguration)(r),...(0,f.resolveDefaultRuntimeConfig)(r),...(0,PF.resolveHttpHandlerRuntimeConfig)(r),...soe(r)}},"resolveRuntimeExtensions"),kF=class extends f.Client{constructor(...[t]){let r=(0,ooe.getRuntimeConfig)(t||{}),n=noe(r),o=(0,CF.resolveUserAgentConfig)(n),i=(0,wF.resolveRetryConfig)(o),a=(0,eoe.resolveRegionConfig)(i),s=(0,EF.resolveHostHeaderConfig)(a),c=(0,Ht.resolveEndpointConfig)(s),d=(0,toe.resolveEventStreamSerdeConfig)(c),u=(0,OF.resolveHttpAuthSchemeConfig)(d),p=aoe(u,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,CF.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,wF.getRetryPlugin)(this.config)),this.middlewareStack.use((0,roe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,EF.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Qne.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Zne.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Je.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:OF.defaultBedrockRuntimeHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async _=>new Je.DefaultIdentityProviderConfig({"aws.auth#sigv4":_.credentials})})),this.middlewareStack.use((0,Je.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};g(kF,"BedrockRuntimeClient");var Jg=kF,pr=mr(),MF=class LF extends f.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,LF.prototype)}};g(MF,"BedrockRuntimeServiceException");var Ee=MF,qF=class UF extends Ee{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,UF.prototype)}};g(qF,"AccessDeniedException");var jF=qF,jg;(e=>{e.visit=g((t,r)=>t.s3OutputDataConfig!==void 0?r.s3OutputDataConfig(t.s3OutputDataConfig):r._(t.$unknown[0],t.$unknown[1]),"visit")})(jg||(jg={}));var coe={COMPLETED:"Completed",FAILED:"Failed",IN_PROGRESS:"InProgress"},HF=class BF extends Ee{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,BF.prototype)}};g(HF,"InternalServerException");var $F=HF,GF=class VF extends Ee{constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,VF.prototype)}};g(GF,"ThrottlingException");var WF=GF,zF=class KF extends Ee{constructor(t){super({name:"ValidationException",$fault:"client",...t}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,KF.prototype)}};g(zF,"ValidationException");var JF=zF,loe={SUBMISSION_TIME:"SubmissionTime"},doe={ASCENDING:"Ascending",DESCENDING:"Descending"},YF=class XF extends Ee{constructor(t){super({name:"ConflictException",$fault:"client",...t}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,XF.prototype)}};g(YF,"ConflictException");var QF=YF,ZF=class eD extends Ee{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,eD.prototype)}};g(ZF,"ResourceNotFoundException");var tD=ZF,rD=class nD extends Ee{constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,nD.prototype)}};g(rD,"ServiceQuotaExceededException");var oD=rD,iD=class sD extends Ee{constructor(t){super({name:"ServiceUnavailableException",$fault:"server",...t}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,sD.prototype)}};g(iD,"ServiceUnavailableException");var aD=iD,uoe={JPEG:"jpeg",PNG:"png"},ed;(e=>{e.visit=g((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):r._(t.$unknown[0],t.$unknown[1]),"visit")})(ed||(ed={}));var poe={GROUNDING_SOURCE:"grounding_source",GUARD_CONTENT:"guard_content",QUERY:"query"},td;(e=>{e.visit=g((t,r)=>t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):r._(t.$unknown[0],t.$unknown[1]),"visit")})(td||(td={}));var foe={INPUT:"INPUT",OUTPUT:"OUTPUT"},moe={GUARDRAIL_INTERVENED:"GUARDRAIL_INTERVENED",NONE:"NONE"},goe={BLOCKED:"BLOCKED"},_oe={HIGH:"HIGH",LOW:"LOW",MEDIUM:"MEDIUM",NONE:"NONE"},voe={HIGH:"HIGH",LOW:"LOW",MEDIUM:"MEDIUM",NONE:"NONE"},hoe={HATE:"HATE",INSULTS:"INSULTS",MISCONDUCT:"MISCONDUCT",PROMPT_ATTACK:"PROMPT_ATTACK",SEXUAL:"SEXUAL",VIOLENCE:"VIOLENCE"},yoe={BLOCKED:"BLOCKED",NONE:"NONE"},Soe={GROUNDING:"GROUNDING",RELEVANCE:"RELEVANCE"},Eoe={ANONYMIZED:"ANONYMIZED",BLOCKED:"BLOCKED"},Coe={ADDRESS:"ADDRESS",AGE:"AGE",AWS_ACCESS_KEY:"AWS_ACCESS_KEY",AWS_SECRET_KEY:"AWS_SECRET_KEY",CA_HEALTH_NUMBER:"CA_HEALTH_NUMBER",CA_SOCIAL_INSURANCE_NUMBER:"CA_SOCIAL_INSURANCE_NUMBER",CREDIT_DEBIT_CARD_CVV:"CREDIT_DEBIT_CARD_CVV",CREDIT_DEBIT_CARD_EXPIRY:"CREDIT_DEBIT_CARD_EXPIRY",CREDIT_DEBIT_CARD_NUMBER:"CREDIT_DEBIT_CARD_NUMBER",DRIVER_ID:"DRIVER_ID",EMAIL:"EMAIL",INTERNATIONAL_BANK_ACCOUNT_NUMBER:"INTERNATIONAL_BANK_ACCOUNT_NUMBER",IP_ADDRESS:"IP_ADDRESS",LICENSE_PLATE:"LICENSE_PLATE",MAC_ADDRESS:"MAC_ADDRESS",NAME:"NAME",PASSWORD:"PASSWORD",PHONE:"PHONE",PIN:"PIN",SWIFT_CODE:"SWIFT_CODE",UK_NATIONAL_HEALTH_SERVICE_NUMBER:"UK_NATIONAL_HEALTH_SERVICE_NUMBER",UK_NATIONAL_INSURANCE_NUMBER:"UK_NATIONAL_INSURANCE_NUMBER",UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER:"UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER",URL:"URL",USERNAME:"USERNAME",US_BANK_ACCOUNT_NUMBER:"US_BANK_ACCOUNT_NUMBER",US_BANK_ROUTING_NUMBER:"US_BANK_ROUTING_NUMBER",US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER:"US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER",US_PASSPORT_NUMBER:"US_PASSPORT_NUMBER",US_SOCIAL_SECURITY_NUMBER:"US_SOCIAL_SECURITY_NUMBER",VEHICLE_IDENTIFICATION_NUMBER:"VEHICLE_IDENTIFICATION_NUMBER"},woe={BLOCKED:"BLOCKED"},Ooe={DENY:"DENY"},boe={BLOCKED:"BLOCKED"},Poe={PROFANITY:"PROFANITY"},xoe={DISABLED:"disabled",ENABLED:"enabled"},Roe={CSV:"csv",DOC:"doc",DOCX:"docx",HTML:"html",MD:"md",PDF:"pdf",TXT:"txt",XLS:"xls",XLSX:"xlsx"},rd;(e=>{e.visit=g((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):r._(t.$unknown[0],t.$unknown[1]),"visit")})(rd||(rd={}));var Aoe={JPEG:"jpeg",PNG:"png"},nd;(e=>{e.visit=g((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):r._(t.$unknown[0],t.$unknown[1]),"visit")})(nd||(nd={}));var Ioe={GROUNDING_SOURCE:"grounding_source",GUARD_CONTENT:"guard_content",QUERY:"query"},od;(e=>{e.visit=g((t,r)=>t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):r._(t.$unknown[0],t.$unknown[1]),"visit")})(od||(od={}));var Toe={GIF:"gif",JPEG:"jpeg",PNG:"png",WEBP:"webp"},id;(e=>{e.visit=g((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):r._(t.$unknown[0],t.$unknown[1]),"visit")})(id||(id={}));var Noe={FLV:"flv",MKV:"mkv",MOV:"mov",MP4:"mp4",MPEG:"mpeg",MPG:"mpg",THREE_GP:"three_gp",WEBM:"webm",WMV:"wmv"},sd;(e=>{e.visit=g((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):t.s3Location!==void 0?r.s3Location(t.s3Location):r._(t.$unknown[0],t.$unknown[1]),"visit")})(sd||(sd={}));var ad;(e=>{e.visit=g((t,r)=>t.json!==void 0?r.json(t.json):t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):t.document!==void 0?r.document(t.document):t.video!==void 0?r.video(t.video):r._(t.$unknown[0],t.$unknown[1]),"visit")})(ad||(ad={}));var Foe={ERROR:"error",SUCCESS:"success"},cd;(e=>{e.visit=g((t,r)=>t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):t.document!==void 0?r.document(t.document):t.video!==void 0?r.video(t.video):t.toolUse!==void 0?r.toolUse(t.toolUse):t.toolResult!==void 0?r.toolResult(t.toolResult):t.guardContent!==void 0?r.guardContent(t.guardContent):r._(t.$unknown[0],t.$unknown[1]),"visit")})(cd||(cd={}));var Doe={ASSISTANT:"assistant",USER:"user"},koe={OPTIMIZED:"optimized",STANDARD:"standard"},Hg;(e=>{e.visit=g((t,r)=>t.text!==void 0?r.text(t.text):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Hg||(Hg={}));var ld;(e=>{e.visit=g((t,r)=>t.text!==void 0?r.text(t.text):t.guardContent!==void 0?r.guardContent(t.guardContent):r._(t.$unknown[0],t.$unknown[1]),"visit")})(ld||(ld={}));var Bg;(e=>{e.visit=g((t,r)=>t.auto!==void 0?r.auto(t.auto):t.any!==void 0?r.any(t.any):t.tool!==void 0?r.tool(t.tool):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Bg||(Bg={}));var dd;(e=>{e.visit=g((t,r)=>t.json!==void 0?r.json(t.json):r._(t.$unknown[0],t.$unknown[1]),"visit")})(dd||(dd={}));var ud;(e=>{e.visit=g((t,r)=>t.toolSpec!==void 0?r.toolSpec(t.toolSpec):r._(t.$unknown[0],t.$unknown[1]),"visit")})(ud||(ud={}));var $g;(e=>{e.visit=g((t,r)=>t.message!==void 0?r.message(t.message):r._(t.$unknown[0],t.$unknown[1]),"visit")})($g||($g={}));var Moe={CONTENT_FILTERED:"content_filtered",END_TURN:"end_turn",GUARDRAIL_INTERVENED:"guardrail_intervened",MAX_TOKENS:"max_tokens",STOP_SEQUENCE:"stop_sequence",TOOL_USE:"tool_use"},cD=class lD extends Ee{constructor(t){super({name:"ModelErrorException",$fault:"client",...t}),this.name="ModelErrorException",this.$fault="client",Object.setPrototypeOf(this,lD.prototype),this.originalStatusCode=t.originalStatusCode,this.resourceName=t.resourceName}};g(cD,"ModelErrorException");var dD=cD,uD=class pD extends Ee{constructor(t){super({name:"ModelNotReadyException",$fault:"client",...t}),this.name="ModelNotReadyException",this.$fault="client",this.$retryable={},Object.setPrototypeOf(this,pD.prototype)}};g(uD,"ModelNotReadyException");var fD=uD,mD=class gD extends Ee{constructor(t){super({name:"ModelTimeoutException",$fault:"client",...t}),this.name="ModelTimeoutException",this.$fault="client",Object.setPrototypeOf(this,gD.prototype)}};g(mD,"ModelTimeoutException");var _D=mD,Loe={ASYNC:"async",SYNC:"sync"},Gg;(e=>{e.visit=g((t,r)=>t.text!==void 0?r.text(t.text):t.toolUse!==void 0?r.toolUse(t.toolUse):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Gg||(Gg={}));var Vg;(e=>{e.visit=g((t,r)=>t.toolUse!==void 0?r.toolUse(t.toolUse):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Vg||(Vg={}));var vD=class hD extends Ee{constructor(t){super({name:"ModelStreamErrorException",$fault:"client",...t}),this.name="ModelStreamErrorException",this.$fault="client",Object.setPrototypeOf(this,hD.prototype),this.originalStatusCode=t.originalStatusCode,this.originalMessage=t.originalMessage}};g(vD,"ModelStreamErrorException");var yD=vD,Wg;(e=>{e.visit=g((t,r)=>t.messageStart!==void 0?r.messageStart(t.messageStart):t.contentBlockStart!==void 0?r.contentBlockStart(t.contentBlockStart):t.contentBlockDelta!==void 0?r.contentBlockDelta(t.contentBlockDelta):t.contentBlockStop!==void 0?r.contentBlockStop(t.contentBlockStop):t.messageStop!==void 0?r.messageStop(t.messageStop):t.metadata!==void 0?r.metadata(t.metadata):t.internalServerException!==void 0?r.internalServerException(t.internalServerException):t.modelStreamErrorException!==void 0?r.modelStreamErrorException(t.modelStreamErrorException):t.validationException!==void 0?r.validationException(t.validationException):t.throttlingException!==void 0?r.throttlingException(t.throttlingException):t.serviceUnavailableException!==void 0?r.serviceUnavailableException(t.serviceUnavailableException):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Wg||(Wg={}));var qoe={DISABLED:"DISABLED",ENABLED:"ENABLED"},zg;(e=>{e.visit=g((t,r)=>t.chunk!==void 0?r.chunk(t.chunk):t.internalServerException!==void 0?r.internalServerException(t.internalServerException):t.modelStreamErrorException!==void 0?r.modelStreamErrorException(t.modelStreamErrorException):t.validationException!==void 0?r.validationException(t.validationException):t.throttlingException!==void 0?r.throttlingException(t.throttlingException):t.modelTimeoutException!==void 0?r.modelTimeoutException(t.modelTimeoutException):t.serviceUnavailableException!==void 0?r.serviceUnavailableException(t.serviceUnavailableException):r._(t.$unknown[0],t.$unknown[1]),"visit")})(zg||(zg={}));var SD=g(e=>({...e,...e.failureMessage&&{failureMessage:f.SENSITIVE_STRING},...e.outputDataConfig&&{outputDataConfig:e.outputDataConfig}}),"GetAsyncInvokeResponseFilterSensitiveLog"),ED=g(e=>({...e,...e.failureMessage&&{failureMessage:f.SENSITIVE_STRING},...e.outputDataConfig&&{outputDataConfig:e.outputDataConfig}}),"AsyncInvokeSummaryFilterSensitiveLog"),CD=g(e=>({...e,...e.asyncInvokeSummaries&&{asyncInvokeSummaries:e.asyncInvokeSummaries.map(t=>ED(t))}}),"ListAsyncInvokesResponseFilterSensitiveLog"),wD=g(e=>({...e,...e.modelInput&&{modelInput:f.SENSITIVE_STRING},...e.outputDataConfig&&{outputDataConfig:e.outputDataConfig}}),"StartAsyncInvokeRequestFilterSensitiveLog"),Uoe=g(e=>{if(e.bytes!==void 0)return{bytes:e.bytes};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"GuardrailImageSourceFilterSensitiveLog"),joe=g(e=>({...e,...e.source&&{source:f.SENSITIVE_STRING}}),"GuardrailImageBlockFilterSensitiveLog"),OD=g(e=>{if(e.text!==void 0)return{text:e.text};if(e.image!==void 0)return{image:f.SENSITIVE_STRING};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"GuardrailContentBlockFilterSensitiveLog"),bD=g(e=>({...e,...e.content&&{content:e.content.map(t=>OD(t))}}),"ApplyGuardrailRequestFilterSensitiveLog"),Hoe=g(e=>{if(e.bytes!==void 0)return{bytes:e.bytes};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"GuardrailConverseImageSourceFilterSensitiveLog"),Boe=g(e=>({...e,...e.source&&{source:f.SENSITIVE_STRING}}),"GuardrailConverseImageBlockFilterSensitiveLog"),Yg=g(e=>{if(e.text!==void 0)return{text:e.text};if(e.image!==void 0)return{image:f.SENSITIVE_STRING};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"GuardrailConverseContentBlockFilterSensitiveLog"),PD=g(e=>{if(e.text!==void 0)return{text:e.text};if(e.image!==void 0)return{image:e.image};if(e.document!==void 0)return{document:e.document};if(e.video!==void 0)return{video:e.video};if(e.toolUse!==void 0)return{toolUse:e.toolUse};if(e.toolResult!==void 0)return{toolResult:e.toolResult};if(e.guardContent!==void 0)return{guardContent:Yg(e.guardContent)};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ContentBlockFilterSensitiveLog"),fd=g(e=>({...e,...e.content&&{content:e.content.map(t=>PD(t))}}),"MessageFilterSensitiveLog"),Xg=g(e=>{if(e.text!==void 0)return{text:e.text};if(e.guardContent!==void 0)return{guardContent:Yg(e.guardContent)};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"SystemContentBlockFilterSensitiveLog"),xD=g(e=>({...e,...e.messages&&{messages:e.messages.map(t=>fd(t))},...e.system&&{system:e.system.map(t=>Xg(t))},...e.toolConfig&&{toolConfig:e.toolConfig},...e.promptVariables&&{promptVariables:f.SENSITIVE_STRING},...e.requestMetadata&&{requestMetadata:f.SENSITIVE_STRING}}),"ConverseRequestFilterSensitiveLog"),RD=g(e=>{if(e.message!==void 0)return{message:fd(e.message)};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ConverseOutputFilterSensitiveLog"),AD=g(e=>({...e,...e.output&&{output:RD(e.output)}}),"ConverseResponseFilterSensitiveLog"),ID=g(e=>({...e,...e.messages&&{messages:e.messages.map(t=>fd(t))},...e.system&&{system:e.system.map(t=>Xg(t))},...e.toolConfig&&{toolConfig:e.toolConfig},...e.promptVariables&&{promptVariables:f.SENSITIVE_STRING},...e.requestMetadata&&{requestMetadata:f.SENSITIVE_STRING}}),"ConverseStreamRequestFilterSensitiveLog"),$oe=g(e=>{if(e.messageStart!==void 0)return{messageStart:e.messageStart};if(e.contentBlockStart!==void 0)return{contentBlockStart:e.contentBlockStart};if(e.contentBlockDelta!==void 0)return{contentBlockDelta:e.contentBlockDelta};if(e.contentBlockStop!==void 0)return{contentBlockStop:e.contentBlockStop};if(e.messageStop!==void 0)return{messageStop:e.messageStop};if(e.metadata!==void 0)return{metadata:e.metadata};if(e.internalServerException!==void 0)return{internalServerException:e.internalServerException};if(e.modelStreamErrorException!==void 0)return{modelStreamErrorException:e.modelStreamErrorException};if(e.validationException!==void 0)return{validationException:e.validationException};if(e.throttlingException!==void 0)return{throttlingException:e.throttlingException};if(e.serviceUnavailableException!==void 0)return{serviceUnavailableException:e.serviceUnavailableException};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ConverseStreamOutputFilterSensitiveLog"),TD=g(e=>({...e,...e.stream&&{stream:"STREAMING_CONTENT"}}),"ConverseStreamResponseFilterSensitiveLog"),ND=g(e=>({...e,...e.body&&{body:f.SENSITIVE_STRING}}),"InvokeModelRequestFilterSensitiveLog"),FD=g(e=>({...e,...e.body&&{body:f.SENSITIVE_STRING}}),"InvokeModelResponseFilterSensitiveLog"),DD=g(e=>({...e,...e.body&&{body:f.SENSITIVE_STRING}}),"InvokeModelWithResponseStreamRequestFilterSensitiveLog"),Goe=g(e=>({...e,...e.bytes&&{bytes:f.SENSITIVE_STRING}}),"PayloadPartFilterSensitiveLog"),Voe=g(e=>{if(e.chunk!==void 0)return{chunk:f.SENSITIVE_STRING};if(e.internalServerException!==void 0)return{internalServerException:e.internalServerException};if(e.modelStreamErrorException!==void 0)return{modelStreamErrorException:e.modelStreamErrorException};if(e.validationException!==void 0)return{validationException:e.validationException};if(e.throttlingException!==void 0)return{throttlingException:e.throttlingException};if(e.modelTimeoutException!==void 0)return{modelTimeoutException:e.modelTimeoutException};if(e.serviceUnavailableException!==void 0)return{serviceUnavailableException:e.serviceUnavailableException};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ResponseStreamFilterSensitiveLog"),kD=g(e=>({...e,...e.body&&{body:"STREAMING_CONTENT"}}),"InvokeModelWithResponseStreamResponseFilterSensitiveLog"),q=(ie(),N(oe)),Woe=(_p(),N(gp)),zoe=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/guardrail/{guardrailIdentifier}/version/{guardrailVersion}/apply"),r.p("guardrailIdentifier",()=>e.guardrailIdentifier,"{guardrailIdentifier}",!1),r.p("guardrailVersion",()=>e.guardrailVersion,"{guardrailVersion}",!1);let o;return o=JSON.stringify((0,f.take)(e,{content:i=>Iie(i,t),source:[]})),r.m("POST").h(n).b(o),r.build()},"se_ApplyGuardrailCommand"),Koe=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/model/{modelId}/converse"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return o=JSON.stringify((0,f.take)(e,{additionalModelRequestFields:i=>Oi(i,t),additionalModelResponseFieldPaths:i=>(0,f._json)(i),guardrailConfig:i=>(0,f._json)(i),inferenceConfig:i=>YD(i,t),messages:i=>XD(i,t),performanceConfig:i=>(0,f._json)(i),promptVariables:i=>(0,f._json)(i),requestMetadata:i=>(0,f._json)(i),system:i=>QD(i,t),toolConfig:i=>ZD(i,t)})),r.m("POST").h(n).b(o),r.build()},"se_ConverseCommand"),Joe=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/model/{modelId}/converse-stream"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return o=JSON.stringify((0,f.take)(e,{additionalModelRequestFields:i=>Oi(i,t),additionalModelResponseFieldPaths:i=>(0,f._json)(i),guardrailConfig:i=>(0,f._json)(i),inferenceConfig:i=>YD(i,t),messages:i=>XD(i,t),performanceConfig:i=>(0,f._json)(i),promptVariables:i=>(0,f._json)(i),requestMetadata:i=>(0,f._json)(i),system:i=>QD(i,t),toolConfig:i=>ZD(i,t)})),r.m("POST").h(n).b(o),r.build()},"se_ConverseStreamCommand"),Yoe=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n={};return r.bp("/async-invoke/{invocationArn}"),r.p("invocationArn",()=>e.invocationArn,"{invocationArn}",!1),r.m("GET").h(n).b(void 0),r.build()},"se_GetAsyncInvokeCommand"),Xoe=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[Qg]:e[gd]||"application/octet-stream",[Kg]:e[Kg],[pk]:e[lk],[dk]:e[ak],[uk]:e[ck],[vd]:e[_d]});r.bp("/model/{modelId}/invoke"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return e.body!==void 0&&(o=e.body),r.m("POST").h(n).b(o),r.build()},"se_InvokeModelCommand"),Qoe=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n=(0,f.map)({},f.isSerializableHeaderValue,{[Qg]:e[gd]||"application/octet-stream",[Sse]:e[Kg],[pk]:e[lk],[dk]:e[ak],[uk]:e[ck],[vd]:e[_d]});r.bp("/model/{modelId}/invoke-with-response-stream"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return e.body!==void 0&&(o=e.body),r.m("POST").h(n).b(o),r.build()},"se_InvokeModelWithResponseStreamCommand"),Zoe=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n={};r.bp("/async-invoke");let o=(0,f.map)({[NF]:[()=>e.submitTimeAfter!==void 0,()=>(0,f.serializeDateTime)(e[NF]).toString()],[FF]:[()=>e.submitTimeBefore!==void 0,()=>(0,f.serializeDateTime)(e[FF]).toString()],[IF]:[,e[IF]],[xF]:[()=>e.maxResults!==void 0,()=>e[xF].toString()],[RF]:[,e[RF]],[AF]:[,e[AF]],[TF]:[,e[TF]]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAsyncInvokesCommand"),eie=g(async(e,t)=>{let r=(0,Je.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/async-invoke");let o;return o=JSON.stringify((0,f.take)(e,{clientRequestToken:[!0,i=>i??(0,Woe.v4)()],modelId:[],modelInput:i=>Lie(i,t),outputDataConfig:i=>(0,f._json)(i),tags:i=>(0,f._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_StartAsyncInvokeCommand"),tie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,q.parseJsonBody)(e.body,t)),"body"),o=(0,f.take)(n,{action:f.expectString,assessments:i=>nk(i,t),guardrailCoverage:f._json,outputs:f._json,usage:f._json});return Object.assign(r,o),r},"de_ApplyGuardrailCommand"),rie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,q.parseJsonBody)(e.body,t)),"body"),o=(0,f.take)(n,{additionalModelResponseFields:i=>md(i,t),metrics:f._json,output:i=>Qie((0,q.awsExpectUnion)(i),t),performanceConfig:f._json,stopReason:f.expectString,trace:i=>tse(i,t),usage:f._json});return Object.assign(r,o),r},"de_ConverseCommand"),nie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e)}),n=e.body;return r.stream=_ie(n,t),r},"de_ConverseStreamCommand"),oie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,q.parseJsonBody)(e.body,t)),"body"),o=(0,f.take)(n,{clientRequestToken:f.expectString,endTime:i=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(i)),failureMessage:f.expectString,invocationArn:f.expectString,lastModifiedTime:i=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(i)),modelArn:f.expectString,outputDataConfig:i=>(0,f._json)((0,q.awsExpectUnion)(i)),status:f.expectString,submitTime:i=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(i))});return Object.assign(r,o),r},"de_GetAsyncInvokeCommand"),iie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e),[gd]:[,e.headers[Qg]],[_d]:[,e.headers[vd]]}),n=await(0,f.collectBody)(e.body,t);return r.body=n,r},"de_InvokeModelCommand"),sie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e),[gd]:[,e.headers[Ese]],[_d]:[,e.headers[vd]]}),n=e.body;return r.body=vie(n,t),r},"de_InvokeModelWithResponseStreamCommand"),aie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,q.parseJsonBody)(e.body,t)),"body"),o=(0,f.take)(n,{asyncInvokeSummaries:i=>Kie(i,t),nextToken:f.expectString});return Object.assign(r,o),r},"de_ListAsyncInvokesCommand"),cie=g(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fr(e,t);let r=(0,f.map)({$metadata:re(e)}),n=(0,f.expectNonNull)((0,f.expectObject)(await(0,q.parseJsonBody)(e.body,t)),"body"),o=(0,f.take)(n,{invocationArn:f.expectString});return Object.assign(r,o),r},"de_StartAsyncInvokeCommand"),fr=g(async(e,t)=>{let r={...e,body:await(0,q.parseJsonErrorBody)(e.body,t)},n=(0,q.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.bedrockruntime#AccessDeniedException":throw await die(r,t);case"InternalServerException":case"com.amazonaws.bedrockruntime#InternalServerException":throw await MD(r,t);case"ResourceNotFoundException":case"com.amazonaws.bedrockruntime#ResourceNotFoundException":throw await mie(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.bedrockruntime#ServiceQuotaExceededException":throw await gie(r,t);case"ThrottlingException":case"com.amazonaws.bedrockruntime#ThrottlingException":throw await jD(r,t);case"ValidationException":case"com.amazonaws.bedrockruntime#ValidationException":throw await HD(r,t);case"ModelErrorException":case"com.amazonaws.bedrockruntime#ModelErrorException":throw await pie(r,t);case"ModelNotReadyException":case"com.amazonaws.bedrockruntime#ModelNotReadyException":throw await fie(r,t);case"ModelTimeoutException":case"com.amazonaws.bedrockruntime#ModelTimeoutException":throw await qD(r,t);case"ServiceUnavailableException":case"com.amazonaws.bedrockruntime#ServiceUnavailableException":throw await UD(r,t);case"ModelStreamErrorException":case"com.amazonaws.bedrockruntime#ModelStreamErrorException":throw await LD(r,t);case"ConflictException":case"com.amazonaws.bedrockruntime#ConflictException":throw await uie(r,t);default:let o=r.body;return lie({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),lie=(0,f.withBaseException)(Ee),die=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new jF({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),uie=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new QF({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ConflictExceptionRes"),MD=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new $F({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),pie=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString,originalStatusCode:f.expectInt32,resourceName:f.expectString});Object.assign(r,o);let i=new dD({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ModelErrorExceptionRes"),fie=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new fD({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ModelNotReadyExceptionRes"),LD=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString,originalMessage:f.expectString,originalStatusCode:f.expectInt32});Object.assign(r,o);let i=new yD({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ModelStreamErrorExceptionRes"),qD=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new _D({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ModelTimeoutExceptionRes"),mie=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new tD({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),gie=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new oD({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ServiceQuotaExceededExceptionRes"),UD=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new aD({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ServiceUnavailableExceptionRes"),jD=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new WF({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ThrottlingExceptionRes"),HD=g(async(e,t)=>{let r=(0,f.map)({}),n=e.body,o=(0,f.take)(n,{message:f.expectString});Object.assign(r,o);let i=new JF({$metadata:re(e),...r});return(0,f.decorateServiceException)(i,e.body)},"de_ValidationExceptionRes"),_ie=g((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.messageStart!=null?{messageStart:await Cie(r.messageStart,t)}:r.contentBlockStart!=null?{contentBlockStart:await yie(r.contentBlockStart,t)}:r.contentBlockDelta!=null?{contentBlockDelta:await hie(r.contentBlockDelta,t)}:r.contentBlockStop!=null?{contentBlockStop:await Sie(r.contentBlockStop,t)}:r.messageStop!=null?{messageStop:await wie(r.messageStop,t)}:r.metadata!=null?{metadata:await Eie(r.metadata,t)}:r.internalServerException!=null?{internalServerException:await BD(r.internalServerException,t)}:r.modelStreamErrorException!=null?{modelStreamErrorException:await $D(r.modelStreamErrorException,t)}:r.validationException!=null?{validationException:await WD(r.validationException,t)}:r.throttlingException!=null?{throttlingException:await VD(r.throttlingException,t)}:r.serviceUnavailableException!=null?{serviceUnavailableException:await GD(r.serviceUnavailableException,t)}:{$unknown:e}),"de_ConverseStreamOutput"),vie=g((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.chunk!=null?{chunk:await bie(r.chunk,t)}:r.internalServerException!=null?{internalServerException:await BD(r.internalServerException,t)}:r.modelStreamErrorException!=null?{modelStreamErrorException:await $D(r.modelStreamErrorException,t)}:r.validationException!=null?{validationException:await WD(r.validationException,t)}:r.throttlingException!=null?{throttlingException:await VD(r.throttlingException,t)}:r.modelTimeoutException!=null?{modelTimeoutException:await Oie(r.modelTimeoutException,t)}:r.serviceUnavailableException!=null?{serviceUnavailableException:await GD(r.serviceUnavailableException,t)}:{$unknown:e}),"de_ResponseStream"),hie=g(async(e,t)=>{let r={},n=await(0,q.parseJsonBody)(e.body,t);return Object.assign(r,(0,f._json)(n)),r},"de_ContentBlockDeltaEvent_event"),yie=g(async(e,t)=>{let r={},n=await(0,q.parseJsonBody)(e.body,t);return Object.assign(r,(0,f._json)(n)),r},"de_ContentBlockStartEvent_event"),Sie=g(async(e,t)=>{let r={},n=await(0,q.parseJsonBody)(e.body,t);return Object.assign(r,(0,f._json)(n)),r},"de_ContentBlockStopEvent_event"),Eie=g(async(e,t)=>{let r={},n=await(0,q.parseJsonBody)(e.body,t);return Object.assign(r,Zie(n,t)),r},"de_ConverseStreamMetadataEvent_event"),BD=g(async(e,t)=>{let r={...e,body:await(0,q.parseJsonBody)(e.body,t)};return MD(r,t)},"de_InternalServerException_event"),Cie=g(async(e,t)=>{let r={},n=await(0,q.parseJsonBody)(e.body,t);return Object.assign(r,(0,f._json)(n)),r},"de_MessageStartEvent_event"),wie=g(async(e,t)=>{let r={},n=await(0,q.parseJsonBody)(e.body,t);return Object.assign(r,fse(n,t)),r},"de_MessageStopEvent_event"),$D=g(async(e,t)=>{let r={...e,body:await(0,q.parseJsonBody)(e.body,t)};return LD(r,t)},"de_ModelStreamErrorException_event"),Oie=g(async(e,t)=>{let r={...e,body:await(0,q.parseJsonBody)(e.body,t)};return qD(r,t)},"de_ModelTimeoutException_event"),bie=g(async(e,t)=>{let r={},n=await(0,q.parseJsonBody)(e.body,t);return Object.assign(r,mse(n,t)),r},"de_PayloadPart_event"),GD=g(async(e,t)=>{let r={...e,body:await(0,q.parseJsonBody)(e.body,t)};return UD(r,t)},"de_ServiceUnavailableException_event"),VD=g(async(e,t)=>{let r={...e,body:await(0,q.parseJsonBody)(e.body,t)};return jD(r,t)},"de_ThrottlingException_event"),WD=g(async(e,t)=>{let r={...e,body:await(0,q.parseJsonBody)(e.body,t)};return HD(r,t)},"de_ValidationException_event"),Pie=g((e,t)=>cd.visit(e,{document:r=>({document:zD(r,t)}),guardContent:r=>({guardContent:KD(r,t)}),image:r=>({image:JD(r,t)}),text:r=>({text:r}),toolResult:r=>({toolResult:Hie(r,t)}),toolUse:r=>({toolUse:Wie(r,t)}),video:r=>({video:ek(r,t)}),_:(r,n)=>({name:n})}),"se_ContentBlock"),xie=g((e,t)=>e.filter(r=>r!=null).map(r=>Pie(r,t)),"se_ContentBlocks"),zD=g((e,t)=>(0,f.take)(e,{format:[],name:[],source:r=>Rie(r,t)}),"se_DocumentBlock"),Rie=g((e,t)=>rd.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),_:(r,n)=>({name:n})}),"se_DocumentSource"),Aie=g((e,t)=>td.visit(e,{image:r=>({image:Fie(r,t)}),text:r=>({text:(0,f._json)(r)}),_:(r,n)=>({name:n})}),"se_GuardrailContentBlock"),Iie=g((e,t)=>e.filter(r=>r!=null).map(r=>Aie(r,t)),"se_GuardrailContentBlockList"),KD=g((e,t)=>od.visit(e,{image:r=>({image:Tie(r,t)}),text:r=>({text:(0,f._json)(r)}),_:(r,n)=>({name:n})}),"se_GuardrailConverseContentBlock"),Tie=g((e,t)=>(0,f.take)(e,{format:[],source:r=>Nie(r,t)}),"se_GuardrailConverseImageBlock"),Nie=g((e,t)=>nd.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),_:(r,n)=>({name:n})}),"se_GuardrailConverseImageSource"),Fie=g((e,t)=>(0,f.take)(e,{format:[],source:r=>Die(r,t)}),"se_GuardrailImageBlock"),Die=g((e,t)=>ed.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),_:(r,n)=>({name:n})}),"se_GuardrailImageSource"),JD=g((e,t)=>(0,f.take)(e,{format:[],source:r=>kie(r,t)}),"se_ImageBlock"),kie=g((e,t)=>id.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),_:(r,n)=>({name:n})}),"se_ImageSource"),YD=g((e,t)=>(0,f.take)(e,{maxTokens:[],stopSequences:f._json,temperature:f.serializeFloat,topP:f.serializeFloat}),"se_InferenceConfiguration"),Mie=g((e,t)=>(0,f.take)(e,{content:r=>xie(r,t),role:[]}),"se_Message"),XD=g((e,t)=>e.filter(r=>r!=null).map(r=>Mie(r,t)),"se_Messages"),Lie=g((e,t)=>e,"se_ModelInputPayload"),qie=g((e,t)=>ld.visit(e,{guardContent:r=>({guardContent:KD(r,t)}),text:r=>({text:r}),_:(r,n)=>({name:n})}),"se_SystemContentBlock"),QD=g((e,t)=>e.filter(r=>r!=null).map(r=>qie(r,t)),"se_SystemContentBlocks"),Uie=g((e,t)=>ud.visit(e,{toolSpec:r=>({toolSpec:Vie(r,t)}),_:(r,n)=>({name:n})}),"se_Tool"),ZD=g((e,t)=>(0,f.take)(e,{toolChoice:f._json,tools:r=>Gie(r,t)}),"se_ToolConfiguration"),jie=g((e,t)=>dd.visit(e,{json:r=>({json:Oi(r,t)}),_:(r,n)=>({name:n})}),"se_ToolInputSchema"),Hie=g((e,t)=>(0,f.take)(e,{content:r=>$ie(r,t),status:[],toolUseId:[]}),"se_ToolResultBlock"),Bie=g((e,t)=>ad.visit(e,{document:r=>({document:zD(r,t)}),image:r=>({image:JD(r,t)}),json:r=>({json:Oi(r,t)}),text:r=>({text:r}),video:r=>({video:ek(r,t)}),_:(r,n)=>({name:n})}),"se_ToolResultContentBlock"),$ie=g((e,t)=>e.filter(r=>r!=null).map(r=>Bie(r,t)),"se_ToolResultContentBlocks"),Gie=g((e,t)=>e.filter(r=>r!=null).map(r=>Uie(r,t)),"se_Tools"),Vie=g((e,t)=>(0,f.take)(e,{description:[],inputSchema:r=>jie(r,t),name:[]}),"se_ToolSpecification"),Wie=g((e,t)=>(0,f.take)(e,{input:r=>Oi(r,t),name:[],toolUseId:[]}),"se_ToolUseBlock"),ek=g((e,t)=>(0,f.take)(e,{format:[],source:r=>zie(r,t)}),"se_VideoBlock"),zie=g((e,t)=>sd.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),s3Location:r=>({s3Location:(0,f._json)(r)}),_:(r,n)=>({name:n})}),"se_VideoSource"),Oi=g((e,t)=>e,"se_Document"),Kie=g((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Jie(n,t)),"de_AsyncInvokeSummaries"),Jie=g((e,t)=>(0,f.take)(e,{clientRequestToken:f.expectString,endTime:r=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(r)),failureMessage:f.expectString,invocationArn:f.expectString,lastModifiedTime:r=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(r)),modelArn:f.expectString,outputDataConfig:r=>(0,f._json)((0,q.awsExpectUnion)(r)),status:f.expectString,submitTime:r=>(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(r))}),"de_AsyncInvokeSummary"),Yie=g((e,t)=>e.document!=null?{document:tk(e.document,t)}:e.guardContent!=null?{guardContent:cse((0,q.awsExpectUnion)(e.guardContent),t)}:e.image!=null?{image:ik(e.image,t)}:(0,f.expectString)(e.text)!==void 0?{text:(0,f.expectString)(e.text)}:e.toolResult!=null?{toolResult:gse(e.toolResult,t)}:e.toolUse!=null?{toolUse:hse(e.toolUse,t)}:e.video!=null?{video:sk(e.video,t)}:{$unknown:Object.entries(e)[0]},"de_ContentBlock"),Xie=g((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Yie((0,q.awsExpectUnion)(n),t)),"de_ContentBlocks"),Qie=g((e,t)=>e.message!=null?{message:pse(e.message,t)}:{$unknown:Object.entries(e)[0]},"de_ConverseOutput"),Zie=g((e,t)=>(0,f.take)(e,{metrics:f._json,performanceConfig:f._json,trace:r=>ese(r,t),usage:f._json}),"de_ConverseStreamMetadataEvent"),ese=g((e,t)=>(0,f.take)(e,{guardrail:r=>ok(r,t),promptRouter:f._json}),"de_ConverseStreamTrace"),tse=g((e,t)=>(0,f.take)(e,{guardrail:r=>ok(r,t),promptRouter:f._json}),"de_ConverseTrace"),tk=g((e,t)=>(0,f.take)(e,{format:f.expectString,name:f.expectString,source:r=>rse((0,q.awsExpectUnion)(r),t)}),"de_DocumentBlock"),rse=g((e,t)=>e.bytes!=null?{bytes:t.base64Decoder(e.bytes)}:{$unknown:Object.entries(e)[0]},"de_DocumentSource"),rk=g((e,t)=>(0,f.take)(e,{contentPolicy:f._json,contextualGroundingPolicy:r=>ase(r,t),invocationMetrics:f._json,sensitiveInformationPolicy:f._json,topicPolicy:f._json,wordPolicy:f._json}),"de_GuardrailAssessment"),nk=g((e,t)=>(e||[]).filter(n=>n!=null).map(n=>rk(n,t)),"de_GuardrailAssessmentList"),nse=g((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=nk(o,t)),r),{}),"de_GuardrailAssessmentListMap"),ose=g((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=rk(o,t)),r),{}),"de_GuardrailAssessmentMap"),ise=g((e,t)=>(0,f.take)(e,{action:f.expectString,score:f.limitedParseDouble,threshold:f.limitedParseDouble,type:f.expectString}),"de_GuardrailContextualGroundingFilter"),sse=g((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ise(n,t)),"de_GuardrailContextualGroundingFilters"),ase=g((e,t)=>(0,f.take)(e,{filters:r=>sse(r,t)}),"de_GuardrailContextualGroundingPolicyAssessment"),cse=g((e,t)=>e.image!=null?{image:lse(e.image,t)}:e.text!=null?{text:(0,f._json)(e.text)}:{$unknown:Object.entries(e)[0]},"de_GuardrailConverseContentBlock"),lse=g((e,t)=>(0,f.take)(e,{format:f.expectString,source:r=>dse((0,q.awsExpectUnion)(r),t)}),"de_GuardrailConverseImageBlock"),dse=g((e,t)=>e.bytes!=null?{bytes:t.base64Decoder(e.bytes)}:{$unknown:Object.entries(e)[0]},"de_GuardrailConverseImageSource"),ok=g((e,t)=>(0,f.take)(e,{inputAssessment:r=>ose(r,t),modelOutput:f._json,outputAssessments:r=>nse(r,t)}),"de_GuardrailTraceAssessment"),ik=g((e,t)=>(0,f.take)(e,{format:f.expectString,source:r=>use((0,q.awsExpectUnion)(r),t)}),"de_ImageBlock"),use=g((e,t)=>e.bytes!=null?{bytes:t.base64Decoder(e.bytes)}:{$unknown:Object.entries(e)[0]},"de_ImageSource"),pse=g((e,t)=>(0,f.take)(e,{content:r=>Xie(r,t),role:f.expectString}),"de_Message"),fse=g((e,t)=>(0,f.take)(e,{additionalModelResponseFields:r=>md(r,t),stopReason:f.expectString}),"de_MessageStopEvent"),mse=g((e,t)=>(0,f.take)(e,{bytes:t.base64Decoder}),"de_PayloadPart"),gse=g((e,t)=>(0,f.take)(e,{content:r=>vse(r,t),status:f.expectString,toolUseId:f.expectString}),"de_ToolResultBlock"),_se=g((e,t)=>e.document!=null?{document:tk(e.document,t)}:e.image!=null?{image:ik(e.image,t)}:e.json!=null?{json:md(e.json,t)}:(0,f.expectString)(e.text)!==void 0?{text:(0,f.expectString)(e.text)}:e.video!=null?{video:sk(e.video,t)}:{$unknown:Object.entries(e)[0]},"de_ToolResultContentBlock"),vse=g((e,t)=>(e||[]).filter(n=>n!=null).map(n=>_se((0,q.awsExpectUnion)(n),t)),"de_ToolResultContentBlocks"),hse=g((e,t)=>(0,f.take)(e,{input:r=>md(r,t),name:f.expectString,toolUseId:f.expectString}),"de_ToolUseBlock"),sk=g((e,t)=>(0,f.take)(e,{format:f.expectString,source:r=>yse((0,q.awsExpectUnion)(r),t)}),"de_VideoBlock"),yse=g((e,t)=>e.bytes!=null?{bytes:t.base64Decoder(e.bytes)}:e.s3Location!=null?{s3Location:(0,f._json)(e.s3Location)}:{$unknown:Object.entries(e)[0]},"de_VideoSource"),md=g((e,t)=>e,"de_Document"),re=g(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Kg="accept",gd="contentType",Qg="content-type",ak="guardrailIdentifier",ck="guardrailVersion",xF="maxResults",RF="nextToken",_d="performanceConfigLatency",AF="sortBy",IF="statusEquals",TF="sortOrder",NF="submitTimeAfter",FF="submitTimeBefore",lk="trace",Sse="x-amzn-bedrock-accept",Ese="x-amzn-bedrock-content-type",dk="x-amzn-bedrock-guardrailidentifier",uk="x-amzn-bedrock-guardrailversion",vd="x-amzn-bedrock-performanceconfig-latency",pk="x-amzn-bedrock-trace",fk=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ApplyGuardrail",{}).n("BedrockRuntimeClient","ApplyGuardrailCommand").f(bD,void 0).ser(zoe).de(tie).build(){};g(fk,"ApplyGuardrailCommand");var mk=fk,gk=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","Converse",{}).n("BedrockRuntimeClient","ConverseCommand").f(xD,AD).ser(Koe).de(rie).build(){};g(gk,"ConverseCommand");var _k=gk,vk=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ConverseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","ConverseStreamCommand").f(ID,TD).ser(Joe).de(nie).build(){};g(vk,"ConverseStreamCommand");var hk=vk,yk=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","GetAsyncInvoke",{}).n("BedrockRuntimeClient","GetAsyncInvokeCommand").f(void 0,SD).ser(Yoe).de(oie).build(){};g(yk,"GetAsyncInvokeCommand");var Sk=yk,Ek=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModel",{}).n("BedrockRuntimeClient","InvokeModelCommand").f(ND,FD).ser(Xoe).de(iie).build(){};g(Ek,"InvokeModelCommand");var Ck=Ek,wk=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModelWithResponseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","InvokeModelWithResponseStreamCommand").f(DD,kD).ser(Qoe).de(sie).build(){};g(wk,"InvokeModelWithResponseStreamCommand");var Ok=wk,bk=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ListAsyncInvokes",{}).n("BedrockRuntimeClient","ListAsyncInvokesCommand").f(void 0,CD).ser(Zoe).de(aie).build(){};g(bk,"ListAsyncInvokesCommand");var Zg=bk,Pk=class extends f.Command.classBuilder().ep(ur).m(function(t,r,n,o){return[(0,pr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ht.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","StartAsyncInvoke",{}).n("BedrockRuntimeClient","StartAsyncInvokeCommand").f(wD,void 0).ser(eie).de(cie).build(){};g(Pk,"StartAsyncInvokeCommand");var xk=Pk,Cse={ApplyGuardrailCommand:mk,ConverseCommand:_k,ConverseStreamCommand:hk,GetAsyncInvokeCommand:Sk,InvokeModelCommand:Ck,InvokeModelWithResponseStreamCommand:Ok,ListAsyncInvokesCommand:Zg,StartAsyncInvokeCommand:xk},Rk=class extends Jg{};g(Rk,"BedrockRuntime");var Ak=Rk;(0,f.createAggregatedClient)(Cse,Ak);var wse=(0,Je.createPaginator)(Jg,Zg,"nextToken","nextToken","maxResults")});l();var hd=K(Tk(),1),Ose="anthropic.claude-3-haiku-20240307-v1:0",jhe=awslambda.streamifyResponse(async(e,t,r)=>{let n=new hd.BedrockRuntimeClient({region:"us-east-1"}),o={anthropic_version:"bedrock-2023-05-31",max_tokens:1e3,messages:[{role:"user",content:[{type:"text",text:e.prompt}]}]},i=new hd.InvokeModelWithResponseStreamCommand({contentType:"application/json",body:JSON.stringify(o),modelId:Ose}),a=await n.send(i);if(a.body)for await(let s of a.body)if(s.chunk){let c=JSON.parse(new TextDecoder().decode(s.chunk.bytes));if(c.type==="content_block_delta"){let u=c.delta.text;t.write(u)}}else{if(s.internalServerException)throw s.internalServerException;if(s.modelStreamErrorException)throw s.modelStreamErrorException;if(s.throttlingException)throw s.throttlingException;if(s.validationException)throw s.validationException}t.end()});export{jhe as handler};
//# sourceMappingURL=index.mjs.map
